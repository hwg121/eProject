import{j as e}from"./ui-DFK0He6I.js";import{r as t}from"./react-vendor-Dr4n66tC.js";import{D as i}from"./DetailPage-CFkc58sS.js";import{L as s}from"./index-DfWL7mZo.js";import{f as n}from"./slug-BijzlL0q.js";import{p as l}from"./api-CcJwR1Xd.js";import{c as o,a as r}from"./router-bS1xvxPY.js";const a=()=>{const{slug:a}=o(),d=r(),[c,m]=t.useState(null),[p,u]=t.useState(!0),[g,h]=t.useState(null);return t.useEffect(()=>{var e;a&&(e=function*(){var e;try{u(!0);try{const t=yield l.getVideos(),i=n(t,a,"slug","title");if(i){const t={id:(null==(e=i.id)?void 0:e.toString())||a,title:i.title||"Untitled Video",description:i.description||"No description available.",content:i.content||i.transcript||"\n                <h2>Video Content</h2>\n                <p>This video covers important gardening techniques and tips.</p>\n              ",author:i.author||i.instructor||"Unknown Author",publishedAt:i.published_at||i.created_at||(new Date).toISOString(),tags:i.tags||i.categories||["General"],imageUrl:i.thumbnail||i.imageUrl||"https://images.pexels.com/photos/416978/pexels-photo-416978.jpeg",views:i.views||0,likes:i.likes||0,duration:i.duration||"12:30",videoUrl:i.embed_url||i.video_url||"https://example.com/video.mp4"};return void m(t)}}catch(t){return void h("Failed to load video from server")}h("Video not found")}catch(i){h("Failed to load video")}finally{u(!1)}},new Promise((t,i)=>{var s=t=>{try{l(e.next(t))}catch(s){i(s)}},n=t=>{try{l(e.throw(t))}catch(s){i(s)}},l=e=>e.done?t(e.value):Promise.resolve(e.value).then(s,n);l((e=e.apply(void 0,null)).next())}))},[a]),p?e.jsx(s,{}):g||!c?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-emerald-800 mb-4",children:"Video not found"}),e.jsx("button",{onClick:()=>d("/videos"),className:"px-6 py-3 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors",children:"Back to Videos"})]})}):e.jsx(i,{type:"video",title:c.title,description:c.description,content:`\n        <h2>Video Information</h2>\n        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">\n          <div>\n            <h3 class="text-xl font-semibold mb-4">Basic Details</h3>\n            <ul class="space-y-2">\n              <li><strong>Instructor:</strong> ${c.author}</li>\n              <li><strong>Duration:</strong> ${c.duration}</li>\n              <li><strong>Views:</strong> ${c.views.toLocaleString()}</li>\n              <li><strong>Likes:</strong> ${c.likes.toLocaleString()}</li>\n            </ul>\n          </div>\n          <div>\n            <h3 class="text-xl font-semibold mb-4">Video Stats</h3>\n            <ul class="space-y-2">\n              <li><strong>Published:</strong> ${new Date(c.publishedAt).toLocaleDateString()}</li>\n              <li><strong>Category:</strong> Gardening Tutorial</li>\n              <li><strong>Difficulty:</strong> All Levels</li>\n              <li><strong>Language:</strong> English</li>\n            </ul>\n          </div>\n        </div>\n        \n        <h3 class="text-xl font-semibold mb-4">Video Description</h3>\n        <p class="mb-6">${c.description}</p>\n        \n        <h3 class="text-xl font-semibold mb-4">What You'll Learn</h3>\n        <ul class="space-y-2 mb-6">\n          <li class="flex items-center"><span class="text-emerald-600 mr-2">✓</span>Step-by-step gardening techniques</li>\n          <li class="flex items-center"><span class="text-emerald-600 mr-2">✓</span>Visual demonstrations and examples</li>\n          <li class="flex items-center"><span class="text-emerald-600 mr-2">✓</span>Professional tips and tricks</li>\n          <li class="flex items-center"><span class="text-emerald-600 mr-2">✓</span>Common mistakes to avoid</li>\n        </ul>\n      `,author:c.author,publishedAt:c.publishedAt,tags:c.tags,imageUrl:c.imageUrl,views:0,likes:c.likes||0,backUrl:"/videos",rating:0,contentId:parseInt(c.id),duration:c.duration,relatedContent:[{id:"2",title:"Organic Soil Preparation",type:"video",slug:"organic-soil-preparation"},{id:"3",title:"Pruning Techniques",type:"video",slug:"pruning-techniques"},{id:"4",title:"Watering Systems",type:"video",slug:"watering-systems"}]})};export{a as default};
