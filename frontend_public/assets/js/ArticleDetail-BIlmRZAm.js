import{j as e,m as t}from"./ui-DFK0He6I.js";import{r as a}from"./react-vendor-Dr4n66tC.js";import{D as i}from"./DetailPage-CFkc58sS.js";import{p as r}from"./api-CcJwR1Xd.js";import{L as l}from"./index-DfWL7mZo.js";import{f as n}from"./slug-BijzlL0q.js";import{c as o,a as s}from"./router-bS1xvxPY.js";const c=()=>{const{slug:c}=o(),d=s(),[p,m]=a.useState(null),[u,h]=a.useState(!0),[g,x]=a.useState(null);return a.useEffect(()=>{var e;c&&(e=function*(){var e,t;try{h(!0);try{const a=yield r.getArticles(),i=n(a,c,"slug","title");if(i){const a={id:(null==(e=i.id)?void 0:e.toString())||c,title:i.title||"Untitled Article",content:i.body||i.content||"<p>No content available.</p>",excerpt:i.excerpt||i.description||"No description available.",author:(null==(t=i.author)?void 0:t.name)||i.author||"Unknown Author",publishedAt:i.published_at||i.created_at||(new Date).toISOString(),tags:i.tags||i.categories||["General"],imageUrl:i.image||i.imageUrl||"https://images.pexels.com/photos/1301856/pexels-photo-1301856.jpeg",views:i.views||0,likes:i.likes||0,category:i.category||"General"};return void m(a)}}catch(a){return void x("Failed to load article from server")}x("Article not found")}catch(i){x("Failed to load article")}finally{h(!1)}},new Promise((t,a)=>{var i=t=>{try{l(e.next(t))}catch(i){a(i)}},r=t=>{try{l(e.throw(t))}catch(i){a(i)}},l=e=>e.done?t(e.value):Promise.resolve(e.value).then(i,r);l((e=e.apply(void 0,null)).next())}))},[c]),u?e.jsx(l,{}):g||!p?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-emerald-800 mb-4",children:"Article not found"}),e.jsx("button",{onClick:()=>d("/techniques"),className:"px-6 py-3 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors",children:"Back to Articles"})]})}):e.jsx(i,{type:"article",title:p.title,description:p.excerpt,content:p.content,author:p.author,publishedAt:p.publishedAt,tags:p.tags,imageUrl:p.imageUrl,views:0,likes:p.likes||0,backUrl:"/techniques",rating:0,contentId:parseInt(p.id),category:p.category,relatedContent:[{id:"2",title:"Container Gardening for Beginners",type:"article",slug:"container-gardening-for-beginners"},{id:"3",title:"Seasonal Planting Calendar",type:"article",slug:"seasonal-planting-calendar"},{id:"4",title:"Organic Pest Control Methods",type:"article",slug:"organic-pest-control-methods"}],children:e.jsx(t.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.5},children:e.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 p-6 rounded-2xl",children:[e.jsx("h3",{className:"text-xl font-bold text-emerald-800 mb-4",children:"Key Takeaways"}),e.jsxs("ul",{className:"space-y-2 text-emerald-700",children:[e.jsx("li",{children:"• Start with healthy soil preparation"}),e.jsx("li",{children:"• Use companion planting for natural pest control"}),e.jsx("li",{children:"• Compost regularly to maintain soil fertility"}),e.jsx("li",{children:"• Choose plants suited to your climate zone"})]})]})})})};export{c as default};
