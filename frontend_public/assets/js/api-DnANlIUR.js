var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,s=(t,s)=>{for(var o in s||(s={}))n.call(s,o)&&i(t,o,s[o]);if(e)for(var o of e(s))r.call(s,o)&&i(t,o,s[o]);return t},o=(t,e,n)=>new Promise((r,i)=>{var s=t=>{try{u(n.next(t))}catch(e){i(e)}},o=t=>{try{u(n.throw(t))}catch(e){i(e)}},u=t=>t.done?r(t.value):Promise.resolve(t.value).then(s,o);u((n=n.apply(t,e)).next())});const u=new class{constructor(t){this.token=null,this.baseURL=t,this.token=localStorage.getItem("auth_token")}request(t){return o(this,arguments,function*(t,e={}){const n=`${this.baseURL}${t}`,r=s({headers:s(s({"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},this.token&&{Authorization:"Bearer "+this.token}),e.headers)},e);try{const t=yield fetch(n,r);if(!t.ok){if(401===t.status)throw this.logout(),Error("Unauthorized");throw Error("HTTP error! status: "+t.status)}const e=yield t.json();return e&&"object"==typeof e&&"data"in e?e.data:e}catch(i){throw i}})}setToken(t){this.token=t,localStorage.setItem("auth_token",t)}logout(){this.token=null,localStorage.removeItem("auth_token"),localStorage.removeItem("greengroves_user")}login(t,e){return o(this,null,function*(){throw Error("Demo mode - API not available")})}logout_api(){return o(this,null,function*(){yield this.request("/auth/logout",{method:"POST"}),this.logout()})}getUser(){return o(this,null,function*(){return this.request("/auth/user")})}getDashboardStats(){return o(this,null,function*(){return this.request("/admin/dashboard/stats")})}getArticles(t){return o(this,null,function*(){const e=new URLSearchParams;return t&&Object.entries(t).forEach(([t,n])=>{void 0!==n&&""!==n&&e.append(t,n.toString())}),this.request("/admin/articles?"+e)})}getArticle(t){return o(this,null,function*(){return this.request("/admin/articles/"+t)})}createArticle(t){return o(this,null,function*(){return this.request("/admin/articles",{method:"POST",body:JSON.stringify(t)})})}updateArticle(t,e){return o(this,null,function*(){return this.request("/admin/articles/"+t,{method:"PUT",body:JSON.stringify(e)})})}deleteArticle(t){return o(this,null,function*(){return this.request("/admin/articles/"+t,{method:"DELETE"})})}getVideos(t){return o(this,null,function*(){const e=new URLSearchParams;return t&&Object.entries(t).forEach(([t,n])=>{void 0!==n&&""!==n&&e.append(t,n.toString())}),this.request("/admin/videos?"+e)})}getVideo(t){return o(this,null,function*(){return this.request("/admin/videos/"+t)})}createVideo(t){return o(this,null,function*(){return this.request("/admin/videos",{method:"POST",body:JSON.stringify(t)})})}updateVideo(t,e){return o(this,null,function*(){return this.request("/admin/videos/"+t,{method:"PUT",body:JSON.stringify(e)})})}deleteVideo(t){return o(this,null,function*(){return this.request("/admin/videos/"+t,{method:"DELETE"})})}getSiteSettings(){return o(this,null,function*(){return this.request("/admin/settings")})}updateSiteSettings(t){return o(this,null,function*(){return this.request("/admin/settings",{method:"PUT",body:JSON.stringify(t)})})}uploadFile(t,e="image"){return o(this,null,function*(){const n=new FormData;return n.append("file",t),n.append("type",e),this.request("/admin/upload",{method:"POST",body:n,headers:s({},this.token&&{Authorization:"Bearer "+this.token})})})}getPublicArticles(){return o(this,null,function*(){try{return yield this.request("/articles")}catch(t){const e=[{id:1,title:"Cách trồng cây xanh trong nhà",body:"Hướng dẫn chi tiết về cách trồng và chăm sóc cây xanh trong nhà...",excerpt:"Học cách trồng cây xanh trong nhà một cách hiệu quả",image:"/image.png",category:"Trồng trọt",tags:["cây xanh","trồng trọt","nhà"],created_at:"2025-09-25T00:00:00Z",updated_at:"2025-09-25T00:00:00Z"},{id:2,title:"Kỹ thuật tưới nước cho cây",body:"Các phương pháp tưới nước hiệu quả cho từng loại cây...",excerpt:"Tìm hiểu cách tưới nước đúng cách cho cây trồng",image:"/image.png",category:"Chăm sóc",tags:["tưới nước","chăm sóc","kỹ thuật"],created_at:"2025-09-24T00:00:00Z",updated_at:"2025-09-24T00:00:00Z"}];return Promise.resolve(e)}})}getPublicVideos(){return o(this,null,function*(){try{return yield this.request("/videos")}catch(t){const e=[{id:1,title:"Hướng dẫn trồng cây từ A-Z",description:"Video hướng dẫn chi tiết cách trồng cây từ bước đầu",embed_url:"https://www.youtube.com/embed/dQw4w9WgXcQ",thumbnail:"/image.png",created_at:"2025-09-25T00:00:00Z"},{id:2,title:"Cách chăm sóc cây cảnh",description:"Bí quyết chăm sóc cây cảnh luôn xanh tươi",embed_url:"https://www.youtube.com/embed/dQw4w9WgXcQ",thumbnail:"/image.png",created_at:"2025-09-24T00:00:00Z"}];return Promise.resolve(e)}})}getPublicTools(){return o(this,null,function*(){try{return yield this.request("/tools")}catch(t){const e=[{id:1,name:"Xẻng trồng cây",description:"Xẻng chuyên dụng để trồng cây, làm từ thép không gỉ",slug:"xeng-trong-cay",video_url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",images_json:'["/image.png"]'},{id:2,name:"Bình tưới nước",description:"Bình tưới nước 2 lít với vòi phun đa dạng",slug:"binh-tuoi-nuoc",video_url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",images_json:'["/image.png"]'}];return Promise.resolve(e)}})}getPublicBooks(){return o(this,null,function*(){try{return yield this.request("/books")}catch(t){const e=[{id:1,title:"Nghệ thuật trồng cây",author:"Nguyễn Văn A",description:"Cuốn sách hướng dẫn chi tiết về nghệ thuật trồng cây",price:2e5,image:"/image.png",pages:300,published_year:2024},{id:2,title:"Cây cảnh trong nhà",author:"Trần Thị B",description:"Hướng dẫn chọn và chăm sóc cây cảnh trong nhà",price:15e4,image:"/image.png",pages:250,published_year:2023}];return Promise.resolve(e)}})}getPublicEssentials(){return o(this,null,function*(){try{return yield this.request("/essentials")}catch(t){const e=[{id:1,name:"Phân bón hữu cơ",description:"Phân bón hữu cơ tự nhiên cho cây trồng",price:5e4,image:"/image.png",category:"Fertilizer"},{id:2,name:"Đất trồng cây",description:"Đất trồng cây chất lượng cao",price:3e4,image:"/image.png",category:"Soil"}];return Promise.resolve(e)}})}getPublicPots(){return o(this,null,function*(){try{return yield this.request("/pots")}catch(t){const e=[{id:1,name:"Chậu đất nung",description:"Chậu đất nung truyền thống",price:1e5,image:"/image.png",material:"Clay",size:"20cm"},{id:2,name:"Chậu nhựa",description:"Chậu nhựa nhẹ và bền",price:5e4,image:"/image.png",material:"Plastic",size:"15cm"}];return Promise.resolve(e)}})}getPublicAccessories(){return o(this,null,function*(){try{return yield this.request("/accessories")}catch(t){const e=[{id:1,name:"Phụ kiện trang trí",description:"Phụ kiện trang trí cho cây cảnh",price:25e3,image:"/image.png",category:"Decoration"},{id:2,name:"Hệ thống tưới nước",description:"Hệ thống tưới nước tự động",price:15e4,image:"/image.png",category:"Irrigation"}];return Promise.resolve(e)}})}getPublicSuggestions(){return o(this,null,function*(){try{return yield this.request("/suggestions")}catch(t){const e=[{id:1,title:"Cách trồng cây xanh trong nhà",description:"Hướng dẫn chi tiết cách trồng cây xanh trong nhà",category:"Hướng dẫn cơ bản",difficulty_level:"beginner",rating:4.5,views:1e3,likes:50,image:"/image.png",is_featured:!0},{id:2,title:"10 loại cây dễ trồng nhất",description:"Danh sách các loại cây dễ trồng cho người mới",category:"Cây trồng",difficulty_level:"beginner",rating:4.3,views:800,likes:40,image:"/image.png",is_featured:!1}];return Promise.resolve(e)}})}getAboutUs(){return o(this,null,function*(){try{return yield this.request("/about-us")}catch(t){return Promise.resolve([])}})}getActiveAboutUs(){return o(this,null,function*(){try{return yield this.request("/about-us/active")}catch(t){return Promise.resolve(null)}})}getAboutUsById(t){return o(this,null,function*(){try{return yield this.request("/about-us/"+t)}catch(e){return Promise.resolve(null)}})}createAboutUs(t){return o(this,null,function*(){try{return yield this.request("/about-us",{method:"POST",body:JSON.stringify(t)})}catch(e){throw e}})}updateAboutUs(t,e){return o(this,null,function*(){try{return yield this.request("/about-us/"+t,{method:"PUT",body:JSON.stringify(e)})}catch(n){throw n}})}deleteAboutUs(t){return o(this,null,function*(){try{return yield this.request("/about-us/"+t,{method:"DELETE"})}catch(e){throw e}})}sendContactMessage(t){return o(this,null,function*(){try{return yield this.request("/contact",{method:"POST",body:JSON.stringify(t)})}catch(e){throw e}})}getContactMessages(){return o(this,null,function*(){try{return yield this.request("/contact-messages")}catch(t){return Promise.resolve([])}})}getContactMessage(t){return o(this,null,function*(){try{return yield this.request("/contact-messages/"+t)}catch(e){return Promise.resolve(null)}})}updateContactMessage(t,e){return o(this,null,function*(){try{return yield this.request("/contact-messages/"+t,{method:"PUT",body:JSON.stringify(e)})}catch(n){throw n}})}deleteContactMessage(t){return o(this,null,function*(){try{return yield this.request("/contact-messages/"+t,{method:"DELETE"})}catch(e){throw e}})}getPublicSeeds(){return o(this,null,function*(){try{return(yield this.request("/api/public/seeds",{method:"GET"})).data}catch(t){return[]}})}toggleLike(t,e){return o(this,null,function*(){try{return yield this.request("/interactions/like",{method:"POST",body:JSON.stringify({content_type:t,content_id:e})})}catch(n){return{success:!0,is_liked:Math.random()>.5,like_count:Math.floor(100*Math.random())+1,message:"Mock response - API not available"}}})}submitRating(t,e,n){return o(this,null,function*(){try{return yield this.request("/interactions/rating",{method:"POST",body:JSON.stringify({content_type:t,content_id:e,rating:n})})}catch(r){return{success:!0,rating:n,average_rating:n,rating_count:Math.floor(50*Math.random())+1,message:"Mock response - API not available"}}})}getUserInteractions(t,e){return o(this,null,function*(){try{return yield this.request(`/interactions/user?content_type=${t}&content_id=${e}`,{method:"GET"})}catch(n){return{success:!0,is_liked:!1,user_rating:0}}})}getContentStats(t,e){return o(this,null,function*(){try{return yield this.request(`/interactions/stats?content_type=${t}&content_id=${e}`,{method:"GET"})}catch(n){return{success:!0,like_count:Math.floor(100*Math.random())+1,average_rating:5*Math.random(),rating_count:Math.floor(50*Math.random())+1}}})}trackPageView(t){return o(this,null,function*(){return this.request("/analytics/page-view",{method:"POST",body:JSON.stringify({page:t})})})}getAnalytics(t="30d"){return o(this,null,function*(){return this.request("/admin/analytics?range="+t)})}deleteItem(t,e){return o(this,null,function*(){const n={articles:"/articles",videos:"/videos",books:"/books",tools:"/tools",essentials:"/essentials",pots:"/pots",accessories:"/accessories",suggestions:"/suggestions","about-us":"/about-us"}[e];if(!n)throw Error("Unknown content type: "+e);return this.request(`${n}/${t}`,{method:"DELETE"})})}createItem(t,e){return o(this,null,function*(){const n={articles:"/articles",videos:"/videos",books:"/books",tools:"/tools",essentials:"/essentials",pots:"/pots",accessories:"/accessories",suggestions:"/suggestions","about-us":"/about-us"}[e];if(!n)throw Error("Unknown content type: "+e);return this.request(n,{method:"POST",body:JSON.stringify(t)})})}updateItem(t,e,n){return o(this,null,function*(){const r={articles:"/articles",videos:"/videos",books:"/books",tools:"/tools",essentials:"/essentials",pots:"/pots",accessories:"/accessories",suggestions:"/suggestions","about-us":"/about-us"}[n];if(!r)throw Error("Unknown content type: "+n);return this.request(`${r}/${t}`,{method:"PUT",body:JSON.stringify(e)})})}}("/api"),c={getTools:()=>u.getPublicTools(),getArticles:()=>u.getPublicArticles(),getVideos:()=>u.getPublicVideos(),getBooks:()=>u.getPublicBooks(),getEssentials:()=>u.getPublicEssentials(),getSeeds:()=>u.getPublicSeeds(),getPots:()=>u.getPublicPots(),getAccessories:()=>u.getPublicAccessories(),getSuggestions:()=>u.getPublicSuggestions(),getAboutUs:()=>u.getAboutUs(),getActiveAboutUs:()=>u.getActiveAboutUs(),trackPageView:t=>u.trackPageView(t),deleteItem:(t,e)=>u.deleteItem(t,e),createItem:(t,e)=>u.createItem(t,e),updateItem:(t,e,n)=>u.updateItem(t,e,n)},a={getAll:()=>u.getAboutUs(),getActive:()=>u.getActiveAboutUs(),getById:t=>u.getAboutUsById(t),create:t=>u.createAboutUs(t),update:(t,e)=>u.updateAboutUs(t,e),delete:t=>u.deleteAboutUs(t)},l={sendMessage:t=>u.sendContactMessage(t),getAll:()=>u.getContactMessages(),getById:t=>u.getContactMessage(t),update:(t,e)=>u.updateContactMessage(t,e),delete:t=>u.deleteContactMessage(t)},h={toggleLike:(t,e)=>u.toggleLike(t,e),submitRating:(t,e,n)=>u.submitRating(t,e,n),getUserInteractions:(t,e)=>u.getUserInteractions(t,e),getContentStats:(t,e)=>u.getContentStats(t,e)};export{a,l as c,h as i,c as p};
