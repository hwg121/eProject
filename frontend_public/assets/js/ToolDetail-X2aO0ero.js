import{j as e,m as t,q as s,v as a,D as i,a7 as r,n as l}from"./ui-CMevdwv8.js";import{r as n}from"./react-vendor-BhZTnVUQ.js";import{D as o}from"./DetailPage-BRY6ilbk.js";import{L as c}from"./index-CmgG6HXK.js";import{f as d}from"./slug-BijzlL0q.js";import{c as m,a as x}from"./router-DDTfc0mm.js";const p=()=>{const{slug:p}=m(),u=x(),[h,g]=n.useState(null),[f,j]=n.useState(!0),[b,y]=n.useState(null);return n.useEffect(()=>{var e;p&&(e=function*(){var e;try{j(!0);try{const t=yield publicService.getTools(),s=d(t,p,"slug","name");if(s){const t={id:(null==(e=s.id)?void 0:e.toString())||p,name:s.name||"Untitled Tool",description:s.description||"No description available.",content:s.content||s.specifications||"\n                <h2>Tool Information</h2>\n                <p>This tool is designed for gardening enthusiasts.</p>\n              ",author:s.author||s.manufacturer||"Unknown Manufacturer",publishedAt:s.created_at||s.updated_at||(new Date).toISOString(),tags:s.tags||s.categories||["General"],imageUrl:s.images_json?JSON.parse(s.images_json)[0]:s.imageUrl||"https://images.pexels.com/photos/416978/pexels-photo-416978.jpeg",views:s.views||0,likes:s.likes||0,price:s.price||0,rating:s.rating||4,brand:s.brand||s.manufacturer||"Unknown Brand",specifications:s.specifications?"string"==typeof s.specifications?s.specifications.split(",").map(e=>e.trim()):s.specifications:["No specifications available"],features:s.features||["Quality construction","Durable materials"]};return void g(t)}}catch(t){return void y("Failed to load data from server")}y("Data not found")}catch(s){y("Failed to load tool")}finally{j(!1)}},new Promise((t,s)=>{var a=t=>{try{r(e.next(t))}catch(a){s(a)}},i=t=>{try{r(e.throw(t))}catch(a){s(a)}},r=e=>e.done?t(e.value):Promise.resolve(e.value).then(a,i);r((e=e.apply(void 0,null)).next())}))},[p]),f?e.jsx(c,{}):b||!h?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-emerald-800 mb-4",children:"Tool not found"}),e.jsx("button",{onClick:()=>u("/tools"),className:"px-6 py-3 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors",children:"Back to Tools"})]})}):e.jsxs(o,{type:"tool",title:h.name,description:h.description,content:h.content,author:h.author,publishedAt:h.publishedAt,tags:h.tags,imageUrl:h.imageUrl,views:h.views,likes:h.likes,backUrl:"/tools",rating:h.rating,price:h.price,brand:h.brand,category:h.category,inStock:!0,relatedContent:[{id:"2",title:"Premium Pruning Shears",type:"tool",slug:"premium-pruning-shears"},{id:"3",title:"Watering Can Set",type:"tool",slug:"watering-can-set"},{id:"4",title:"Garden Gloves",type:"tool",slug:"garden-gloves"}],children:[e.jsxs(t.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.5},className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 p-6 rounded-2xl",children:[e.jsx("h3",{className:"text-xl font-bold text-emerald-800 mb-4",children:"Pricing & Rating"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-3xl font-bold text-emerald-800",children:["$",h.price]}),e.jsxs("div",{className:"flex items-center",children:[[...[,,,,,]].map((t,a)=>e.jsx(s,{className:"h-5 w-5 "+(a<Math.floor(h.rating)?"text-yellow-400 fill-current":"text-gray-300")},a)),e.jsxs("span",{className:"ml-2 text-emerald-700 font-medium",children:[h.rating,"/5"]})]})]}),e.jsxs("div",{className:"text-sm text-emerald-600",children:["Brand: ",e.jsx("span",{className:"font-semibold",children:h.brand})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-2xl",children:[e.jsx("h3",{className:"text-xl font-bold text-blue-800 mb-4",children:"Specifications"}),e.jsx("ul",{className:"space-y-2",children:h.specifications.map((t,s)=>e.jsxs("li",{className:"flex items-center text-blue-700",children:[e.jsx(a,{className:"h-4 w-4 text-blue-500 mr-2 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:t})]},s))})]})]}),e.jsxs(t.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-gradient-to-r from-purple-50 to-pink-50 p-6 rounded-2xl",children:[e.jsx("h3",{className:"text-xl font-bold text-purple-800 mb-4",children:"Key Features"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:h.features.map((t,s)=>e.jsxs("div",{className:"flex items-center text-purple-700",children:[e.jsx(a,{className:"h-4 w-4 text-purple-500 mr-2 flex-shrink-0"}),e.jsx("span",{children:t})]},s))})]}),e.jsxs(t.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.7},className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("button",{className:"flex-1 flex items-center justify-center px-6 py-4 bg-emerald-500 text-white rounded-xl hover:bg-emerald-600 transition-colors font-semibold",children:[e.jsx(i,{className:"h-5 w-5 mr-2"}),"Add to Cart - $",h.price]}),e.jsxs("button",{className:"flex-1 flex items-center justify-center px-6 py-4 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors font-semibold",children:[e.jsx(r,{className:"h-5 w-5 mr-2"}),"Buy Now"]}),e.jsxs("button",{className:"flex-1 flex items-center justify-center px-6 py-4 bg-gray-500 text-white rounded-xl hover:bg-gray-600 transition-colors font-semibold",children:[e.jsx(l,{className:"h-5 w-5 mr-2"}),"Add to Wishlist"]})]})]})};export{p as default};
