var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(a,t,s)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,c=(e,a)=>{for(var t in a||(a={}))r.call(a,t)&&i(e,t,a[t]);if(s)for(var t of s(a))l.call(a,t)&&i(e,t,a[t]);return e},n=(e,s)=>a(e,t(s)),d=(e,a,t)=>new Promise((s,r)=>{var l=e=>{try{c(t.next(e))}catch(a){r(a)}},i=e=>{try{c(t.throw(e))}catch(a){r(a)}},c=e=>e.done?s(e.value):Promise.resolve(e.value).then(l,i);c((t=t.apply(e,a)).next())});import{j as o,m as x,aj as m,ak as h,y as p,R as g,P as u,z as y,al as j,am as b,g as v,a3 as N,X as f,an as w}from"./ui-rChtIiB6.js";import{r as C}from"./react-vendor-Dr4n66tC.js";import{u as S,C as k}from"./index-Bjlkjo5_.js";import{I as P}from"./ImageUpload-B57SuavX.js";import"./router-bS1xvxPY.js";import"./api-ClnZCBU8.js";const z=()=>{const{isDarkMode:e}=S(),[a,t]=C.useState([]),[s,r]=C.useState(""),[l,i]=C.useState("all"),[f,w]=C.useState("all"),[P,z]=C.useState(!1),[I,D]=C.useState(null),[H,M]=C.useState(1),[O,A]=C.useState(null),T=["Ceramic","Plastic","Terracotta","Metal","Wood","Fiberglass"],q=a.filter(e=>{const a=e.name.toLowerCase().includes(s.toLowerCase())||e.description.toLowerCase().includes(s.toLowerCase())||e.material.toLowerCase().includes(s.toLowerCase()),t="all"===l||e.material===l,r="all"===f||e.status===f;return a&&t&&r}),F=Math.ceil(q.length/20),U=q.slice(20*(H-1),20*H);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold "+(e?"text-white":"text-gray-800"),children:"Pots & Containers Management"}),o.jsx("p",{className:"mt-2 "+(e?"text-gray-300":"text-gray-600"),children:"Manage plant pots, containers, and planters inventory"})]}),o.jsxs(x.button,{onClick:()=>{D(null),z(!0)},className:"flex items-center space-x-2 bg-emerald-500 text-white px-6 py-3 rounded-lg hover:bg-emerald-600 transition-colors font-semibold",whileHover:{scale:1.02},whileTap:{scale:.98},children:[o.jsx(m,{className:"h-5 w-5"}),o.jsx("span",{children:"Add Pot"})]})]}),o.jsx(k,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 "+(e?"text-gray-400":"text-gray-500")}),o.jsx("input",{type:"text",placeholder:"Search pots...",value:s,onChange:e=>r(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(e?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]}),o.jsxs("select",{value:l,onChange:e=>i(e.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(e?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:[o.jsx("option",{value:"all",children:"All Materials"}),T.map(e=>o.jsx("option",{value:e,children:e},e))]}),o.jsxs("select",{value:f,onChange:e=>w(e.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(e?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"inactive",children:"Inactive"})]}),o.jsxs("div",{className:`text-sm ${e?"text-gray-300":"text-gray-600"} flex items-center`,children:["Total: ",q.length," pots"]})]})}),o.jsxs(k,{children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b "+(e?"border-gray-700":"border-gray-200"),children:[o.jsx("th",{className:"text-left py-4 px-4 font-semibold "+(e?"text-gray-300":"text-gray-700"),children:"Pot"}),o.jsx("th",{className:"text-left py-4 px-4 font-semibold "+(e?"text-gray-300":"text-gray-700"),children:"Material/Size"}),o.jsx("th",{className:"text-left py-4 px-4 font-semibold "+(e?"text-gray-300":"text-gray-700"),children:"Color/Shape"}),o.jsx("th",{className:"text-left py-4 px-4 font-semibold "+(e?"text-gray-300":"text-gray-700"),children:"Capacity"}),o.jsx("th",{className:"text-left py-4 px-4 font-semibold "+(e?"text-gray-300":"text-gray-700"),children:"Price"}),o.jsx("th",{className:"text-left py-4 px-4 font-semibold "+(e?"text-gray-300":"text-gray-700"),children:"Status"}),o.jsx("th",{className:"text-left py-4 px-4 font-semibold "+(e?"text-gray-300":"text-gray-700"),children:"Actions"})]})}),o.jsx("tbody",{children:U.map(a=>o.jsxs(x.tr,{className:"border-b hover:bg-opacity-50 transition-colors "+(e?"border-gray-700 hover:bg-gray-800":"border-gray-200 hover:bg-gray-50"),initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[o.jsx("td",{className:"py-4 px-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("img",{src:a.imageUrl,alt:a.name,className:"w-12 h-12 object-cover rounded-lg"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold "+(e?"text-white":"text-gray-800"),children:a.name}),o.jsxs("p",{className:"text-sm "+(e?"text-gray-400":"text-gray-500"),children:[a.description.substring(0,40),"..."]}),a.drainageHoles&&o.jsxs("div",{className:"flex items-center mt-1",children:[o.jsx(p,{className:"h-3 w-3 text-blue-500 mr-1"}),o.jsx("span",{className:"text-xs text-blue-600",children:"Drainage"})]})]})]})}),o.jsx("td",{className:"py-4 px-4 "+(e?"text-gray-300":"text-gray-600"),children:o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:a.material}),o.jsxs("p",{className:"text-sm flex items-center",children:[o.jsx(g,{className:"h-3 w-3 mr-1"}),a.size]})]})}),o.jsx("td",{className:"py-4 px-4 "+(e?"text-gray-300":"text-gray-600"),children:o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium flex items-center",children:[o.jsx(u,{className:"h-3 w-3 mr-1"}),a.color]}),o.jsx("p",{className:"text-sm",children:a.shape})]})}),o.jsx("td",{className:"py-4 px-4 "+(e?"text-gray-300":"text-gray-600"),children:o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(y,{className:"h-4 w-4"}),o.jsx("span",{children:a.capacity})]})}),o.jsx("td",{className:"py-4 px-4 "+(e?"text-gray-300":"text-gray-600"),children:o.jsxs("span",{className:"font-semibold",children:["$",a.price]})}),o.jsx("td",{className:"py-4 px-4",children:o.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium "+("active"===a.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:a.status})}),o.jsx("td",{className:"py-4 px-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(x.button,{onClick:()=>(e=>{D(e),z(!0)})(a),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:o.jsx(j,{className:"h-4 w-4"})}),o.jsx(x.button,{onClick:()=>A(a.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:o.jsx(b,{className:"h-4 w-4"})})]})})]},a.id))})]})}),F>1&&o.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[o.jsx("button",{onClick:()=>M(Math.max(1,H-1)),disabled:1===H,className:"px-3 py-2 rounded-lg "+(1===H?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-emerald-500 text-white hover:bg-emerald-600"),children:"Previous"}),o.jsxs("span",{className:"px-4 py-2 "+(e?"text-gray-300":"text-gray-600"),children:["Page ",H," of ",F]}),o.jsx("button",{onClick:()=>M(Math.min(F,H+1)),disabled:H===F,className:"px-3 py-2 rounded-lg "+(H===F?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-emerald-500 text-white hover:bg-emerald-600"),children:"Next"})]})]}),o.jsx(v,{children:P&&o.jsx($,{pot:I,materials:T,shapes:["Round","Square","Rectangular","Oval","Hexagonal"],colors:["Terracotta","White","Black","Green","Brown","Gray","Blue","Red"],onSave:e=>d(void 0,null,function*(){try{if(I)yield publicService.updateItem(I.id,e,"pots"),t(a.map(a=>a.id===I.id?n(c(c({},a),e),{updatedAt:(new Date).toISOString().split("T")[0]}):a));else{const s=yield publicService.createItem(e,"pots");t([s,...a])}z(!1),D(null)}catch(s){alert("Failed to save pot. Please try again.")}}),onCancel:()=>z(!1),isDarkMode:e})}),o.jsx(v,{children:O&&o.jsx(x.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:o.jsxs(x.div,{className:"max-w-md w-full rounded-xl p-6 "+(e?"bg-gray-800":"bg-white"),initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx(N,{className:"h-6 w-6 text-red-500"}),o.jsx("h3",{className:"text-lg font-semibold "+(e?"text-white":"text-gray-800"),children:"Confirm Delete"})]}),o.jsx("p",{className:"mb-6 "+(e?"text-gray-300":"text-gray-600"),children:"Are you sure you want to delete this pot? This action cannot be undone."}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>A(null),className:"px-4 py-2 rounded-lg font-medium "+(e?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Cancel"}),o.jsx("button",{onClick:()=>{return e=O,d(void 0,null,function*(){try{yield publicService.deleteItem(e,"pots"),t(a.filter(a=>a.id!==e)),A(null)}catch(s){alert("Failed to delete pot. Please try again.")}});var e},className:"px-4 py-2 bg-red-500 text-white rounded-lg font-medium hover:bg-red-600",children:"Delete"})]})]})})})]})},$=({pot:e,materials:a,shapes:t,colors:s,onSave:r,onCancel:l,isDarkMode:i})=>{const[d,m]=C.useState(e||{name:"",description:"",material:a[0]||"",size:"",color:s[0]||"",shape:t[0]||"",drainageHoles:!0,capacity:"",careInstructions:"",imageUrl:"",status:"active",price:0,weight:"",durability:""}),[h,p]=C.useState({}),g="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(i?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),u="block font-semibold mb-2 "+(i?"text-gray-300":"text-gray-700");return o.jsx(x.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:o.jsxs(x.div,{className:"max-w-4xl w-full max-h-[90vh] overflow-y-auto rounded-xl p-6 "+(i?"bg-gray-800":"bg-white"),initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold "+(i?"text-white":"text-gray-800"),children:e?"Edit Pot":"Add New Pot"}),o.jsx("button",{onClick:l,className:"p-2 rounded-lg "+(i?"hover:bg-gray-700":"hover:bg-gray-100"),children:o.jsx(f,{className:"h-6 w-6"})})]}),o.jsxs("form",{onSubmit:e=>{e.preventDefault(),(()=>{var e,a,t,s;const r={};return(null==(e=d.name)?void 0:e.trim())||(r.name="Name is required"),(null==(a=d.description)?void 0:a.trim())||(r.description="Description is required"),d.material||(r.material="Material is required"),(null==(t=d.size)?void 0:t.trim())||(r.size="Size is required"),(null==(s=d.capacity)?void 0:s.trim())||(r.capacity="Capacity is required"),d.price&&d.price>0||(r.price="Valid price is required"),p(r),0===Object.keys(r).length})()&&r(d)},className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:u,children:"Pot Name *"}),o.jsx("input",{type:"text",value:d.name||"",onChange:e=>m(n(c({},d),{name:e.target.value})),className:`${g} ${h.name?"border-red-500":""}`,placeholder:"Enter pot name"}),h.name&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.name})]}),o.jsxs("div",{children:[o.jsx("label",{className:u,children:"Material *"}),o.jsx("select",{value:d.material||"",onChange:e=>m(n(c({},d),{material:e.target.value})),className:`${g} ${h.material?"border-red-500":""}`,children:a.map(e=>o.jsx("option",{value:e,children:e},e))}),h.material&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.material})]}),o.jsxs("div",{children:[o.jsx("label",{className:u,children:"Size *"}),o.jsx("input",{type:"text",value:d.size||"",onChange:e=>m(n(c({},d),{size:e.target.value})),className:`${g} ${h.size?"border-red-500":""}`,placeholder:"e.g., 12 inches, 30cm"}),h.size&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.size})]}),o.jsxs("div",{children:[o.jsx("label",{className:u,children:"Color"}),o.jsx("select",{value:d.color||"",onChange:e=>m(n(c({},d),{color:e.target.value})),className:g,children:s.map(e=>o.jsx("option",{value:e,children:e},e))})]}),o.jsxs("div",{children:[o.jsx("label",{className:u,children:"Shape"}),o.jsx("select",{value:d.shape||"",onChange:e=>m(n(c({},d),{shape:e.target.value})),className:g,children:t.map(e=>o.jsx("option",{value:e,children:e},e))})]}),o.jsxs("div",{children:[o.jsx("label",{className:u,children:"Capacity *"}),o.jsx("input",{type:"text",value:d.capacity||"",onChange:e=>m(n(c({},d),{capacity:e.target.value})),className:`${g} ${h.capacity?"border-red-500":""}`,placeholder:"e.g., 2 gallons, 8 liters"}),h.capacity&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.capacity})]}),o.jsxs("div",{children:[o.jsx("label",{className:u,children:"Price ($) *"}),o.jsx("input",{type:"number",min:"0",step:"0.01",value:d.price||"",onChange:e=>m(n(c({},d),{price:parseFloat(e.target.value)||0})),className:`${g} ${h.price?"border-red-500":""}`,placeholder:"0.00"}),h.price&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.price})]}),o.jsxs("div",{children:[o.jsx("label",{className:u,children:"Weight"}),o.jsx("input",{type:"text",value:d.weight||"",onChange:e=>m(n(c({},d),{weight:e.target.value})),className:g,placeholder:"e.g., 3.5 lbs, 1.6 kg"})]}),o.jsxs("div",{children:[o.jsx("label",{className:u,children:"Durability"}),o.jsx("input",{type:"text",value:d.durability||"",onChange:e=>m(n(c({},d),{durability:e.target.value})),className:g,placeholder:"e.g., 10+ years, 5-7 years"})]}),o.jsxs("div",{children:[o.jsx("label",{className:u,children:"Status"}),o.jsxs("select",{value:d.status||"active",onChange:e=>m(n(c({},d),{status:e.target.value})),className:g,children:[o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"inactive",children:"Inactive"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",id:"drainageHoles",checked:d.drainageHoles||!1,onChange:e=>m(n(c({},d),{drainageHoles:e.target.checked})),className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),o.jsx("label",{htmlFor:"drainageHoles",className:u.replace("block","inline"),children:"Has Drainage Holes"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:u,children:"Description *"}),o.jsx("textarea",{value:d.description||"",onChange:e=>m(n(c({},d),{description:e.target.value})),className:`${g} h-32 resize-none ${h.description?"border-red-500":""}`,placeholder:"Enter detailed description"}),h.description&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.description})]}),o.jsxs("div",{children:[o.jsx("label",{className:u,children:"Care Instructions"}),o.jsx("textarea",{value:d.careInstructions||"",onChange:e=>m(n(c({},d),{careInstructions:e.target.value})),className:g+" h-24 resize-none",placeholder:"Enter care and maintenance instructions"})]}),o.jsxs("div",{children:[o.jsx("label",{className:u,children:"Featured Image"}),o.jsx(P,{value:d.imageUrl||"",onChange:e=>m(n(c({},d),{imageUrl:e})),onError:e=>alert(e),className:"mt-1",placeholder:"Upload featured image"})]}),o.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:l,className:"px-6 py-3 rounded-lg font-semibold transition-colors "+(i?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Cancel"}),o.jsxs(x.button,{type:"submit",className:"flex items-center space-x-2 px-6 py-3 bg-emerald-500 text-white rounded-lg font-semibold hover:bg-emerald-600 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:[o.jsx(w,{className:"h-5 w-5"}),o.jsx("span",{children:e?"Update Pot":"Create Pot"})]})]})]})]})})};export{z as default};
