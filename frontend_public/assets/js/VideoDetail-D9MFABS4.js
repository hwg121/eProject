import{j as e}from"./ui-DFK0He6I.js";import{r as t}from"./react-vendor-Dr4n66tC.js";import{D as s}from"./DetailPage-D-q9A_YL.js";import{L as i}from"./index-C4swSc32.js";import{f as n}from"./slug-BijzlL0q.js";import{publicService as l}from"./api-B-eyJa05.js";import{c as o,a as r}from"./router-bS1xvxPY.js";const a=()=>{const{slug:a}=o(),d=r(),[c,m]=t.useState(null),[u,g]=t.useState(!0),[p,h]=t.useState(null);return t.useEffect(()=>{var e;a&&(e=function*(){var e;try{g(!0);try{const t=yield l.getVideos(),s=n(t,a,"slug","title");if(s){const t={id:(null==(e=s.id)?void 0:e.toString())||a,title:s.title||"",description:s.description||"",content:s.content||s.transcript||"",author:s.author||s.instructor||"",publishedAt:s.published_at||s.created_at||(new Date).toISOString(),tags:s.tags||s.categories||[],views:s.views||0,likes:s.likes||0,duration:s.duration||"",videoUrl:s.video_url||"",embedUrl:s.embed_url||""};return void m(t)}}catch(t){return void h("Failed to load video from server")}h("Video not found")}catch(s){h("Failed to load video")}finally{g(!1)}},new Promise((t,s)=>{var i=t=>{try{l(e.next(t))}catch(i){s(i)}},n=t=>{try{l(e.throw(t))}catch(i){s(i)}},l=e=>e.done?t(e.value):Promise.resolve(e.value).then(i,n);l((e=e.apply(void 0,null)).next())}))},[a]),u?e.jsx(i,{}):p||!c?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-emerald-800 mb-4",children:"Video not found"}),e.jsx("button",{onClick:()=>d("/videos"),className:"px-6 py-3 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors",children:"Back to Videos"})]})}):e.jsx(s,{type:"video",title:c.title,description:c.description,content:`\n        <h2>Video Information</h2>\n        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">\n          <div>\n            <h3 class="text-xl font-semibold mb-4">Basic Details</h3>\n            <ul class="space-y-2">\n              <li><strong>Instructor:</strong> ${c.author}</li>\n              <li><strong>Duration:</strong> ${c.duration}</li>\n              <li><strong>Views:</strong> ${c.views.toLocaleString()}</li>\n              <li><strong>Likes:</strong> ${c.likes.toLocaleString()}</li>\n            </ul>\n          </div>\n          <div>\n            <h3 class="text-xl font-semibold mb-4">Video Stats</h3>\n            <ul class="space-y-2">\n              <li><strong>Published:</strong> ${new Date(c.publishedAt).toLocaleDateString()}</li>\n              <li><strong>Category:</strong> Gardening Tutorial</li>\n              <li><strong>Difficulty:</strong> All Levels</li>\n              <li><strong>Language:</strong> English</li>\n            </ul>\n          </div>\n        </div>\n        \n        <h3 class="text-xl font-semibold mb-4">Video Description</h3>\n        <p class="mb-6">${c.description}</p>\n        \n        <h3 class="text-xl font-semibold mb-4">What You'll Learn</h3>\n        <ul class="space-y-2 mb-6">\n          <li class="flex items-center"><span class="text-emerald-600 mr-2">✓</span>Step-by-step gardening techniques</li>\n          <li class="flex items-center"><span class="text-emerald-600 mr-2">✓</span>Visual demonstrations and examples</li>\n          <li class="flex items-center"><span class="text-emerald-600 mr-2">✓</span>Professional tips and tricks</li>\n          <li class="flex items-center"><span class="text-emerald-600 mr-2">✓</span>Common mistakes to avoid</li>\n        </ul>\n      `,author:c.author,publishedAt:c.publishedAt,tags:c.tags,views:0,likes:c.likes||0,backUrl:"/videos",rating:0,contentId:parseInt(c.id),duration:c.duration,videoUrl:c.videoUrl,embedUrl:c.embedUrl,images:[],relatedContent:[]})};export{a as default};
