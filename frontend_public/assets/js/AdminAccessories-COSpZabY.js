var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(a,t,s)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,c=(e,a)=>{for(var t in a||(a={}))r.call(a,t)&&i(e,t,a[t]);if(s)for(var t of s(a))l.call(a,t)&&i(e,t,a[t]);return e},n=(e,s)=>a(e,t(s)),o=(e,a,t)=>new Promise((s,r)=>{var l=e=>{try{c(t.next(e))}catch(a){r(a)}},i=e=>{try{c(t.throw(e))}catch(a){r(a)}},c=e=>e.done?s(e.value):Promise.resolve(e.value).then(l,i);c((t=t.apply(e,a)).next())});import{j as d,m as x,ai as m,aj as h,o as p,l as g,ak as y,al as u,e as j,a1 as b,X as v,an as N}from"./ui-BeigVymU.js";import{r as f}from"./react-vendor-Dr4n66tC.js";import{u as w,C}from"./index-B8HcLuvP.js";import{I as S}from"./ImageUpload-BX4eBMeo.js";import"./router-bS1xvxPY.js";import"./api-BQ7-r8Gi.js";const k=()=>{const{isDarkMode:e}=w(),[a,t]=f.useState([]),[s,r]=f.useState(""),[l,i]=f.useState("all"),[v,N]=f.useState("all"),[S,k]=f.useState(!1),[A,$]=f.useState(null),[P,M]=f.useState(1),[O,R]=f.useState(null),z=["Lighting","Decorative","Functional","Watering","Support","Storage"],I=a.filter(e=>{const a=e.name.toLowerCase().includes(s.toLowerCase())||e.description.toLowerCase().includes(s.toLowerCase())||e.category.toLowerCase().includes(s.toLowerCase()),t="all"===l||e.category===l,r="all"===v||e.status===v;return a&&t&&r}),T=Math.ceil(I.length/20),F=I.slice(20*(P-1),20*P);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold "+(e?"text-white":"text-gray-800"),children:"Accessories Management"}),d.jsx("p",{className:"mt-2 "+(e?"text-gray-300":"text-gray-600"),children:"Manage garden accessories, decorations, and functional items"})]}),d.jsxs(x.button,{onClick:()=>{$(null),k(!0)},className:"flex items-center space-x-2 bg-emerald-500 text-white px-6 py-3 rounded-lg hover:bg-emerald-600 transition-colors font-semibold",whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx(m,{className:"h-5 w-5"}),d.jsx("span",{children:"Add Accessory"})]})]}),d.jsx(C,{children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 "+(e?"text-gray-400":"text-gray-500")}),d.jsx("input",{type:"text",placeholder:"Search accessories...",value:s,onChange:e=>r(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(e?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]}),d.jsxs("select",{value:l,onChange:e=>i(e.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(e?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:[d.jsx("option",{value:"all",children:"All Categories"}),z.map(e=>d.jsx("option",{value:e,children:e},e))]}),d.jsxs("select",{value:v,onChange:e=>N(e.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(e?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:[d.jsx("option",{value:"all",children:"All Status"}),d.jsx("option",{value:"active",children:"Active"}),d.jsx("option",{value:"inactive",children:"Inactive"})]}),d.jsxs("div",{className:`text-sm ${e?"text-gray-300":"text-gray-600"} flex items-center`,children:["Total: ",I.length," accessories"]})]})}),d.jsxs(C,{children:[d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b "+(e?"border-gray-700":"border-gray-200"),children:[d.jsx("th",{className:"text-left py-4 px-4 font-semibold "+(e?"text-gray-300":"text-gray-700"),children:"Accessory"}),d.jsx("th",{className:"text-left py-4 px-4 font-semibold "+(e?"text-gray-300":"text-gray-700"),children:"Category/Type"}),d.jsx("th",{className:"text-left py-4 px-4 font-semibold "+(e?"text-gray-300":"text-gray-700"),children:"Material/Size"}),d.jsx("th",{className:"text-left py-4 px-4 font-semibold "+(e?"text-gray-300":"text-gray-700"),children:"Price/Rating"}),d.jsx("th",{className:"text-left py-4 px-4 font-semibold "+(e?"text-gray-300":"text-gray-700"),children:"Features"}),d.jsx("th",{className:"text-left py-4 px-4 font-semibold "+(e?"text-gray-300":"text-gray-700"),children:"Status"}),d.jsx("th",{className:"text-left py-4 px-4 font-semibold "+(e?"text-gray-300":"text-gray-700"),children:"Actions"})]})}),d.jsx("tbody",{children:F.map(a=>d.jsxs(x.tr,{className:"border-b hover:bg-opacity-50 transition-colors "+(e?"border-gray-700 hover:bg-gray-800":"border-gray-200 hover:bg-gray-50"),initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[d.jsx("td",{className:"py-4 px-4",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("img",{src:a.imageUrl,alt:a.name,className:"w-12 h-12 object-cover rounded-lg"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold "+(e?"text-white":"text-gray-800"),children:a.name}),d.jsxs("p",{className:"text-sm "+(e?"text-gray-400":"text-gray-500"),children:[a.description.substring(0,40),"..."]})]})]})}),d.jsx("td",{className:"py-4 px-4 "+(e?"text-gray-300":"text-gray-600"),children:d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:a.category}),d.jsx("p",{className:"text-sm",children:a.type})]})}),d.jsx("td",{className:"py-4 px-4 "+(e?"text-gray-300":"text-gray-600"),children:d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:a.material}),d.jsx("p",{className:"text-sm",children:a.size})]})}),d.jsx("td",{className:"py-4 px-4 "+(e?"text-gray-300":"text-gray-600"),children:d.jsxs("div",{children:[d.jsxs("p",{className:"font-semibold",children:["$",a.price]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(p,{className:"h-3 w-3 text-yellow-500 fill-current"}),d.jsx("span",{className:"text-sm",children:a.rating})]})]})}),d.jsx("td",{className:"py-4 px-4 "+(e?"text-gray-300":"text-gray-600"),children:d.jsxs("div",{className:"flex flex-col space-y-1",children:[a.isDecorative&&d.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-purple-100 text-purple-800",children:[d.jsx(g,{className:"h-3 w-3 mr-1"}),"Decorative"]}),a.weatherResistant&&d.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:"Weather Resistant"})]})}),d.jsx("td",{className:"py-4 px-4",children:d.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium "+("active"===a.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:a.status})}),d.jsx("td",{className:"py-4 px-4",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(x.button,{onClick:()=>(e=>{$(e),k(!0)})(a),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:d.jsx(y,{className:"h-4 w-4"})}),d.jsx(x.button,{onClick:()=>R(a.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:d.jsx(u,{className:"h-4 w-4"})})]})})]},a.id))})]})}),T>1&&d.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[d.jsx("button",{onClick:()=>M(Math.max(1,P-1)),disabled:1===P,className:"px-3 py-2 rounded-lg "+(1===P?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-emerald-500 text-white hover:bg-emerald-600"),children:"Previous"}),d.jsxs("span",{className:"px-4 py-2 "+(e?"text-gray-300":"text-gray-600"),children:["Page ",P," of ",T]}),d.jsx("button",{onClick:()=>M(Math.min(T,P+1)),disabled:P===T,className:"px-3 py-2 rounded-lg "+(P===T?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-emerald-500 text-white hover:bg-emerald-600"),children:"Next"})]})]}),d.jsx(j,{children:S&&d.jsx(D,{accessory:A,categories:z,types:["Ornament","Tool","Light","Hanger","Stake","Fountain"],materials:["Resin","Metal","Plastic","Wood","Ceramic","Stone"],onSave:e=>o(void 0,null,function*(){try{if(A)yield publicService.updateItem(A.id,e,"accessories"),t(a.map(a=>a.id===A.id?n(c(c({},a),e),{updatedAt:(new Date).toISOString().split("T")[0]}):a));else{const s=yield publicService.createItem(e,"accessories");t([s,...a])}k(!1),$(null)}catch(s){alert("Failed to save accessory. Please try again.")}}),onCancel:()=>k(!1),isDarkMode:e})}),d.jsx(j,{children:O&&d.jsx(x.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:d.jsxs(x.div,{className:"max-w-md w-full rounded-xl p-6 "+(e?"bg-gray-800":"bg-white"),initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[d.jsx(b,{className:"h-6 w-6 text-red-500"}),d.jsx("h3",{className:"text-lg font-semibold "+(e?"text-white":"text-gray-800"),children:"Confirm Delete"})]}),d.jsx("p",{className:"mb-6 "+(e?"text-gray-300":"text-gray-600"),children:"Are you sure you want to delete this accessory? This action cannot be undone."}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx("button",{onClick:()=>R(null),className:"px-4 py-2 rounded-lg font-medium "+(e?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Cancel"}),d.jsx("button",{onClick:()=>{return e=O,o(void 0,null,function*(){try{yield publicService.deleteItem(e,"accessories"),t(a.filter(a=>a.id!==e)),R(null)}catch(s){alert("Failed to delete accessory. Please try again.")}});var e},className:"px-4 py-2 bg-red-500 text-white rounded-lg font-medium hover:bg-red-600",children:"Delete"})]})]})})})]})},D=({accessory:e,categories:a,types:t,materials:s,onSave:r,onCancel:l,isDarkMode:i})=>{const[o,m]=f.useState(e||{name:"",description:"",category:a[0]||"",type:t[0]||"",material:s[0]||"",size:"",color:"",specifications:"",imageUrl:"",status:"active",price:0,rating:5,isDecorative:!1,weatherResistant:!1}),[h,p]=f.useState({}),g="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(i?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),y="block font-semibold mb-2 "+(i?"text-gray-300":"text-gray-700");return d.jsx(x.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:d.jsxs(x.div,{className:"max-w-4xl w-full max-h-[90vh] overflow-y-auto rounded-xl p-6 "+(i?"bg-gray-800":"bg-white"),initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h2",{className:"text-2xl font-bold "+(i?"text-white":"text-gray-800"),children:e?"Edit Accessory":"Add New Accessory"}),d.jsx("button",{onClick:l,className:"p-2 rounded-lg "+(i?"hover:bg-gray-700":"hover:bg-gray-100"),children:d.jsx(v,{className:"h-6 w-6"})})]}),d.jsxs("form",{onSubmit:e=>{e.preventDefault(),(()=>{var e,a;const t={};return(null==(e=o.name)?void 0:e.trim())||(t.name="Name is required"),(null==(a=o.description)?void 0:a.trim())||(t.description="Description is required"),o.category||(t.category="Category is required"),o.type||(t.type="Type is required"),o.material||(t.material="Material is required"),o.price&&o.price>0||(t.price="Valid price is required"),p(t),0===Object.keys(t).length})()&&r(o)},className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:y,children:"Accessory Name *"}),d.jsx("input",{type:"text",value:o.name||"",onChange:e=>m(n(c({},o),{name:e.target.value})),className:`${g} ${h.name?"border-red-500":""}`,placeholder:"Enter accessory name"}),h.name&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.name})]}),d.jsxs("div",{children:[d.jsx("label",{className:y,children:"Category *"}),d.jsx("select",{value:o.category||"",onChange:e=>m(n(c({},o),{category:e.target.value})),className:`${g} ${h.category?"border-red-500":""}`,children:a.map(e=>d.jsx("option",{value:e,children:e},e))}),h.category&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.category})]}),d.jsxs("div",{children:[d.jsx("label",{className:y,children:"Type *"}),d.jsx("select",{value:o.type||"",onChange:e=>m(n(c({},o),{type:e.target.value})),className:`${g} ${h.type?"border-red-500":""}`,children:t.map(e=>d.jsx("option",{value:e,children:e},e))}),h.type&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.type})]}),d.jsxs("div",{children:[d.jsx("label",{className:y,children:"Material *"}),d.jsx("select",{value:o.material||"",onChange:e=>m(n(c({},o),{material:e.target.value})),className:`${g} ${h.material?"border-red-500":""}`,children:s.map(e=>d.jsx("option",{value:e,children:e},e))}),h.material&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.material})]}),d.jsxs("div",{children:[d.jsx("label",{className:y,children:"Size"}),d.jsx("input",{type:"text",value:o.size||"",onChange:e=>m(n(c({},o),{size:e.target.value})),className:g,placeholder:"e.g., 12 inches, Small, Large"})]}),d.jsxs("div",{children:[d.jsx("label",{className:y,children:"Color"}),d.jsx("input",{type:"text",value:o.color||"",onChange:e=>m(n(c({},o),{color:e.target.value})),className:g,placeholder:"e.g., Red, Blue, Multicolor"})]}),d.jsxs("div",{children:[d.jsx("label",{className:y,children:"Price ($) *"}),d.jsx("input",{type:"number",min:"0",step:"0.01",value:o.price||"",onChange:e=>m(n(c({},o),{price:parseFloat(e.target.value)||0})),className:`${g} ${h.price?"border-red-500":""}`,placeholder:"0.00"}),h.price&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.price})]}),d.jsxs("div",{children:[d.jsx("label",{className:y,children:"Rating (1-5)"}),d.jsx("input",{type:"number",min:"1",max:"5",step:"0.1",value:o.rating||5,onChange:e=>m(n(c({},o),{rating:parseFloat(e.target.value)||5})),className:g})]}),d.jsxs("div",{children:[d.jsx("label",{className:y,children:"Status"}),d.jsxs("select",{value:o.status||"active",onChange:e=>m(n(c({},o),{status:e.target.value})),className:g,children:[d.jsx("option",{value:"active",children:"Active"}),d.jsx("option",{value:"inactive",children:"Inactive"})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("input",{type:"checkbox",id:"isDecorative",checked:o.isDecorative||!1,onChange:e=>m(n(c({},o),{isDecorative:e.target.checked})),className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),d.jsx("label",{htmlFor:"isDecorative",className:y.replace("block","inline"),children:"Decorative Item"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("input",{type:"checkbox",id:"weatherResistant",checked:o.weatherResistant||!1,onChange:e=>m(n(c({},o),{weatherResistant:e.target.checked})),className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),d.jsx("label",{htmlFor:"weatherResistant",className:y.replace("block","inline"),children:"Weather Resistant"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:y,children:"Description *"}),d.jsx("textarea",{value:o.description||"",onChange:e=>m(n(c({},o),{description:e.target.value})),className:`${g} h-32 resize-none ${h.description?"border-red-500":""}`,placeholder:"Enter detailed description"}),h.description&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.description})]}),d.jsxs("div",{children:[d.jsx("label",{className:y,children:"Specifications"}),d.jsx("textarea",{value:o.specifications||"",onChange:e=>m(n(c({},o),{specifications:e.target.value})),className:g+" h-24 resize-none",placeholder:"Enter technical specifications and features"})]}),d.jsxs("div",{children:[d.jsx("label",{className:y,children:"Featured Image"}),d.jsx(S,{value:o.imageUrl||"",onChange:e=>m(n(c({},o),{imageUrl:e})),onError:e=>alert(e),className:"mt-1",placeholder:"Upload featured image"})]}),d.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[d.jsx("button",{type:"button",onClick:l,className:"px-6 py-3 rounded-lg font-semibold transition-colors "+(i?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Cancel"}),d.jsxs(x.button,{type:"submit",className:"flex items-center space-x-2 px-6 py-3 bg-emerald-500 text-white rounded-lg font-semibold hover:bg-emerald-600 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx(N,{className:"h-5 w-5"}),d.jsx("span",{children:e?"Update Accessory":"Create Accessory"})]})]})]})]})})};export{k as default};
