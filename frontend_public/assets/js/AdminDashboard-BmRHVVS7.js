var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,n=(e,t,a)=>new Promise((s,r)=>{var l=e=>{try{n(a.next(e))}catch(t){r(t)}},i=e=>{try{n(a.throw(e))}catch(t){r(t)}},n=e=>e.done?s(e.value):Promise.resolve(e.value).then(l,i);n((a=a.apply(e,t)).next())});import{ac as o,ad as c,w as d,U as g,a0 as x,j as m,m as h,f as u,X as y,N as p,e as b,Q as v,o as j,ae as w,af as f,ag as N,ah as S,ai as C,K as T,r as A,k,aj as D,g as M,ak as O,t as U,h as $,u as H}from"./ui-CSNrQhPN.js";import{r as L}from"./react-vendor-Dr4n66tC.js";import{u as I,C as _,a as B}from"./index-BW9itGGG.js";import{p as F,c as P,u as V}from"./api-CwrNSExO.js";import"./router-bS1xvxPY.js";const R=({activeTab:e,onTabChange:t,stats:a,isCollapsed:s,onToggle:r,userRole:l="admin"})=>{const{isDarkMode:i}=I(),[n,v]=L.useState(["content","management"]),j=[{id:"overview",label:"Overview",icon:o,color:"from-emerald-500 to-green-600",description:"Dashboard overview"},{id:"content",label:"Content Management",icon:c,color:"from-emerald-500 to-green-600",description:"Manage all content",children:[{id:"content-list",label:"List",icon:null},{id:"content-details",label:"Details",icon:null},{id:"content-create",label:"Create",icon:null},{id:"content-edit",label:"Edit",icon:null}]},{id:"products",label:"Product Management",icon:d,color:"from-emerald-500 to-green-600",description:"Manage all products",children:[{id:"product-list",label:"List",icon:null},{id:"product-details",label:"Details",icon:null},{id:"product-create",label:"Create",icon:null},{id:"product-edit",label:"Edit",icon:null}]},{id:"users",label:"User Management",icon:g,color:"from-emerald-500 to-green-600",description:"Manage all users",children:[{id:"user-profile",label:"Profile",icon:null},{id:"user-list",label:"List",icon:null},{id:"user-create",label:"Create",icon:null}],adminOnly:!0},{id:"messages",label:"Messages",icon:x,color:"from-emerald-500 to-green-600",description:"Contact messages",count:a.totalContactMessages}].filter(e=>!e.adminOnly||"admin"===l),w=e=>{t(e)};return m.jsxs(h.div,{className:`transition-all duration-300 min-h-screen overflow-hidden ${s?"w-16":"w-64"} ${i?"bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 border-r border-gray-700/50":"bg-gradient-to-b from-white via-gray-50 to-white border-r border-gray-200/50"} shadow-lg flex flex-col\n      hidden lg:block`,initial:{x:-300,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,ease:"easeOut"},children:[m.jsxs("div",{className:`flex items-center justify-between p-4 border-b flex-shrink-0 ${i?"border-gray-700/50":"border-gray-200/50"} backdrop-blur-sm`,children:[!s&&m.jsxs(h.div,{className:"flex items-center space-x-3",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2,duration:.3},children:[m.jsxs("div",{className:"relative p-2.5 rounded-lg bg-gradient-to-br from-emerald-500 via-green-500 to-teal-600 text-white shadow-lg",children:[m.jsx(o,{className:"h-5 w-5"}),m.jsx(h.div,{className:"absolute inset-0 rounded-xl bg-gradient-to-br from-white/20 to-transparent",animate:{opacity:[0,.3,0]},transition:{duration:2,repeat:1/0,repeatDelay:1}})]}),m.jsxs("div",{children:[m.jsx("h2",{className:"font-bold text-lg bg-gradient-to-r bg-clip-text text-transparent "+(i?"from-white to-gray-300":"from-gray-800 to-gray-600"),children:"Admin Panel"}),m.jsx("p",{className:"text-xs "+(i?"text-gray-400":"text-gray-500"),children:"Dashboard v2.0"})]})]}),m.jsxs(h.button,{onClick:r,className:"relative p-2.5 rounded-xl transition-all duration-200 "+(i?"hover:bg-gray-700/50 text-gray-300 hover:text-white":"hover:bg-gray-100/50 text-gray-600 hover:text-gray-800"),whileHover:{scale:1.05},whileTap:{scale:.95},children:[s?m.jsx(u,{className:"h-5 w-5"}):m.jsx(y,{className:"h-5 w-5"}),m.jsx(h.div,{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-emerald-500/10 to-green-500/10 opacity-0",whileHover:{opacity:1},transition:{duration:.2}})]})]}),m.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent min-h-0 max-h-full",children:m.jsx("div",{className:"py-4 px-3 space-y-2 pb-6",children:j.map(t=>m.jsxs("div",{children:[m.jsx(h.div,{className:"relative "+(t.children?"mb-1":"mb-2"),whileHover:{scale:1.02},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},children:m.jsxs(h.button,{onClick:()=>{return t.children?(e=t.id,void v(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])):w(t.id);var e},className:"group relative w-full flex items-center justify-between px-3 py-3 rounded-lg font-medium transition-all duration-300 "+(e===t.id||t.children&&t.children.some(t=>e===t.id)?`text-white bg-gradient-to-r ${t.color} shadow-lg border border-white/10`:i?"text-gray-300 hover:bg-emerald-500/10 hover:text-emerald-200 border border-transparent hover:border-emerald-400/20":"text-gray-600 hover:bg-emerald-50/80 hover:text-emerald-700 border border-transparent hover:border-emerald-200/30"),whileTap:{scale:.98},children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsxs("div",{className:"relative p-1.5 rounded-md transition-all duration-200 "+(e===t.id||t.children&&t.children.some(t=>e===t.id)?"bg-white/20 text-white":i?"bg-emerald-500/10 text-emerald-300 group-hover:bg-emerald-400/15 group-hover:text-emerald-200":"bg-emerald-50/60 text-emerald-500 group-hover:bg-emerald-100/70 group-hover:text-emerald-600"),children:[m.jsx(t.icon,{className:"h-4 w-4 flex-shrink-0"}),e===t.id&&m.jsx(h.div,{className:"absolute inset-0 rounded-lg bg-gradient-to-r from-white/10 to-transparent",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}})]}),!s&&m.jsx("span",{className:"text-sm font-medium",children:t.label})]}),!s&&m.jsxs("div",{className:"flex items-center space-x-2",children:[void 0!==t.count&&m.jsx(h.span,{className:"px-2.5 py-1 rounded-full text-xs font-bold transition-all duration-200 "+(e===t.id||t.children&&t.children.some(t=>e===t.id)?"bg-white/25 text-white shadow-sm":i?"bg-emerald-500/15 text-emerald-200 group-hover:bg-emerald-400/20":"bg-emerald-100/60 text-emerald-600 group-hover:bg-emerald-200/70"),whileHover:{scale:1.05},children:t.count}),t.children&&m.jsx(h.div,{animate:{rotate:n.includes(t.id)?90:0},transition:{duration:.2},children:m.jsx(p,{className:"h-4 w-4"})})]}),(e===t.id||t.children&&t.children.some(t=>e===t.id))&&m.jsx(h.div,{className:"absolute left-0 top-1/2 w-1 h-6 bg-white rounded-r-full",initial:{scaleY:0},animate:{scaleY:1},transition:{duration:.2}})]})}),m.jsx(b,{children:t.children&&n.includes(t.id)&&!s&&m.jsx(h.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"ml-6 space-y-1 mt-2 overflow-hidden",children:t.children.map((t,a)=>m.jsxs(h.button,{onClick:()=>w(t.id),className:"group relative w-full flex items-center justify-between px-3 py-2.5 text-sm transition-all duration-200 rounded-lg "+(e===t.id?"text-emerald-700 bg-emerald-100 border border-emerald-200 shadow-sm":i?"text-gray-400 hover:bg-emerald-500/8 hover:text-emerald-300 border border-transparent hover:border-emerald-400/15":"text-gray-500 hover:bg-emerald-50/60 hover:text-emerald-600 border border-transparent hover:border-emerald-200/25"),initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.2,delay:.05*a},children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[t.icon&&m.jsx("div",{className:"p-1.5 rounded-md transition-all duration-200 "+(e===t.id?"bg-emerald-200 text-emerald-700":i?"bg-gray-700/40 text-gray-500 group-hover:bg-gray-600/50 group-hover:text-gray-400":"bg-gray-200/60 text-gray-400 group-hover:bg-gray-300/70 group-hover:text-gray-500"),children:m.jsx(t.icon,{className:"h-3.5 w-3.5 flex-shrink-0"})}),m.jsx("span",{className:"font-medium",children:t.label})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[void 0!==t.count&&m.jsx(h.span,{className:"px-2 py-0.5 rounded-full text-xs font-bold transition-all duration-200 "+(e===t.id?"bg-emerald-200 text-emerald-700 shadow-sm":i?"bg-gray-700/60 text-gray-400 group-hover:bg-gray-600/70 group-hover:text-gray-300":"bg-gray-200/70 text-gray-500 group-hover:bg-gray-300/80 group-hover:text-gray-600"),whileHover:{scale:1.05},children:t.count}),t.children&&m.jsx(h.div,{animate:{rotate:n.includes(t.id)?90:0},transition:{duration:.2},children:m.jsx(p,{className:"h-3 w-3"})})]}),e===t.id&&m.jsx(h.div,{className:"absolute left-0 top-1/2 w-0.5 h-4 bg-emerald-500 rounded-r-full",initial:{scaleY:0},animate:{scaleY:1},transition:{duration:.2}})]},t.id))})})]},t.id))})}),!s&&m.jsx(h.div,{className:`p-4 border-t ${i?"border-gray-700/50":"border-gray-200/50"} backdrop-blur-sm flex-shrink-0`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.3},children:m.jsxs("div",{className:"text-center "+(i?"text-gray-400":"text-gray-500"),children:[m.jsxs(h.div,{className:"flex items-center justify-center space-x-2 mb-2 p-1.5 rounded-lg hover:bg-gray-800/30 transition-colors cursor-pointer",whileHover:{scale:1.02},children:[m.jsx("div",{className:"p-1 rounded "+(i?"bg-gray-700/40":"bg-gray-200/60"),children:m.jsx(o,{className:"h-3 w-3"})}),m.jsx("span",{className:"text-xs font-medium",children:"Dashboard v2.0"})]}),m.jsxs("div",{className:"text-xs "+(i?"text-gray-500":"text-gray-400"),children:[m.jsx("p",{children:"Dashboard v2.0"}),m.jsx("p",{className:"mt-1",children:"Â© 2024 Green Groves"})]})]})})]})},E=({isDarkMode:e,stats:t,recentActivity:a,topContent:s})=>{const r=[{title:"Total Content",value:t.totalContent,icon:c,color:"bg-blue-500",change:"+12%",changeType:"positive"},{title:"Total Users",value:t.totalUsers,icon:g,color:"bg-green-500",change:"+8%",changeType:"positive"},{title:"Total Views",value:t.totalViews,icon:v,color:"bg-purple-500",change:"+15%",changeType:"positive"},{title:"Avg Rating",value:t.avgRating.toFixed(1),icon:j,color:"bg-yellow-500",change:"+0.2",changeType:"positive"},{title:"Messages",value:t.totalMessages,icon:x,color:"bg-indigo-500",change:"+5%",changeType:"positive"},{title:"Active Users",value:t.activeUsers,icon:w,color:"bg-emerald-500",change:"+3%",changeType:"positive"}],l=e=>{const t=new Date(e),a=Math.floor(((new Date).getTime()-t.getTime())/6e4);return 1>a?"Just now":60>a?a+" minutes ago":1440>a?Math.floor(a/60)+" hours ago":Math.floor(a/1440)+" days ago"};return m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((t,a)=>m.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*a},children:m.jsx(_,{className:"p-6 "+(e?"bg-gray-800":"bg-white"),children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium "+(e?"text-gray-400":"text-gray-600"),children:t.title}),m.jsx("p",{className:"text-2xl font-bold "+(e?"text-white":"text-gray-900"),children:t.value}),m.jsxs("p",{className:"text-sm "+("positive"===t.changeType?"text-green-600":"text-red-600"),children:[t.change," from last month"]})]}),m.jsx("div",{className:"p-3 rounded-full "+t.color,children:m.jsx(t.icon,{className:"w-6 h-6 text-white"})})]})})},t.title))}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsx(h.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},children:m.jsxs(_,{className:"p-6 "+(e?"bg-gray-800":"bg-white"),children:[m.jsx("h3",{className:"text-lg font-semibold mb-4 "+(e?"text-white":"text-gray-900"),children:"Recent Activity"}),m.jsx("div",{className:"space-y-4",children:a.slice(0,5).map((t,a)=>m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-2 h-2 rounded-full "+("content"===t.type?"bg-blue-500":"user"===t.type?"bg-green-500":"message"===t.type?"bg-purple-500":"bg-gray-500")}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("p",{className:"text-sm "+(e?"text-gray-300":"text-gray-900"),children:[m.jsx("span",{className:"font-medium",children:t.user})," ",t.action]}),m.jsx("p",{className:"text-xs text-gray-500",children:l(t.time)})]})]},t.id))})]})}),m.jsx(h.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},children:m.jsxs(_,{className:"p-6 "+(e?"bg-gray-800":"bg-white"),children:[m.jsx("h3",{className:"text-lg font-semibold mb-4 "+(e?"text-white":"text-gray-900"),children:"Top Content"}),m.jsx("div",{className:"space-y-4",children:s.slice(0,5).map((t,a)=>m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold "+("article"===t.type?"bg-blue-100 text-blue-600":"video"===t.type?"bg-red-100 text-red-600":"book"===t.type?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"),children:a+1}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium "+(e?"text-white":"text-gray-900"),children:t.title}),m.jsx("p",{className:"text-xs "+(e?"text-gray-400":"text-gray-500"),children:t.type})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"text-sm font-medium "+(e?"text-white":"text-gray-900"),children:[t.views," views"]}),m.jsxs("p",{className:"text-xs "+(e?"text-gray-400":"text-gray-500"),children:[t.likes," likes"]})]})]},t.id))})]})})]}),m.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:m.jsxs(_,{className:"p-6 "+(e?"bg-gray-800":"bg-white"),children:[m.jsx("h3",{className:"text-lg font-semibold mb-4 "+(e?"text-white":"text-gray-900"),children:"Quick Stats"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsxs("div",{className:"text-3xl font-bold "+(e?"text-white":"text-gray-900"),children:[t.conversionRate,"%"]}),m.jsx("div",{className:"text-sm "+(e?"text-gray-400":"text-gray-600"),children:"Conversion Rate"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-3xl font-bold "+(e?"text-white":"text-gray-900"),children:Math.round(t.totalViews/t.totalContent)}),m.jsx("div",{className:"text-sm "+(e?"text-gray-400":"text-gray-600"),children:"Avg Views per Content"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-3xl font-bold "+(e?"text-white":"text-gray-900"),children:Math.round(t.totalUsers/30)}),m.jsx("div",{className:"text-sm "+(e?"text-gray-400":"text-gray-600"),children:"New Users per Day"})]})]})]})})]})},Y=({isDarkMode:e,activeTab:t,content:a,searchTerm:s,setSearchTerm:r,selectedCategory:l,setSelectedCategory:i,sortBy:n,setSortBy:o,onEdit:c,onDelete:d,onView:g,onCreate:x,categories:u})=>{const[y,b]=L.useState(1),j=[...a.filter(e=>{const t=e.title.toLowerCase().includes(s.toLowerCase())||e.author&&e.author.toLowerCase().includes(s.toLowerCase())||e.instructor&&e.instructor.toLowerCase().includes(s.toLowerCase()),a="all"===l||e.category===l;return t&&a})].sort((e,t)=>{switch(n){case"latest":return new Date(t.createdAt||new Date).getTime()-new Date(e.createdAt||new Date).getTime();case"oldest":return new Date(e.createdAt||new Date).getTime()-new Date(t.createdAt||new Date).getTime();case"views":return(t.views||0)-(e.views||0);case"title":return(e.title||"").localeCompare(t.title||"");default:return 0}}),w=Math.ceil(j.length/10),A=10*(y-1),k=j.slice(A,A+10),D=e=>{switch(e){case"published":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},M=e=>{switch(e){case"article":default:return"ðŸ“„";case"video":return"ðŸŽ¥";case"book":return"ðŸ“š";case"tool":return"ðŸ”§";case"essential":return"ðŸŒ±";case"pot":return"ðŸª´";case"accessory":return"ðŸ› ï¸";case"suggestion":return"ðŸ’¡"}};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[m.jsxs("div",{children:[m.jsxs("h2",{className:"text-2xl font-bold "+(e?"text-white":"text-gray-900"),children:[t.charAt(0).toUpperCase()+t.slice(1)," Management"]}),m.jsxs("p",{className:"text-sm "+(e?"text-gray-400":"text-gray-600"),children:["Manage your ",t," content"]})]}),m.jsxs(h.button,{onClick:x,className:"flex items-center space-x-2 px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:[m.jsx(f,{className:"w-4 h-4"}),m.jsx("span",{children:"Create New"})]})]}),m.jsx(_,{className:"p-6 "+(e?"bg-gray-800":"bg-white"),children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2 "+(e?"text-gray-300":"text-gray-700"),children:"Search"}),m.jsxs("div",{className:"relative",children:[m.jsx(N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),m.jsx("input",{type:"text",value:s,onChange:e=>r(e.target.value),placeholder:"Search content...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2 "+(e?"text-gray-300":"text-gray-700"),children:"Category"}),m.jsxs("select",{value:l,onChange:e=>i(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:[m.jsx("option",{value:"all",children:"All Categories"}),u.map(e=>m.jsx("option",{value:e,children:e},e))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2 "+(e?"text-gray-300":"text-gray-700"),children:"Sort By"}),m.jsxs("select",{value:n,onChange:e=>o(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:[m.jsx("option",{value:"latest",children:"Latest"}),m.jsx("option",{value:"oldest",children:"Oldest"}),m.jsx("option",{value:"views",children:"Most Views"}),m.jsx("option",{value:"title",children:"Title A-Z"})]})]})]})}),m.jsxs(_,{className:"p-6 "+(e?"bg-gray-800":"bg-white"),children:[m.jsx("div",{className:"space-y-4",children:0===k.length?m.jsxs("div",{className:"text-center py-12",children:[m.jsx("div",{className:"text-6xl mb-4",children:"ðŸ“„"}),m.jsx("h3",{className:"text-lg font-medium "+(e?"text-white":"text-gray-900"),children:"No content found"}),m.jsx("p",{className:"text-sm "+(e?"text-gray-400":"text-gray-600"),children:"Try adjusting your search or filters"})]}):k.map((t,a)=>m.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*a},className:`p-4 rounded-lg border ${e?"bg-gray-700 border-gray-600 hover:bg-gray-600":"bg-gray-50 border-gray-200 hover:bg-gray-100"} transition-colors`,children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("div",{className:"text-2xl",children:M(t.type||"article")}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium "+(e?"text-white":"text-gray-900"),children:t.title}),m.jsxs("p",{className:"text-sm "+(e?"text-gray-400":"text-gray-600"),children:[t.author||t.instructor," â€¢ ",t.category]}),m.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[m.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+D(t.status),children:t.status}),t.views&&m.jsxs("span",{className:"text-xs "+(e?"text-gray-400":"text-gray-600"),children:[t.views," views"]}),t.rating&&m.jsxs("span",{className:"text-xs "+(e?"text-gray-400":"text-gray-600"),children:["â­ ",t.rating]})]})]})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(h.button,{onClick:()=>g(t),className:`p-2 rounded-lg ${e?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:m.jsx(v,{className:"w-4 h-4"})}),m.jsx(h.button,{onClick:()=>c(t),className:`p-2 rounded-lg ${e?"bg-blue-600 text-white hover:bg-blue-500":"bg-blue-500 text-white hover:bg-blue-600"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:m.jsx(S,{className:"w-4 h-4"})}),m.jsx(h.button,{onClick:()=>d(t.id),className:`p-2 rounded-lg ${e?"bg-red-600 text-white hover:bg-red-500":"bg-red-500 text-white hover:bg-red-600"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:m.jsx(C,{className:"w-4 h-4"})})]})]})},t.id))}),w>1&&m.jsxs("div",{className:"flex items-center justify-between mt-6",children:[m.jsxs("div",{className:"text-sm "+(e?"text-gray-400":"text-gray-600"),children:["Showing ",A+1," to ",Math.min(A+10,j.length)," of ",j.length," results"]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(h.button,{onClick:()=>b(Math.max(1,y-1)),disabled:1===y,className:`p-2 rounded-lg ${1===y?"bg-gray-200 text-gray-400 cursor-not-allowed":e?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1===y?1:1.05},whileTap:{scale:1===y?1:.95},children:m.jsx(T,{className:"w-4 h-4"})}),Array.from({length:w},(e,t)=>t+1).map(t=>m.jsx(h.button,{onClick:()=>b(t),className:`px-3 py-2 rounded-lg ${t===y?"bg-emerald-500 text-white":e?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:t},t)),m.jsx(h.button,{onClick:()=>b(Math.min(w,y+1)),disabled:y===w,className:`p-2 rounded-lg ${y===w?"bg-gray-200 text-gray-400 cursor-not-allowed":e?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:y===w?1:1.05},whileTap:{scale:y===w?1:.95},children:m.jsx(p,{className:"w-4 h-4"})})]})]})]})]})},q=({isDarkMode:e,users:t,searchTerm:a,setSearchTerm:s,roleFilter:r,setRoleFilter:l,statusFilter:i,setStatusFilter:n,sortBy:o,setSortBy:c,onEdit:d,onDelete:g,onView:x,onCreate:u})=>{const[y,b]=L.useState(1),j=t.filter(e=>{const t=e.name.toLowerCase().includes(a.toLowerCase())||e.email.toLowerCase().includes(a.toLowerCase()),s="all"===r||e.role===r,l="all"===i||e.status===i;return t&&s&&l}).sort((e,t)=>"name-asc"===o?e.name.localeCompare(t.name):"name-desc"===o?t.name.localeCompare(e.name):0),w=Math.ceil(j.length/10),M=10*(y-1),O=j.slice(M,M+10),U=e=>{switch(e){case"admin":return"bg-red-100 text-red-800";case"moderator":return"bg-blue-100 text-blue-800";case"user":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},$=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-yellow-100 text-yellow-800";case"banned":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},H=e=>{const t=new Date(e),a=Math.floor(((new Date).getTime()-t.getTime())/6e4);return 1>a?"Just now":60>a?a+" minutes ago":1440>a?Math.floor(a/60)+" hours ago":Math.floor(a/1440)+" days ago"};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold "+(e?"text-white":"text-gray-900"),children:"User Management"}),m.jsx("p",{className:"text-sm "+(e?"text-gray-400":"text-gray-600"),children:"Manage user accounts and permissions"})]}),m.jsxs(h.button,{onClick:u,className:"flex items-center space-x-2 px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:[m.jsx(f,{className:"w-4 h-4"}),m.jsx("span",{children:"Add User"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsx(_,{className:"p-4 "+(e?"bg-gray-800":"bg-white"),children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium "+(e?"text-gray-400":"text-gray-600"),children:"Total Users"}),m.jsx("p",{className:"text-2xl font-bold "+(e?"text-white":"text-gray-900"),children:t.length})]}),m.jsx(A,{className:"w-8 h-8 "+(e?"text-gray-400":"text-gray-600")})]})}),m.jsx(_,{className:"p-4 "+(e?"bg-gray-800":"bg-white"),children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium "+(e?"text-gray-400":"text-gray-600"),children:"Active Users"}),m.jsx("p",{className:"text-2xl font-bold "+(e?"text-white":"text-gray-900"),children:t.filter(e=>"active"===e.status).length})]}),m.jsx(k,{className:"w-8 h-8 text-green-500"})]})}),m.jsx(_,{className:"p-4 "+(e?"bg-gray-800":"bg-white"),children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium "+(e?"text-gray-400":"text-gray-600"),children:"Admins"}),m.jsx("p",{className:"text-2xl font-bold "+(e?"text-white":"text-gray-900"),children:t.filter(e=>"admin"===e.role).length})]}),m.jsx(D,{className:"w-8 h-8 text-red-500"})]})}),m.jsx(_,{className:"p-4 "+(e?"bg-gray-800":"bg-white"),children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium "+(e?"text-gray-400":"text-gray-600"),children:"New This Month"}),m.jsx("p",{className:"text-2xl font-bold "+(e?"text-white":"text-gray-900"),children:t.filter(e=>{const t=new Date(e.createdAt),a=new Date;return t.getMonth()===a.getMonth()&&t.getFullYear()===a.getFullYear()}).length})]}),m.jsx(f,{className:"w-8 h-8 text-blue-500"})]})})]}),m.jsx(_,{className:"p-6 "+(e?"bg-gray-800":"bg-white"),children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2 "+(e?"text-gray-300":"text-gray-700"),children:"Search"}),m.jsxs("div",{className:"relative",children:[m.jsx(N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),m.jsx("input",{type:"text",value:a,onChange:e=>s(e.target.value),placeholder:"Search users...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2 "+(e?"text-gray-300":"text-gray-700"),children:"Role"}),m.jsxs("select",{value:r,onChange:e=>l(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:[m.jsx("option",{value:"all",children:"All Roles"}),m.jsx("option",{value:"admin",children:"Admin"}),m.jsx("option",{value:"moderator",children:"Moderator"}),m.jsx("option",{value:"user",children:"User"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2 "+(e?"text-gray-300":"text-gray-700"),children:"Status"}),m.jsxs("select",{value:i,onChange:e=>n(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:[m.jsx("option",{value:"all",children:"All Status"}),m.jsx("option",{value:"active",children:"Active"}),m.jsx("option",{value:"inactive",children:"Inactive"}),m.jsx("option",{value:"banned",children:"Banned"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2 "+(e?"text-gray-300":"text-gray-700"),children:"Sort By"}),m.jsxs("select",{value:o,onChange:e=>c(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:[m.jsx("option",{value:"name-asc",children:"Name A-Z"}),m.jsx("option",{value:"name-desc",children:"Name Z-A"}),m.jsx("option",{value:"newest",children:"Newest"}),m.jsx("option",{value:"oldest",children:"Oldest"})]})]})]})}),m.jsxs(_,{className:"p-6 "+(e?"bg-gray-800":"bg-white"),children:[m.jsx("div",{className:"space-y-4",children:0===O.length?m.jsxs("div",{className:"text-center py-12",children:[m.jsx("div",{className:"text-6xl mb-4",children:"ðŸ‘¥"}),m.jsx("h3",{className:"text-lg font-medium "+(e?"text-white":"text-gray-900"),children:"No users found"}),m.jsx("p",{className:"text-sm "+(e?"text-gray-400":"text-gray-600"),children:"Try adjusting your search or filters"})]}):O.map((t,a)=>m.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*a},className:`p-4 rounded-lg border ${e?"bg-gray-700 border-gray-600 hover:bg-gray-600":"bg-gray-50 border-gray-200 hover:bg-gray-100"} transition-colors`,children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center "+(e?"bg-gray-600":"bg-gray-200"),children:t.avatar?m.jsx("img",{src:t.avatar,alt:t.name,className:"w-12 h-12 rounded-full object-cover"}):m.jsx(A,{className:"w-6 h-6 text-gray-400"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium "+(e?"text-white":"text-gray-900"),children:t.name}),m.jsx("p",{className:"text-sm "+(e?"text-gray-400":"text-gray-600"),children:t.email}),m.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[m.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+U(t.role),children:t.role}),m.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+$(t.status),children:t.status}),t.lastLogin&&m.jsxs("span",{className:"text-xs "+(e?"text-gray-400":"text-gray-600"),children:["Last login: ",H(t.lastLogin)]})]})]})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(h.button,{onClick:()=>x(t),className:`p-2 rounded-lg ${e?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:m.jsx(v,{className:"w-4 h-4"})}),m.jsx(h.button,{onClick:()=>d(t),className:`p-2 rounded-lg ${e?"bg-blue-600 text-white hover:bg-blue-500":"bg-blue-500 text-white hover:bg-blue-600"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:m.jsx(S,{className:"w-4 h-4"})}),m.jsx(h.button,{onClick:()=>g(t.id),className:`p-2 rounded-lg ${e?"bg-red-600 text-white hover:bg-red-500":"bg-red-500 text-white hover:bg-red-600"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:m.jsx(C,{className:"w-4 h-4"})})]})]})},t.id))}),w>1&&m.jsxs("div",{className:"flex items-center justify-between mt-6",children:[m.jsxs("div",{className:"text-sm "+(e?"text-gray-400":"text-gray-600"),children:["Showing ",M+1," to ",Math.min(M+10,j.length)," of ",j.length," results"]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(h.button,{onClick:()=>b(Math.max(1,y-1)),disabled:1===y,className:`p-2 rounded-lg ${1===y?"bg-gray-200 text-gray-400 cursor-not-allowed":e?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1===y?1:1.05},whileTap:{scale:1===y?1:.95},children:m.jsx(T,{className:"w-4 h-4"})}),Array.from({length:w},(e,t)=>t+1).map(t=>m.jsx(h.button,{onClick:()=>b(t),className:`px-3 py-2 rounded-lg ${t===y?"bg-emerald-500 text-white":e?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:t},t)),m.jsx(h.button,{onClick:()=>b(Math.min(w,y+1)),disabled:y===w,className:`p-2 rounded-lg ${y===w?"bg-gray-200 text-gray-400 cursor-not-allowed":e?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:y===w?1:1.05},whileTap:{scale:y===w?1:.95},children:m.jsx(p,{className:"w-4 h-4"})})]})]})]})]})},Z=({isDarkMode:e,messages:t,searchTerm:a,setSearchTerm:s,statusFilter:r,setStatusFilter:l,sortBy:i,setSortBy:n,onEdit:o,onDelete:c,onView:d,onStatusChange:g})=>{const[x,u]=L.useState(1),y=t.filter(e=>{const t=e.name.toLowerCase().includes(a.toLowerCase())||e.email.toLowerCase().includes(a.toLowerCase())||e.subject.toLowerCase().includes(a.toLowerCase())||e.message.toLowerCase().includes(a.toLowerCase()),s="all"===r||e.status===r;return t&&s}).sort((e,t)=>{switch(i){case"newest":return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime();case"oldest":return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime();case"name":return e.name.localeCompare(t.name);case"status":return e.status.localeCompare(t.status);default:return 0}}),b=Math.ceil(y.length/10),j=10*(x-1),w=y.slice(j,j+10),f=e=>{switch(e){case"unread":return"bg-red-100 text-red-800";case"read":return"bg-yellow-100 text-yellow-800";case"replied":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},A=e=>{const t=new Date(e),a=Math.floor(((new Date).getTime()-t.getTime())/6e4);return 1>a?"Just now":60>a?a+" minutes ago":1440>a?Math.floor(a/60)+" hours ago":Math.floor(a/1440)+" days ago"};return m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold "+(e?"text-white":"text-gray-900"),children:"Contact Management"}),m.jsx("p",{className:"text-sm "+(e?"text-gray-400":"text-gray-600"),children:"Manage contact messages and inquiries"})]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsx(_,{className:"p-4 "+(e?"bg-gray-800":"bg-white"),children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium "+(e?"text-gray-400":"text-gray-600"),children:"Total Messages"}),m.jsx("p",{className:"text-2xl font-bold "+(e?"text-white":"text-gray-900"),children:t.length})]}),m.jsx(M,{className:"w-8 h-8 "+(e?"text-gray-400":"text-gray-600")})]})}),m.jsx(_,{className:"p-4 "+(e?"bg-gray-800":"bg-white"),children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium "+(e?"text-gray-400":"text-gray-600"),children:"Unread"}),m.jsx("p",{className:"text-2xl font-bold "+(e?"text-white":"text-gray-900"),children:t.filter(e=>"unread"===e.status).length})]}),m.jsx(O,{className:"w-8 h-8 text-red-500"})]})}),m.jsx(_,{className:"p-4 "+(e?"bg-gray-800":"bg-white"),children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium "+(e?"text-gray-400":"text-gray-600"),children:"Read"}),m.jsx("p",{className:"text-2xl font-bold "+(e?"text-white":"text-gray-900"),children:t.filter(e=>"read"===e.status).length})]}),m.jsx(v,{className:"w-8 h-8 text-yellow-500"})]})}),m.jsx(_,{className:"p-4 "+(e?"bg-gray-800":"bg-white"),children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium "+(e?"text-gray-400":"text-gray-600"),children:"Replied"}),m.jsx("p",{className:"text-2xl font-bold "+(e?"text-white":"text-gray-900"),children:t.filter(e=>"replied"===e.status).length})]}),m.jsx(U,{className:"w-8 h-8 text-green-500"})]})})]}),m.jsx(_,{className:"p-6 "+(e?"bg-gray-800":"bg-white"),children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2 "+(e?"text-gray-300":"text-gray-700"),children:"Search"}),m.jsxs("div",{className:"relative",children:[m.jsx(N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),m.jsx("input",{type:"text",value:a,onChange:e=>s(e.target.value),placeholder:"Search messages...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2 "+(e?"text-gray-300":"text-gray-700"),children:"Status"}),m.jsxs("select",{value:r,onChange:e=>l(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:[m.jsx("option",{value:"all",children:"All Status"}),m.jsx("option",{value:"unread",children:"Unread"}),m.jsx("option",{value:"read",children:"Read"}),m.jsx("option",{value:"replied",children:"Replied"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2 "+(e?"text-gray-300":"text-gray-700"),children:"Sort By"}),m.jsxs("select",{value:i,onChange:e=>n(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:[m.jsx("option",{value:"newest",children:"Newest First"}),m.jsx("option",{value:"oldest",children:"Oldest First"}),m.jsx("option",{value:"name",children:"Name A-Z"}),m.jsx("option",{value:"status",children:"Status"})]})]})]})}),m.jsxs(_,{className:"p-6 "+(e?"bg-gray-800":"bg-white"),children:[m.jsx("div",{className:"space-y-4",children:0===w.length?m.jsxs("div",{className:"text-center py-12",children:[m.jsx("div",{className:"text-6xl mb-4",children:"ðŸ“§"}),m.jsx("h3",{className:"text-lg font-medium "+(e?"text-white":"text-gray-900"),children:"No messages found"}),m.jsx("p",{className:"text-sm "+(e?"text-gray-400":"text-gray-600"),children:"Try adjusting your search or filters"})]}):w.map((t,a)=>{return m.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*a},className:`p-4 rounded-lg border ${e?"bg-gray-700 border-gray-600 hover:bg-gray-600":"bg-gray-50 border-gray-200 hover:bg-gray-100"} transition-colors`,children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[m.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+(e?"bg-gray-600":"bg-gray-200"),children:m.jsx(M,{className:"w-5 h-5 text-gray-400"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-medium "+(e?"text-white":"text-gray-900"),children:t.name}),m.jsx("p",{className:"text-sm "+(e?"text-gray-400":"text-gray-600"),children:t.email})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+f(t.status),children:t.status}),m.jsx("span",{className:"text-xs "+(e?"text-gray-400":"text-gray-600"),children:A(t.createdAt)})]})]}),m.jsxs("div",{className:"mb-2",children:[m.jsx("h4",{className:"font-medium "+(e?"text-white":"text-gray-900"),children:t.subject}),m.jsx("p",{className:"text-sm "+(e?"text-gray-300":"text-gray-700"),children:(s=t.message,s.length>150?s.substring(0,150)+"...":s)})]}),t.phone&&m.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[m.jsx($,{className:"w-4 h-4 text-gray-400"}),m.jsx("span",{className:e?"text-gray-400":"text-gray-600",children:t.phone})]})]}),m.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[m.jsx(h.button,{onClick:()=>d(t),className:`p-2 rounded-lg ${e?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:m.jsx(v,{className:"w-4 h-4"})}),"replied"!==t.status&&m.jsx(h.button,{onClick:()=>g(t.id,"replied"),className:`p-2 rounded-lg ${e?"bg-green-600 text-white hover:bg-green-500":"bg-green-500 text-white hover:bg-green-600"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:m.jsx(U,{className:"w-4 h-4"})}),m.jsx(h.button,{onClick:()=>o(t),className:`p-2 rounded-lg ${e?"bg-blue-600 text-white hover:bg-blue-500":"bg-blue-500 text-white hover:bg-blue-600"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:m.jsx(S,{className:"w-4 h-4"})}),m.jsx(h.button,{onClick:()=>c(t.id),className:`p-2 rounded-lg ${e?"bg-red-600 text-white hover:bg-red-500":"bg-red-500 text-white hover:bg-red-600"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:m.jsx(C,{className:"w-4 h-4"})})]})]})},t.id);var s})}),b>1&&m.jsxs("div",{className:"flex items-center justify-between mt-6",children:[m.jsxs("div",{className:"text-sm "+(e?"text-gray-400":"text-gray-600"),children:["Showing ",j+1," to ",Math.min(j+10,y.length)," of ",y.length," results"]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(h.button,{onClick:()=>u(Math.max(1,x-1)),disabled:1===x,className:`p-2 rounded-lg ${1===x?"bg-gray-200 text-gray-400 cursor-not-allowed":e?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1===x?1:1.05},whileTap:{scale:1===x?1:.95},children:m.jsx(T,{className:"w-4 h-4"})}),Array.from({length:b},(e,t)=>t+1).map(t=>m.jsx(h.button,{onClick:()=>u(t),className:`px-3 py-2 rounded-lg ${t===x?"bg-emerald-500 text-white":e?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:t},t)),m.jsx(h.button,{onClick:()=>u(Math.min(b,x+1)),disabled:x===b,className:`p-2 rounded-lg ${x===b?"bg-gray-200 text-gray-400 cursor-not-allowed":e?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:x===b?1:1.05},whileTap:{scale:x===b?1:.95},children:m.jsx(p,{className:"w-4 h-4"})})]})]})]})]})},G=({isDarkMode:e,products:t,searchTerm:a,setSearchTerm:s,selectedCategory:r,setSelectedCategory:l,sortBy:i,setSortBy:n,onEdit:o,onDelete:c,onView:g,onCreate:x,categories:u})=>{const[y,b]=L.useState(1),w=[...t.filter(e=>{var t;const s=e.title.toLowerCase().includes(a.toLowerCase())||(null==(t=e.description)?void 0:t.toLowerCase().includes(a.toLowerCase())),l="all"===r||e.category===r;return s&&l})].sort((e,t)=>{switch(i){case"latest":return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime();case"oldest":return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime();case"title":return e.title.localeCompare(t.title);case"views":return(t.views||0)-(e.views||0);case"likes":return(t.likes||0)-(e.likes||0);case"category":return e.category.localeCompare(t.category);case"price-low":return(e.price||0)-(t.price||0);case"price-high":return(t.price||0)-(e.price||0);default:return 0}}),A=Math.ceil(w.length/12),k=12*(y-1),D=w.slice(k,k+12),M=e=>{switch(e){case"published":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold "+(e?"text-white":"text-gray-900"),children:"Product Management"}),m.jsx("p",{className:"text-sm "+(e?"text-gray-400":"text-gray-600"),children:"Manage your product catalog"})]}),m.jsxs(h.button,{onClick:x,className:"flex items-center space-x-2 px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:[m.jsx(f,{className:"w-4 h-4"}),m.jsx("span",{children:"Add Product"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsx(_,{className:"p-4 "+(e?"bg-gray-800":"bg-white"),children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium "+(e?"text-gray-400":"text-gray-600"),children:"Total Products"}),m.jsx("p",{className:"text-2xl font-bold "+(e?"text-white":"text-gray-900"),children:t.length})]}),m.jsx(d,{className:"w-8 h-8 "+(e?"text-gray-400":"text-gray-600")})]})}),m.jsx(_,{className:"p-4 "+(e?"bg-gray-800":"bg-white"),children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium "+(e?"text-gray-400":"text-gray-600"),children:"Published"}),m.jsx("p",{className:"text-2xl font-bold "+(e?"text-white":"text-gray-900"),children:t.filter(e=>"published"===e.status).length})]}),m.jsx(v,{className:"w-8 h-8 text-green-500"})]})}),m.jsx(_,{className:"p-4 "+(e?"bg-gray-800":"bg-white"),children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium "+(e?"text-gray-400":"text-gray-600"),children:"Featured"}),m.jsx("p",{className:"text-2xl font-bold "+(e?"text-white":"text-gray-900"),children:t.filter(e=>e.featured).length})]}),m.jsx(j,{className:"w-8 h-8 text-yellow-500"})]})}),m.jsx(_,{className:"p-4 "+(e?"bg-gray-800":"bg-white"),children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium "+(e?"text-gray-400":"text-gray-600"),children:"Avg Rating"}),m.jsx("p",{className:"text-2xl font-bold "+(e?"text-white":"text-gray-900"),children:t.length>0?(t.reduce((e,t)=>e+(t.rating||0),0)/t.length).toFixed(1):"0.0"})]}),m.jsx(j,{className:"w-8 h-8 text-blue-500"})]})})]}),m.jsx(_,{className:"p-6 "+(e?"bg-gray-800":"bg-white"),children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2 "+(e?"text-gray-300":"text-gray-700"),children:"Search"}),m.jsxs("div",{className:"relative",children:[m.jsx(N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),m.jsx("input",{type:"text",value:a,onChange:e=>s(e.target.value),placeholder:"Search products...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2 "+(e?"text-gray-300":"text-gray-700"),children:"Category"}),m.jsxs("select",{value:r,onChange:e=>l(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:[m.jsx("option",{value:"all",children:"All Categories"}),u.map(e=>m.jsx("option",{value:e,children:e},e))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2 "+(e?"text-gray-300":"text-gray-700"),children:"Sort By"}),m.jsxs("select",{value:i,onChange:e=>n(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:[m.jsx("option",{value:"latest",children:"Latest"}),m.jsx("option",{value:"oldest",children:"Oldest"}),m.jsx("option",{value:"title",children:"Title A-Z"}),m.jsx("option",{value:"views",children:"Most Views"}),m.jsx("option",{value:"likes",children:"Most Likes"}),m.jsx("option",{value:"category",children:"Category"}),m.jsx("option",{value:"price-low",children:"Price: Low to High"}),m.jsx("option",{value:"price-high",children:"Price: High to Low"})]})]})]})}),m.jsxs(_,{className:"p-6 "+(e?"bg-gray-800":"bg-white"),children:[0===D.length?m.jsxs("div",{className:"text-center py-12",children:[m.jsx("div",{className:"text-6xl mb-4",children:"ðŸ“¦"}),m.jsx("h3",{className:"text-lg font-medium "+(e?"text-white":"text-gray-900"),children:"No products found"}),m.jsx("p",{className:"text-sm "+(e?"text-gray-400":"text-gray-600"),children:"Try adjusting your search or filters"})]}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:D.map((t,a)=>{return m.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*a},className:`rounded-lg border ${e?"bg-gray-700 border-gray-600 hover:bg-gray-600":"bg-white border-gray-200 hover:bg-gray-50"} transition-colors overflow-hidden`,children:[m.jsxs("div",{className:"relative h-48 bg-gray-200",children:[t.imageUrl?m.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center",children:m.jsx(d,{className:"w-16 h-16 text-gray-400"})}),m.jsxs("div",{className:"absolute top-2 right-2 flex space-x-1",children:[m.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+M(t.status),children:t.status}),t.featured&&m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-yellow-100 text-yellow-800",children:"Featured"})]})]}),m.jsxs("div",{className:"p-4",children:[m.jsx("div",{className:"flex items-start justify-between mb-2",children:m.jsx("h3",{className:`font-medium text-sm ${e?"text-white":"text-gray-900"} line-clamp-2`,children:t.title})}),m.jsx("div",{className:"flex items-center space-x-2 mb-2",children:m.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+(r=t.category,{tools:"bg-blue-100 text-blue-800",essentials:"bg-green-100 text-green-800",pots:"bg-purple-100 text-purple-800",accessories:"bg-orange-100 text-orange-800",suggestions:"bg-pink-100 text-pink-800"}[r]||"bg-gray-100 text-gray-800"),children:t.category})}),m.jsx("p",{className:`text-xs ${e?"text-gray-400":"text-gray-600"} line-clamp-2 mb-3`,children:t.description}),m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[t.rating&&m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(j,{className:"w-3 h-3 text-yellow-500 fill-current"}),m.jsx("span",{className:"text-xs "+(e?"text-gray-400":"text-gray-600"),children:t.rating})]}),t.views&&m.jsxs("span",{className:"text-xs "+(e?"text-gray-400":"text-gray-600"),children:[t.views," views"]})]}),m.jsx("div",{className:"text-sm font-medium "+(e?"text-white":"text-gray-900"),children:(s=t.price,s?"$"+s.toFixed(2):"Free")})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsxs(h.button,{onClick:()=>g(t),className:`flex-1 py-2 px-3 rounded-lg text-xs font-medium ${e?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[m.jsx(v,{className:"w-3 h-3 inline mr-1"}),"View"]}),m.jsxs(h.button,{onClick:()=>o(t),className:`flex-1 py-2 px-3 rounded-lg text-xs font-medium ${e?"bg-blue-600 text-white hover:bg-blue-500":"bg-blue-500 text-white hover:bg-blue-600"} transition-colors`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[m.jsx(S,{className:"w-3 h-3 inline mr-1"}),"Edit"]}),m.jsx(h.button,{onClick:()=>c(t.id),className:`py-2 px-3 rounded-lg text-xs font-medium ${e?"bg-red-600 text-white hover:bg-red-500":"bg-red-500 text-white hover:bg-red-600"} transition-colors`,whileHover:{scale:1.02},whileTap:{scale:.98},children:m.jsx(C,{className:"w-3 h-3"})})]})]})]},t.id);var s,r})}),A>1&&m.jsxs("div",{className:"flex items-center justify-between mt-6",children:[m.jsxs("div",{className:"text-sm "+(e?"text-gray-400":"text-gray-600"),children:["Showing ",k+1," to ",Math.min(k+12,w.length)," of ",w.length," results"]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(h.button,{onClick:()=>b(Math.max(1,y-1)),disabled:1===y,className:`p-2 rounded-lg ${1===y?"bg-gray-200 text-gray-400 cursor-not-allowed":e?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1===y?1:1.05},whileTap:{scale:1===y?1:.95},children:m.jsx(T,{className:"w-4 h-4"})}),Array.from({length:A},(e,t)=>t+1).map(t=>m.jsx(h.button,{onClick:()=>b(t),className:`px-3 py-2 rounded-lg ${t===y?"bg-emerald-500 text-white":e?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:t},t)),m.jsx(h.button,{onClick:()=>b(Math.min(A,y+1)),disabled:y===A,className:`p-2 rounded-lg ${y===A?"bg-gray-200 text-gray-400 cursor-not-allowed":e?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:y===A?1:1.05},whileTap:{scale:y===A?1:.95},children:m.jsx(p,{className:"w-4 h-4"})})]})]})]})]})},J=()=>{const{user:e}=B(),{isDarkMode:o}=I(),[c,d]=L.useState("overview"),[g,x]=L.useState(!1),[y,p]=L.useState(""),[v,j]=L.useState("all"),[w,f]=L.useState("latest"),[N,S]=L.useState(""),[C,T]=L.useState("all"),[A,D]=L.useState("all"),[M,O]=L.useState("name-asc"),[U,$]=L.useState(""),[J,Q]=L.useState("all"),[z,K]=L.useState("newest"),[W,X]=L.useState(""),[ee,te]=L.useState("all"),[ae,se]=L.useState("latest"),[re,le]=L.useState([]),[ie,ne]=L.useState([]),[oe,ce]=L.useState([]),[de,ge]=L.useState([]),[xe,me]=L.useState([]),[he,ue]=L.useState([]),[ye,pe]=L.useState([]),[be,ve]=L.useState([]),[je,we]=L.useState([]),[fe,Ne]=L.useState([]),[Se,Ce]=L.useState([]),[Te,Ae]=L.useState({articles:[],techniques:[],books:[],suggestions:[],videos:[],tools:[],essentials:[],pots:[],accessories:[],"about-us":[]}),[ke,De]=L.useState({totalContent:0,totalUsers:0,totalViews:0,avgRating:0,totalMessages:0,totalContactMessages:0,activeUsers:0,conversionRate:0}),[Me,Oe]=L.useState([]),[Ue,$e]=L.useState([]),[He,Le]=L.useState(!0),[Ie,_e]=L.useState(null);L.useEffect(()=>{n(void 0,null,function*(){try{Le(!0),_e(null);const e=(e,...t)=>n(void 0,[e,...t],function*(e,t=[]){try{const a=yield e();return Array.isArray(a)?a:t}catch(a){return t}}),[t,a,s,r,l,i,o,c,d,g,x,m]=yield Promise.all([e(()=>F.getArticles()),e(()=>F.getVideos()),e(()=>F.getBooks()),e(()=>F.getTools()),e(()=>F.getEssentials()),e(()=>F.getPots()),e(()=>F.getAccessories()),e(()=>F.getSuggestions()),e(()=>F.getAboutUs()),e(()=>P.getAll()),e(()=>V.getAll()),e(()=>{var e,t;return(null==(t=(e=F).getCategories)?void 0:t.call(e))||[]})]);if(le(t.map(Be)),ne(a.map(Fe)),ce(s.map(Pe)),ge(r.map(Ve)),me(l.map(Re)),ue(i.map(Ee)),pe(o.map(Ye)),ve(c.map(qe)),we(d.map(Ze)),Ce(Array.isArray(g)?g:[]),Ne(Array.isArray(x)?x:[]),Array.isArray(m)){const e={articles:[],techniques:[],books:[],suggestions:[],videos:[],tools:[],essentials:[],pots:[],accessories:[],"about-us":[]};m.forEach(t=>{const a=t.type||"articles";e[a]&&e[a].push(t.name||"")}),Ae(e)}const h=[...t,...a,...s,...r,...l,...i,...o,...c,...d],u=h.length,y=Array.isArray(x)?x.length:0,p=h.reduce((e,t)=>e+(t.views||0),0),b=h.length>0?h.reduce((e,t)=>e+(t.rating||0),0)/h.length:0,v=Array.isArray(g)?g.length:0;De({totalContent:u,totalUsers:y,totalViews:p,avgRating:b,totalMessages:v,totalContactMessages:v,activeUsers:Math.floor(.7*y),conversionRate:y>0?v/y*100:0});const j=[...t.slice(0,3).map(e=>{var t;return{id:"article-"+e.id,user:"object"==typeof e.author?null==(t=e.author)?void 0:t.name:e.author||"Admin",action:"created a new article",time:e.createdAt||(new Date).toISOString(),type:"content"}}),...a.slice(0,2).map(e=>({id:"video-"+e.id,user:e.instructor||"Admin",action:"uploaded a new video",time:e.createdAt||(new Date).toISOString(),type:"content"})),...x.slice(0,2).map(e=>({id:"user-"+e.id,user:e.name,action:"joined the platform",time:e.createdAt||(new Date).toISOString(),type:"user"})),...g.slice(0,2).map(e=>({id:"message-"+e.id,user:e.name,action:"sent a message",time:e.createdAt||(new Date).toISOString(),type:"message"}))].sort((e,t)=>new Date(t.time||(new Date).toISOString()).getTime()-new Date(e.time||(new Date).toISOString()).getTime()).slice(0,10);Oe(j);const w=h.filter(e=>e.views&&e.views>0).sort((e,t)=>(t.views||0)-(e.views||0)).slice(0,10).map(e=>({id:e.id.toString(),title:e.title,views:e.views||0,likes:e.likes||0,type:e.type||"article"}));$e(w)}catch(e){_e("Failed to load data. Please try again.")}finally{Le(!1)}})},[]);const Be=e=>{var t,a,s;return{id:e.id.toString(),title:e.title,author:"object"==typeof e.author?null==(t=e.author)?void 0:t.name:e.author||"Admin",category:"object"==typeof e.category?null==(a=e.category)?void 0:a.name:e.category||"General",status:e.status||"published",views:e.views||0,likes:e.likes||0,rating:e.rating||0,createdAt:(e.createdAt||e.created_at||(new Date).toISOString()).split("T")[0],updatedAt:(e.updatedAt||e.updated_at||(new Date).toISOString()).split("T")[0],description:e.excerpt||(null==(s=e.body)?void 0:s.substring(0,150))+"...",tags:e.tags||[],imageUrl:e.image||"/image.png",type:"article"}},Fe=e=>{var t;return{id:e.id.toString(),title:e.title,instructor:e.instructor||"Admin",category:"object"==typeof e.category?null==(t=e.category)?void 0:t.name:e.category||"Techniques",status:e.status||"published",views:e.views||0,likes:e.likes||0,rating:e.rating||0,createdAt:(e.createdAt||e.created_at||(new Date).toISOString()).split("T")[0],updatedAt:(e.updatedAt||e.updated_at||(new Date).toISOString()).split("T")[0],description:e.description||"",videoUrl:e.embed_url||"",imageUrl:e.thumbnail||"/image.png",type:"video"}},Pe=e=>{var t,a;return{id:e.id.toString(),title:e.title,author:"object"==typeof e.author?null==(t=e.author)?void 0:t.name:e.author||"Unknown Author",category:"object"==typeof e.category?null==(a=e.category)?void 0:a.name:e.category||"General",status:"published",views:e.views||0,likes:e.likes||0,rating:e.rating||0,createdAt:(e.createdAt||e.created_at||(new Date).toISOString()).split("T")[0],updatedAt:(e.updatedAt||e.updated_at||(new Date).toISOString()).split("T")[0],description:e.description||"",imageUrl:e.image||"/image.png",type:"book"}},Ve=e=>{var t;return{id:e.id.toString(),title:e.name||e.title||"",category:"object"==typeof e.category?null==(t=e.category)?void 0:t.name:e.category||"Tools",status:e.status||"published",views:e.views||0,likes:e.likes||0,rating:e.rating||0,createdAt:(e.createdAt||e.created_at||(new Date).toISOString()).split("T")[0],updatedAt:(e.updatedAt||e.updated_at||(new Date).toISOString()).split("T")[0],description:e.description||"",imageUrl:e.images_json&&JSON.parse(e.images_json)[0]||"/image.png",type:"tool",price:e.price||0}},Re=e=>{var t;return{id:e.id.toString(),title:e.name||e.title||"",category:"object"==typeof e.category?null==(t=e.category)?void 0:t.name:e.category||"Essentials",status:e.status||"published",views:e.views||0,likes:e.likes||0,rating:e.rating||0,createdAt:(e.createdAt||e.created_at||(new Date).toISOString()).split("T")[0],updatedAt:(e.updatedAt||e.updated_at||(new Date).toISOString()).split("T")[0],description:e.description||"",imageUrl:e.image||"/image.png",type:"essential",price:e.price||0}},Ee=e=>{var t;return{id:e.id.toString(),title:e.name||e.title||"",category:"object"==typeof e.category?null==(t=e.category)?void 0:t.name:e.category||"Pots",status:e.status||"published",views:e.views||0,likes:e.likes||0,rating:e.rating||0,createdAt:(e.createdAt||e.created_at||(new Date).toISOString()).split("T")[0],updatedAt:(e.updatedAt||e.updated_at||(new Date).toISOString()).split("T")[0],description:e.description||"",imageUrl:e.image||"/image.png",type:"pot",price:e.price||0}},Ye=e=>{var t;return{id:e.id.toString(),title:e.name||e.title||"",category:"object"==typeof e.category?null==(t=e.category)?void 0:t.name:e.category||"Accessories",status:e.status||"published",views:e.views||0,likes:e.likes||0,rating:e.rating||0,createdAt:(e.createdAt||e.created_at||(new Date).toISOString()).split("T")[0],updatedAt:(e.updatedAt||e.updated_at||(new Date).toISOString()).split("T")[0],description:e.description||"",imageUrl:e.image||"/image.png",type:"accessory",price:e.price||0}},qe=e=>{var t;return{id:e.id.toString(),title:e.title||e.name||"",category:"object"==typeof e.category?null==(t=e.category)?void 0:t.name:e.category||"Suggestions",status:"published",views:e.views||0,likes:e.likes||0,rating:e.rating||4.5,createdAt:(e.createdAt||e.created_at||(new Date).toISOString()).split("T")[0],updatedAt:(e.updatedAt||e.updated_at||(new Date).toISOString()).split("T")[0],description:e.description||"",imageUrl:e.image||"/image.png",type:"suggestion",price:e.price||0,featured:e.is_featured||!1,difficulty:e.difficulty_level||"beginner",tags:e.tags||[]}},Ze=e=>{var t;return{id:e.id.toString(),title:e.title,category:"object"==typeof e.category?null==(t=e.category)?void 0:t.name:e.category||"About Us",status:e.is_active?"published":"draft",views:e.views||0,likes:e.likes||0,rating:5,createdAt:(e.createdAt||e.created_at||(new Date).toISOString()).split("T")[0],updatedAt:(e.updatedAt||e.updated_at||(new Date).toISOString()).split("T")[0],description:e.description||"",content:e.content,imageUrl:e.image||"/image.png",type:"about-us"}};return e?He?m.jsx("div",{className:"min-h-screen flex items-center justify-center "+(o?"bg-gray-900":"bg-emerald-50"),children:m.jsx(_,{className:"text-center p-8 max-w-md",children:m.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[m.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-emerald-500 mx-auto"}),m.jsx("h2",{className:"text-2xl font-bold "+(o?"text-white":"text-gray-900"),children:"Loading..."}),m.jsx("p",{className:o?"text-gray-400":"text-gray-600",children:"Please wait while we load your dashboard."})]})})}):Ie?m.jsx("div",{className:"min-h-screen flex items-center justify-center "+(o?"bg-gray-900":"bg-emerald-50"),children:m.jsx(_,{className:"text-center p-8 max-w-md",children:m.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[m.jsx(H,{className:"w-16 h-16 text-red-500 mx-auto"}),m.jsx("h2",{className:"text-2xl font-bold "+(o?"text-white":"text-gray-900"),children:"Error"}),m.jsx("p",{className:o?"text-gray-400":"text-gray-600",children:Ie}),m.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors",children:"Try Again"})]})})}):m.jsxs("div",{className:"min-h-screen "+(o?"bg-gray-900":"bg-gray-50"),children:[m.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[m.jsx(h.div,{className:"absolute top-1/4 left-1/4 w-96 h-96 rounded-full blur-3xl "+(o?"bg-emerald-500/10":"bg-emerald-500/20"),animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),m.jsx(h.div,{className:"absolute bottom-1/4 right-1/4 w-96 h-96 rounded-full blur-3xl "+(o?"bg-blue-500/10":"bg-blue-500/20"),animate:{scale:[1.2,1,1.2],opacity:[.5,.3,.5]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}})]}),m.jsxs("div",{className:"flex",children:[m.jsx(R,{activeTab:c,onTabChange:d,stats:{totalUsers:ke.totalUsers,totalViews:ke.totalViews,totalArticles:re.length,totalVideos:ie.length,totalBooks:oe.length,totalSuggestions:be.length,totalAboutUs:je.length,totalContactMessages:ke.totalContactMessages},isCollapsed:g,onToggle:()=>x(!g)}),m.jsx("div",{className:"flex-1 ml-0 lg:ml-64 transition-all duration-300",children:m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold "+(o?"text-white":"text-gray-900"),children:"Admin Dashboard"}),m.jsxs("p",{className:"text-sm "+(o?"text-gray-400":"text-gray-600"),children:["Welcome back, ",e.name||"Admin","!"]})]}),m.jsx("div",{className:"flex items-center space-x-4",children:m.jsx("button",{onClick:()=>x(!g),className:`p-2 rounded-lg ${o?"bg-gray-800 text-gray-300 hover:bg-gray-700":"bg-white text-gray-600 hover:bg-gray-50"} transition-colors`,children:m.jsx(u,{className:"w-5 h-5"})})})]}),m.jsxs(b,{mode:"wait",children:["overview"===c&&m.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:m.jsx(E,{isDarkMode:o,stats:ke,recentActivity:Me,topContent:Ue})},"overview"),["articles","videos","books","tools","essentials","pots","accessories","suggestions","about-us"].includes(c)&&m.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:m.jsx(Y,{isDarkMode:o,activeTab:c,content:(()=>{switch(c){case"articles":return re;case"videos":return ie;case"books":return oe;case"tools":return de;case"essentials":return xe;case"pots":return he;case"accessories":return ye;case"suggestions":return be;case"about-us":return je;default:return[]}})(),searchTerm:y,setSearchTerm:p,selectedCategory:v,setSelectedCategory:j,sortBy:w,setSortBy:f,onEdit:e=>{},onDelete:e=>{},onView:e=>{},onCreate:()=>{},categories:(()=>{switch(c){case"articles":return Te.articles;case"videos":return Te.techniques;case"books":return Te.books;case"tools":return Te.tools;case"essentials":return Te.essentials;case"pots":return Te.pots;case"accessories":return Te.accessories;case"suggestions":return Te.suggestions;case"about-us":return Te["about-us"];default:return[]}})()})},c),"users"===c&&m.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:m.jsx(q,{isDarkMode:o,users:fe,searchTerm:N,setSearchTerm:S,roleFilter:C,setRoleFilter:T,statusFilter:A,setStatusFilter:D,sortBy:M,setSortBy:O,onEdit:e=>{},onDelete:e=>{},onView:e=>{},onCreate:()=>{}})},"users"),"messages"===c&&m.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:m.jsx(Z,{isDarkMode:o,messages:Se,searchTerm:U,setSearchTerm:$,statusFilter:J,setStatusFilter:Q,sortBy:z,setSortBy:K,onEdit:e=>{},onDelete:e=>{},onView:e=>{},onStatusChange:(e,o)=>n(void 0,null,function*(){try{yield P.update(e,{status:o}),Ce(n=>n.map(n=>{return n.id===e?(c=((e,t)=>{for(var a in t||(t={}))r.call(t,a)&&i(e,a,t[a]);if(s)for(var a of s(t))l.call(t,a)&&i(e,a,t[a]);return e})({},n),d={status:o,updatedAt:(new Date).toISOString()},t(c,a(d))):n;var c,d}))}catch(n){}})})},"messages"),"products"===c&&m.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:m.jsx(G,{isDarkMode:o,products:[...de,...xe,...he,...ye],searchTerm:W,setSearchTerm:X,selectedCategory:ee,setSelectedCategory:te,sortBy:ae,setSortBy:se,onEdit:e=>{},onDelete:e=>{},onView:e=>{},onCreate:()=>{},categories:Object.keys(Te).flatMap(e=>Te[e])})},"products")]})]})})]})]}):m.jsx("div",{className:"min-h-screen flex items-center justify-center "+(o?"bg-gray-900":"bg-emerald-50"),children:m.jsx(_,{className:"text-center p-8 max-w-md",children:m.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[m.jsx(k,{className:"w-16 h-16 text-emerald-500 mx-auto"}),m.jsx("h2",{className:"text-2xl font-bold "+(o?"text-white":"text-gray-900"),children:"Access Denied"}),m.jsx("p",{className:o?"text-gray-400":"text-gray-600",children:"You need to be logged in to access the admin dashboard."})]})})})};export{J as default};
