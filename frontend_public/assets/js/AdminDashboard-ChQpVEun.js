var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,n=(e,t)=>{for(var a in t||(t={}))r.call(t,a)&&i(e,a,t[a]);if(s)for(var a of s(t))l.call(t,a)&&i(e,a,t[a]);return e},o=(e,s)=>t(e,a(s)),d=(e,t,a)=>new Promise((s,r)=>{var l=e=>{try{n(a.next(e))}catch(t){r(t)}},i=e=>{try{n(a.throw(e))}catch(t){r(t)}},n=e=>e.done?s(e.value):Promise.resolve(e.value).then(l,i);n((a=a.apply(e,t)).next())});import{u as c,C as g,a as x,_ as m}from"./index-Cs7yMiWJ.js";import{ad as h,ae as u,w as p,U as y,a0 as b,j as v,m as j,f,X as w,N,e as k,af as C,ag as A,Q as S,o as T,ah as M,ai as U,W as D,aj as P,p as _,a4 as L,r as F,a2 as $,ak as B,al as R,am as E,an as H,a9 as I,ao as V,K as z,ap as O,aq as q,ar as G,as as W,at as Y,au as J,av as K,aw as Q,ax as Z,ay as X,az as ee,aA as te,aa as ae,aB as se,q as re,k as le,u as ie}from"./ui-DFK0He6I.js";import{r as ne}from"./react-vendor-Dr4n66tC.js";import{apiClient as oe,userService as de,articlesService as ce,videosService as ge,productService as xe,contactService as me,suggestionsService as he,accessoriesService as ue,potsService as pe,toolsService as ye,booksService as be}from"./api-INIV1ZPj.js";import"./router-bS1xvxPY.js";const ve=({activeTab:e,onTabChange:t,stats:a,isCollapsed:s,onToggle:r,userRole:l="admin"})=>{const{isDarkMode:i}=c(),[n,o]=ne.useState([]),d=[{id:"overview",label:"Overview",icon:h,color:"from-emerald-500 to-green-600",description:"Dashboard overview"},{id:"content",label:"Content Management",icon:u,color:"from-emerald-500 to-green-600",description:"Manage all content",children:[{id:"content-list",label:"List",icon:null},{id:"content-create",label:"Create",icon:null},{id:"content-edit",label:"Edit",icon:null}]},{id:"products",label:"Product Management",icon:p,color:"from-emerald-500 to-green-600",description:"Manage all products",children:[{id:"product-list",label:"List",icon:null},{id:"product-create",label:"Create",icon:null},{id:"product-edit",label:"Edit",icon:null}]},{id:"users",label:"User Management",icon:y,color:"from-emerald-500 to-green-600",description:"Manage all users",children:[{id:"user-profile",label:"Profile",icon:null},{id:"user-list",label:"List",icon:null},{id:"user-create",label:"Create",icon:null}],adminOnly:!0},{id:"messages",label:"Messages",icon:b,color:"from-emerald-500 to-green-600",description:"Contact messages",count:a.totalContactMessages}].filter(e=>!e.adminOnly||"admin"===l),g=e=>{t(e)};return v.jsxs(j.div,{className:`transition-all duration-300 min-h-screen overflow-hidden ${s?"w-16":"w-64"} ${i?"bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 border-r border-gray-700/50":"bg-gradient-to-b from-white via-gray-50 to-white border-r border-gray-200/50"} shadow-lg flex flex-col\n      hidden lg:block`,initial:{x:-300,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,ease:"easeOut"},children:[v.jsxs("div",{className:`flex items-center justify-between p-4 border-b flex-shrink-0 ${i?"border-gray-700/50":"border-gray-200/50"} backdrop-blur-sm`,children:[!s&&v.jsxs(j.div,{className:"flex items-center space-x-3",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2,duration:.3},children:[v.jsxs("div",{className:"relative p-2.5 rounded-lg bg-gradient-to-br from-emerald-500 via-green-500 to-teal-600 text-white shadow-lg",children:[v.jsx(h,{className:"h-5 w-5"}),v.jsx(j.div,{className:"absolute inset-0 rounded-xl bg-gradient-to-br from-white/20 to-transparent",animate:{opacity:[0,.3,0]},transition:{duration:2,repeat:1/0,repeatDelay:1}})]}),v.jsxs("div",{children:[v.jsx("h2",{className:"font-bold text-lg bg-gradient-to-r bg-clip-text text-transparent "+(i?"from-white to-gray-300":"from-gray-800 to-gray-600"),children:"Admin Panel"}),v.jsx("p",{className:"text-xs "+(i?"text-gray-400":"text-gray-500"),children:"Dashboard v2.0"})]})]}),v.jsxs(j.button,{onClick:r,className:"relative p-2.5 rounded-xl transition-all duration-200 "+(i?"hover:bg-gray-700/50 text-gray-300 hover:text-white":"hover:bg-gray-100/50 text-gray-600 hover:text-gray-800"),whileHover:{scale:1.05},whileTap:{scale:.95},children:[s?v.jsx(f,{className:"h-5 w-5"}):v.jsx(w,{className:"h-5 w-5"}),v.jsx(j.div,{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-emerald-500/10 to-green-500/10 opacity-0",whileHover:{opacity:1},transition:{duration:.2}})]})]}),v.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent min-h-0 max-h-full",children:v.jsx("div",{className:"py-4 px-3 space-y-2 pb-6",children:d.map(t=>v.jsxs("div",{children:[v.jsx(j.div,{className:"relative "+(t.children?"mb-1":"mb-2"),whileHover:{scale:1.02},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},children:v.jsxs(j.button,{onClick:()=>{return t.children?(e=t.id,void o(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])):g(t.id);var e},className:"group relative w-full flex items-center justify-between px-3 py-3 rounded-lg font-medium transition-all duration-300 "+(e===t.id||t.children&&t.children.some(t=>e===t.id)?`text-white bg-gradient-to-r ${t.color} shadow-lg border border-white/10`:i?"text-gray-300 hover:bg-emerald-500/10 hover:text-emerald-200 border border-transparent hover:border-emerald-400/20":"text-gray-600 hover:bg-emerald-50/80 hover:text-emerald-700 border border-transparent hover:border-emerald-200/30"),whileTap:{scale:.98},children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsxs("div",{className:"relative p-1.5 rounded-md transition-all duration-200 "+(e===t.id||t.children&&t.children.some(t=>e===t.id)?"bg-white/20 text-white":i?"bg-emerald-500/10 text-emerald-300 group-hover:bg-emerald-400/15 group-hover:text-emerald-200":"bg-emerald-50/60 text-emerald-500 group-hover:bg-emerald-100/70 group-hover:text-emerald-600"),children:[t.icon&&v.jsx(t.icon,{className:"h-4 w-4 flex-shrink-0"}),e===t.id&&v.jsx(j.div,{className:"absolute inset-0 rounded-lg bg-gradient-to-r from-white/10 to-transparent",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}})]}),!s&&v.jsx("span",{className:"text-sm font-medium",children:t.label})]}),!s&&v.jsxs("div",{className:"flex items-center space-x-2",children:[void 0!==t.count&&v.jsx(j.span,{className:"px-2.5 py-1 rounded-full text-xs font-bold transition-all duration-200 "+(e===t.id||t.children&&t.children.some(t=>e===t.id)?"bg-white/25 text-white shadow-sm":i?"bg-emerald-500/15 text-emerald-200 group-hover:bg-emerald-400/20":"bg-emerald-100/60 text-emerald-600 group-hover:bg-emerald-200/70"),whileHover:{scale:1.05},children:t.count}),t.children&&v.jsx(j.div,{animate:{rotate:n.includes(t.id)?90:0},transition:{duration:.2},children:v.jsx(N,{className:"h-4 w-4"})})]}),(e===t.id||t.children&&t.children.some(t=>e===t.id))&&v.jsx(j.div,{className:"absolute left-0 top-1/2 w-1 h-6 bg-white rounded-r-full",initial:{scaleY:0},animate:{scaleY:1},transition:{duration:.2}})]})}),v.jsx(k,{children:t.children&&n.includes(t.id)&&!s&&v.jsx(j.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"ml-6 space-y-1 mt-2 overflow-hidden",children:t.children.map((t,a)=>v.jsxs(j.button,{onClick:()=>g(t.id),className:"group relative w-full flex items-center justify-between px-3 py-2.5 text-sm transition-all duration-200 rounded-lg "+(e===t.id?"text-emerald-700 bg-emerald-100 border border-emerald-200 shadow-sm":i?"text-gray-400 hover:bg-emerald-500/8 hover:text-emerald-300 border border-transparent hover:border-emerald-400/15":"text-gray-500 hover:bg-emerald-50/60 hover:text-emerald-600 border border-transparent hover:border-emerald-200/25"),initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.2,delay:.05*a},children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[t.icon&&v.jsx("div",{className:"p-1.5 rounded-md transition-all duration-200 "+(e===t.id?"bg-emerald-200 text-emerald-700":i?"bg-gray-700/40 text-gray-500 group-hover:bg-gray-600/50 group-hover:text-gray-400":"bg-gray-200/60 text-gray-400 group-hover:bg-gray-300/70 group-hover:text-gray-500"),children:v.jsx(t.icon,{className:"h-3.5 w-3.5 flex-shrink-0"})}),v.jsx("span",{className:"font-medium",children:t.label})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[void 0!==t.count&&v.jsx(j.span,{className:"px-2 py-0.5 rounded-full text-xs font-bold transition-all duration-200 "+(e===t.id?"bg-emerald-200 text-emerald-700 shadow-sm":i?"bg-gray-700/60 text-gray-400 group-hover:bg-gray-600/70 group-hover:text-gray-300":"bg-gray-200/70 text-gray-500 group-hover:bg-gray-300/80 group-hover:text-gray-600"),whileHover:{scale:1.05},children:t.count}),t.children&&v.jsx(j.div,{animate:{rotate:n.includes(t.id)?90:0},transition:{duration:.2},children:v.jsx(N,{className:"h-3 w-3"})})]}),e===t.id&&v.jsx(j.div,{className:"absolute left-0 top-1/2 w-0.5 h-4 bg-emerald-500 rounded-r-full",initial:{scaleY:0},animate:{scaleY:1},transition:{duration:.2}})]},t.id))})})]},t.id))})}),!s&&v.jsx(j.div,{className:`p-4 border-t ${i?"border-gray-700/50":"border-gray-200/50"} backdrop-blur-sm flex-shrink-0`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.3},children:v.jsxs("div",{className:"text-center "+(i?"text-gray-400":"text-gray-500"),children:[v.jsxs(j.div,{className:"flex items-center justify-center space-x-2 mb-2 p-1.5 rounded-lg hover:bg-gray-800/30 transition-colors cursor-pointer",whileHover:{scale:1.02},children:[v.jsx("div",{className:"p-1 rounded "+(i?"bg-gray-700/40":"bg-gray-200/60"),children:v.jsx(h,{className:"h-3 w-3"})}),v.jsx("span",{className:"text-xs font-medium",children:"Dashboard v2.0"})]}),v.jsxs("div",{className:"text-xs "+(i?"text-gray-500":"text-gray-400"),children:[v.jsx("p",{children:"Dashboard v2.0"}),v.jsx("p",{className:"mt-1",children:"Â© 2024 Green Groves"})]})]})})]})},je=({stats:e,onNavigate:t})=>{const{isDarkMode:a}=c(),s=Math.max(e.totalViews,100),r=Math.max(e.totalUsers,10),l=[{day:"Mon",views:Math.floor(.12*s),users:Math.floor(.12*r)},{day:"Tue",views:Math.floor(.16*s),users:Math.floor(.16*r)},{day:"Wed",views:Math.floor(.18*s),users:Math.floor(.18*r)},{day:"Thu",views:Math.floor(.15*s),users:Math.floor(.15*r)},{day:"Fri",views:Math.floor(.2*s),users:Math.floor(.2*r)},{day:"Sat",views:Math.floor(.14*s),users:Math.floor(.14*r)},{day:"Sun",views:Math.floor(.05*s),users:Math.floor(.05*r)}],i=[{type:"Content",count:e.totalArticles+e.totalVideos,color:"bg-blue-500"},{type:"Products",count:e.totalBooks+e.totalSuggestions+(e.totalTools||0)+(e.totalPots||0)+(e.totalAccessories||0),color:"bg-emerald-500"}].filter(e=>e.count>0),n=({data:e,maxValue:t})=>v.jsx("div",{className:"flex items-end justify-between h-32 space-x-2",children:e.map((e,s)=>{const r=e.views/t*100;return v.jsxs(j.div,{className:"flex flex-col items-center space-y-2 flex-1",initial:{opacity:0,scaleY:0},animate:{opacity:1,scaleY:1},transition:{duration:.5,delay:.1*s},children:[v.jsx("div",{className:"relative w-full flex justify-center",children:v.jsx(j.div,{className:"w-6 rounded-t-lg bg-gradient-to-t from-emerald-600 to-emerald-400 relative group",style:{height:r+"%"},whileHover:{scaleY:1.1},transition:{duration:.2},children:v.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 px-2 py-1 rounded text-xs font-medium text-white bg-gray-800 opacity-0 group-hover:opacity-100 transition-opacity",children:e.views.toLocaleString()})})}),v.jsx("span",{className:"text-xs font-medium "+(a?"text-gray-300":"text-gray-600"),children:e.day})]},e.day)})}),o=({data:e})=>{let t=0;const s=e.reduce((e,t)=>e+t.count,0);return v.jsxs("div",{className:"relative w-32 h-32 mx-auto",children:[v.jsx("svg",{className:"w-32 h-32 transform -rotate-90",viewBox:"0 0 100 100",children:e.map((e,a)=>{const r=s>0?e.count/s*100:0,l=90*Math.PI,i=`${r/100*l} ${l}`,n=-t/100*l;return t+=r,v.jsx(j.circle,{cx:"50",cy:"50",r:"45",fill:"none",stroke:0===a?"#3b82f6":"#10b981",strokeWidth:"10",strokeDasharray:i,strokeDashoffset:n,initial:{strokeDasharray:"0 "+l},animate:{strokeDasharray:i},transition:{duration:1,delay:.2*a},className:"drop-shadow-sm"},e.type)})}),v.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-lg font-bold "+(a?"text-white":"text-gray-800"),children:s}),v.jsx("div",{className:"text-xs "+(a?"text-gray-400":"text-gray-500"),children:"Total"})]})})]})};return v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 lg:gap-6",children:[v.jsxs(j.div,{className:`p-4 lg:p-6 rounded-xl ${a?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"} shadow-lg`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold "+(a?"text-white":"text-gray-800"),children:"Weekly Analytics"}),v.jsx("p",{className:"text-sm "+(a?"text-gray-400":"text-gray-500"),children:"Views and user engagement"})]}),v.jsx("div",{className:"p-2 rounded-lg "+(a?"bg-emerald-900/30":"bg-emerald-100"),children:v.jsx(C,{className:"h-5 w-5 "+(a?"text-emerald-400":"text-emerald-600")})})]}),v.jsx(n,{data:l,maxValue:3e3}),v.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200",children:[v.jsx("div",{className:"flex items-center space-x-4",children:v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),v.jsx("span",{className:"text-sm "+(a?"text-gray-300":"text-gray-600"),children:"Views"})]})}),v.jsxs("div",{className:"text-sm font-medium "+(0>e.weeklyGrowth?"text-red-500":"text-green-500"),children:[0>e.weeklyGrowth?v.jsx(A,{className:"inline h-4 w-4 mr-1"}):v.jsx(C,{className:"inline h-4 w-4 mr-1"}),Math.abs(e.weeklyGrowth),"%"]})]})]}),v.jsxs(j.div,{className:`p-4 lg:p-6 rounded-xl ${a?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"} shadow-lg`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold "+(a?"text-white":"text-gray-800"),children:"Content Distribution"}),v.jsx("p",{className:"text-sm "+(a?"text-gray-400":"text-gray-500"),children:"Content types breakdown"})]}),v.jsx("div",{className:"p-2 rounded-lg "+(a?"bg-blue-900/30":"bg-blue-100"),children:v.jsx(S,{className:"h-5 w-5 "+(a?"text-blue-400":"text-blue-600")})})]}),v.jsx("div",{className:"flex items-center justify-center mb-6",children:v.jsx(o,{data:i})}),v.jsx("div",{className:"space-y-3",children:i.map((e,t)=>{const s=i.reduce((e,t)=>e+t.count,0),r=s>0?(e.count/s*100).toFixed(1):"0.0";return v.jsxs(j.div,{className:"flex items-center justify-between",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.5+.1*t},children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("div",{className:"w-3 h-3 rounded-full "+["bg-blue-500","bg-emerald-500"][t]}),v.jsx("span",{className:"text-sm font-medium "+(a?"text-gray-300":"text-gray-600"),children:e.type})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("span",{className:"text-sm font-semibold "+(a?"text-white":"text-gray-800"),children:e.count}),v.jsxs("span",{className:"text-xs "+(a?"text-gray-400":"text-gray-500"),children:["(",r,"%)"]})]})]},e.type)})})]}),v.jsxs(j.div,{className:`p-4 lg:p-6 rounded-xl ${a?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"} shadow-lg`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold "+(a?"text-white":"text-gray-800"),children:"Performance Metrics"}),v.jsx("p",{className:"text-sm "+(a?"text-gray-400":"text-gray-500"),children:"Key performance indicators"})]}),v.jsx("div",{className:"p-2 rounded-lg "+(a?"bg-purple-900/30":"bg-purple-100"),children:v.jsx(T,{className:"h-5 w-5 "+(a?"text-purple-400":"text-purple-600")})})]}),v.jsx("div",{className:"space-y-4",children:[{label:"Average Rating",value:e.avgRating.toFixed(1),icon:T,color:"text-yellow-500"},{label:"Total Users",value:e.totalUsers.toLocaleString(),icon:y,color:"text-blue-500"},{label:"Monthly Growth",value:`+${e.monthlyGrowth}%`,icon:C,color:"text-green-500"},{label:"Contact Messages",value:e.totalContactMessages.toLocaleString(),icon:b,color:"text-indigo-500"}].map((e,t)=>v.jsxs(j.div,{className:"flex items-center justify-between p-3 rounded-lg "+(a?"bg-gray-700/30":"bg-gray-50"),initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.6+.1*t},children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx(e.icon,{className:"h-5 w-5 "+e.color}),v.jsx("span",{className:"text-sm font-medium "+(a?"text-gray-300":"text-gray-600"),children:e.label})]}),v.jsx("span",{className:"text-sm font-bold "+(a?"text-white":"text-gray-800"),children:e.value})]},e.label))})]}),v.jsxs(j.div,{className:`p-4 lg:p-6 rounded-xl ${a?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"} shadow-lg`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold "+(a?"text-white":"text-gray-800"),children:"Quick Actions"}),v.jsx("p",{className:"text-sm "+(a?"text-gray-400":"text-gray-500"),children:"Common admin tasks"})]}),v.jsx("div",{className:"p-2 rounded-lg "+(a?"bg-emerald-900/30":"bg-emerald-100"),children:v.jsx(M,{className:"h-5 w-5 "+(a?"text-emerald-400":"text-emerald-600")})})]}),v.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{label:"Add Article",icon:u,description:"Create new article",gradient:"from-emerald-500 to-green-600",hoverGradient:"from-emerald-600 to-green-700",iconBg:"bg-emerald-100 dark:bg-emerald-900/30",iconColor:"text-emerald-600 dark:text-emerald-400",action:"create-article"},{label:"Upload Video",icon:U,description:"Add new video",gradient:"from-blue-500 to-blue-600",hoverGradient:"from-blue-600 to-blue-700",iconBg:"bg-blue-100 dark:bg-blue-900/30",iconColor:"text-blue-600 dark:text-blue-400",action:"create-video"},{label:"Add Product",icon:D,description:"Add new product",gradient:"from-purple-500 to-purple-600",hoverGradient:"from-purple-600 to-purple-700",iconBg:"bg-purple-100 dark:bg-purple-900/30",iconColor:"text-purple-600 dark:text-purple-400",action:"create-product"}].map((e,a)=>v.jsxs(j.button,{className:`group relative overflow-hidden bg-gradient-to-br ${e.gradient} hover:${e.hoverGradient} text-white p-4 rounded-xl font-medium text-sm transition-all duration-300 flex flex-col items-center space-y-3 shadow-lg hover:shadow-xl`,initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.4,delay:.7+.1*a},whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:()=>t&&t("content",e.action),children:[v.jsxs("div",{className:"absolute inset-0 opacity-10",children:[v.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-white rounded-full transform translate-x-8 -translate-y-8"}),v.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white rounded-full transform -translate-x-6 translate-y-6"})]}),v.jsxs("div",{className:`relative p-3 rounded-lg ${e.iconBg} transition-all duration-300 group-hover:scale-110`,children:[v.jsx(e.icon,{className:"h-6 w-6 "+e.iconColor}),v.jsx(P,{className:"absolute -top-1 -right-1 h-4 w-4 text-white bg-current rounded-full p-0.5 opacity-80"})]}),v.jsxs("div",{className:"relative text-center",children:[v.jsx("div",{className:"font-semibold text-sm",children:e.label}),v.jsx("div",{className:"text-xs opacity-80 mt-1",children:e.description})]}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/0 via-white/0 to-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]},e.label))})]})]})},fe=({stats:e,isDarkMode:t})=>{const a=[{label:"Total Users",value:e.totalUsers.toLocaleString(),icon:y,color:"from-blue-500 to-indigo-600",change:e.totalUsers>0?`+${e.monthlyGrowth}%`:"0%",changeColor:e.totalUsers>0?"text-green-500":"text-gray-500"},{label:"Total Views",value:e.totalViews.toLocaleString(),icon:S,color:"from-green-500 to-emerald-600",change:e.totalViews>0?`+${e.weeklyGrowth}%`:"0%",changeColor:e.totalViews>0?"text-green-500":"text-gray-500"},{label:"Content Items",value:(e.totalArticles+e.totalVideos+e.totalBooks+e.totalSuggestions+e.totalAboutUs+e.totalContactMessages).toLocaleString(),icon:u,color:"from-purple-500 to-violet-600",change:e.totalArticles+e.totalVideos+e.totalBooks+e.totalSuggestions+e.totalAboutUs+e.totalContactMessages>0?`+${e.monthlyGrowth}%`:"0%",changeColor:e.totalArticles+e.totalVideos+e.totalBooks+e.totalSuggestions+e.totalAboutUs+e.totalContactMessages>0?"text-green-500":"text-gray-500"},{label:"Avg Rating",value:e.avgRating.toString(),icon:T,color:"from-yellow-500 to-orange-600",change:e.avgRating>0?"+"+(e.avgRating-4).toFixed(1):"0.0",changeColor:e.avgRating>4?"text-green-500":4>e.avgRating?"text-red-500":"text-gray-500"}];return v.jsx(j.div,{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:a.map((e,a)=>v.jsx(j.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.1*a},children:v.jsxs(g,{className:"text-center",gradient:!0,glow:!0,children:[v.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-r ${e.color} text-white mb-4`,children:v.jsx(e.icon,{className:"h-8 w-8"})}),v.jsx("h3",{className:"text-3xl font-bold mb-2 "+(t?"text-emerald-100":"text-gray-800"),children:e.value}),v.jsx("p",{className:"font-medium mb-2 "+(t?"text-emerald-200":"text-gray-600"),children:e.label}),v.jsx("span",{className:"text-sm font-semibold "+(e.changeColor||"text-green-500"),children:e.change})]})},a))})},we=({recentActivity:e,isDarkMode:t})=>v.jsxs(g,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsx("h3",{className:"text-2xl font-bold "+(t?"text-emerald-100":"text-gray-800"),children:"Recent Activity"}),v.jsx(M,{className:"h-6 w-6 "+(t?"text-emerald-400":"text-emerald-600")})]}),v.jsx("div",{className:"space-y-4",children:e.map(e=>v.jsxs("div",{className:"flex items-center space-x-4 p-4 rounded-lg "+(t?"bg-gray-800/30 backdrop-blur-sm border border-gray-700/20":"bg-gray-50"),children:[v.jsx("div",{className:"w-3 h-3 rounded-full "+("user"===e.type?"bg-blue-500":"content"===e.type?"bg-green-500":"media"===e.type?"bg-purple-500":"bg-yellow-500")}),v.jsxs("div",{className:"flex-1",children:[v.jsx("p",{className:"font-medium "+(t?"text-emerald-100":"text-gray-800"),children:e.action}),v.jsxs("p",{className:"text-sm "+(t?"text-emerald-300":"text-gray-600"),children:["by ",e.user," â€¢ ",e.time]})]})]},e.id))})]}),Ne=({topContent:e,isDarkMode:t})=>v.jsxs(g,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsx("h3",{className:"text-2xl font-bold "+(t?"text-emerald-100":"text-gray-800"),children:"Top Performing Content"}),v.jsx(C,{className:"h-6 w-6 "+(t?"text-emerald-400":"text-emerald-600")})]}),v.jsx("div",{className:"space-y-4",children:e.map((e,a)=>v.jsxs("div",{className:"flex items-center space-x-4 p-4 rounded-lg "+(t?"bg-gray-800/30 backdrop-blur-sm border border-gray-700/20":"bg-gray-50"),children:[v.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-bold "+(0===a?"bg-yellow-500":1===a?"bg-gray-400":2===a?"bg-orange-500":"bg-blue-500"),children:a+1}),v.jsxs("div",{className:"flex-1",children:[v.jsx("p",{className:"font-medium "+(t?"text-emerald-100":"text-gray-800"),children:e.title}),v.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[v.jsxs("span",{className:"flex items-center space-x-1 "+(t?"text-emerald-300":"text-gray-600"),children:[v.jsx(S,{className:"h-4 w-4"}),v.jsx("span",{children:e.views.toLocaleString()})]}),v.jsxs("span",{className:"flex items-center space-x-1 "+(t?"text-emerald-300":"text-gray-600"),children:[v.jsx(_,{className:"h-4 w-4"}),v.jsx("span",{children:e.likes.toLocaleString()})]}),v.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+("article"===e.type?"bg-green-100 text-green-800":"video"===e.type?"bg-red-100 text-red-800":"book"===e.type?"bg-purple-100 text-purple-800":"bg-yellow-100 text-yellow-800"),children:e.type})]})]})]},e.id))})]}),ke=({value:e,onChange:t,onError:a,className:s="",placeholder:r="Click to upload image",accept:l="image/jpeg,image/jpg,image/png,image/gif,image/webp",maxSize:i=10})=>{const[n,o]=ne.useState(!1),[c,g]=ne.useState(e||null),x=ne.useRef(null);ne.useEffect(()=>{g(e||null)},[e]);return v.jsxs("div",{className:"relative "+s,children:[v.jsx("input",{ref:x,type:"file",accept:l,onChange:e=>{var s;const r=null==(s=e.target.files)?void 0:s[0];r&&(e=>{d(void 0,null,function*(){const s=Math.min(1048576*i,10485760);if(e.size>s)null==a||a(`File size must be less than ${Math.min(i,10)}MB`);else if(["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(e.type))if(e.name.includes("\0")||0===e.name.length)null==a||a("Invalid filename. Please rename the file and try again.");else{e.name.replace(/[^\w\s.-]/g,"_").replace(/\s+/g,"_"),e.name,o(!0);try{const a=new FileReader;a.onload=e=>{var t;const a=null==(t=e.target)?void 0:t.result;a&&g(a)},a.readAsDataURL(e);const s=yield(e=>d(void 0,null,function*(){return yield oe.uploadImage(e,"featured-images","video")}))(e);t(s),g(s)}catch(r){const e=r instanceof Error?r.message:"Failed to upload image. Please try again.";null==a||a(e)}finally{o(!1)}}else null==a||a("Please select a valid image file (JPG, PNG, GIF, or WebP)")})})(r)},style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"}}),v.jsx("button",{type:"button",onClick:()=>{var e;null==(e=x.current)||e.click()},disabled:n,className:`\n          w-full border-2 border-dashed rounded-lg p-4 cursor-pointer transition-all duration-200\n          ${c?"border-green-500 bg-green-50 hover:bg-green-100":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}\n          ${n?"opacity-50 cursor-not-allowed":"hover:shadow-sm"}\n          focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2\n        `,"aria-label":c?"Change featured image":"Upload featured image","aria-describedby":c?"image-preview":"upload-instructions",children:c?v.jsxs("div",{className:"relative",children:[v.jsx("img",{src:c,alt:"Featured image preview",className:"w-full h-32 object-cover rounded"}),v.jsx("button",{type:"button",onClick:e=>{e.stopPropagation(),g(null),t(""),x.current&&(x.current.value="")},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm hover:bg-red-600 transition-colors","aria-label":"Remove image",children:"Ã—"})]}):v.jsx("div",{className:"text-center",children:v.jsx("div",{className:"text-gray-500 mb-2",children:n?v.jsxs("div",{className:"flex flex-col items-center justify-center",children:[v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-300"}),v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-emerald-500 border-t-transparent absolute top-0 left-0"})]}),v.jsx("span",{className:"text-sm text-emerald-600 font-medium mt-2",children:"Uploading image..."}),v.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Please wait"})]}):v.jsxs(v.Fragment,{children:[v.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:v.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),v.jsx("p",{className:"text-sm text-gray-600 mt-2",id:"upload-instructions",children:r}),v.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Max size: ",Math.min(i,10),"MB â€¢ JPG, PNG, GIF, WebP"]})]})})})})]})},Ce=({onSave:e,onCancel:t,isDarkMode:a})=>{const[s,r]=ne.useState({name:"",email:"",password:"",confirmPassword:"",role:"user",status:"active",phone:"",bio:"",avatar:"",avatarPreview:""}),[l,i]=ne.useState({}),d=(e,t)=>{r(a=>o(n({},a),{[e]:t})),l[e]&&i(t=>o(n({},t),{[e]:""}))},c="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(a?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"),x="block text-sm font-medium mb-2 "+(a?"text-gray-300":"text-gray-700");return v.jsxs("div",{className:"space-y-6",children:[v.jsx("div",{className:"flex items-center justify-between",children:v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx(j.button,{onClick:t,className:`p-2 rounded-lg ${a?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:v.jsx(L,{className:"w-5 h-5"})}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold "+(a?"text-white":"text-gray-800"),children:"Create New User"}),v.jsx("p",{className:"text-sm "+(a?"text-gray-400":"text-gray-600"),children:"Add a new user to the system"})]})]})}),v.jsx(g,{className:"p-6 "+(a?"bg-gray-800":"bg-white"),children:v.jsxs("form",{onSubmit:t=>{if(t.preventDefault(),!(()=>{const e={};return s.name.trim()||(e.name="Name is required"),s.email.trim()?/\S+@\S+\.\S+/.test(s.email)||(e.email="Email is invalid"):e.email="Email is required",s.password?6>s.password.length&&(e.password="Password must be at least 6 characters"):e.password="Password is required",s.password!==s.confirmPassword&&(e.confirmPassword="Passwords do not match"),s.phone.trim()||(e.phone="Phone is required"),i(e),0===Object.keys(e).length})())return;const a=o(n({},s),{avatar:s.avatarPreview||s.avatar});e(a)},className:"space-y-6",children:[v.jsxs("div",{children:[v.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center space-x-2 "+(a?"text-white":"text-gray-800"),children:[v.jsx(F,{className:"w-5 h-5"}),v.jsx("span",{children:"Basic Information"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:x,children:"Full Name *"}),v.jsx("input",{type:"text",value:s.name,onChange:e=>d("name",e.target.value),className:`${c} ${l.name?"border-red-500":""}`,placeholder:"Enter full name"}),l.name&&v.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.name})]}),v.jsxs("div",{children:[v.jsx("label",{className:x,children:"Email Address *"}),v.jsx("input",{type:"email",value:s.email,onChange:e=>d("email",e.target.value),className:`${c} ${l.email?"border-red-500":""}`,placeholder:"Enter email address"}),l.email&&v.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.email})]}),v.jsxs("div",{children:[v.jsx("label",{className:x,children:"Phone Number *"}),v.jsx("input",{type:"tel",value:s.phone,onChange:e=>d("phone",e.target.value),className:`${c} ${l.phone?"border-red-500":""}`,placeholder:"Enter phone number"}),l.phone&&v.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.phone})]}),v.jsxs("div",{children:[v.jsx("label",{className:x,children:"Role"}),v.jsxs("select",{value:s.role,onChange:e=>d("role",e.target.value),className:c,children:[v.jsx("option",{value:"user",children:"User"}),v.jsx("option",{value:"admin",children:"Admin"}),v.jsx("option",{value:"moderator",children:"Moderator"})]})]})]})]}),v.jsxs("div",{children:[v.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center space-x-2 "+(a?"text-white":"text-gray-800"),children:[v.jsx($,{className:"w-5 h-5"}),v.jsx("span",{children:"Security"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:x,children:"Password *"}),v.jsx("input",{type:"password",value:s.password,onChange:e=>d("password",e.target.value),className:`${c} ${l.password?"border-red-500":""}`,placeholder:"Enter password"}),l.password&&v.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.password})]}),v.jsxs("div",{children:[v.jsx("label",{className:x,children:"Confirm Password *"}),v.jsx("input",{type:"password",value:s.confirmPassword,onChange:e=>d("confirmPassword",e.target.value),className:`${c} ${l.confirmPassword?"border-red-500":""}`,placeholder:"Confirm password"}),l.confirmPassword&&v.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.confirmPassword})]})]})]}),v.jsxs("div",{children:[v.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center space-x-2 "+(a?"text-white":"text-gray-800"),children:[v.jsx(B,{className:"w-5 h-5"}),v.jsx("span",{children:"Profile"})]}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:x,children:"Avatar"}),v.jsx(ke,{value:s.avatarPreview||s.avatar,onChange:e=>d("avatar",e),onError:e=>{},className:"mt-1",placeholder:"Upload user avatar"})]}),v.jsxs("div",{children:[v.jsx("label",{className:x,children:"Bio"}),v.jsx("textarea",{value:s.bio,onChange:e=>d("bio",e.target.value),className:c+" h-24 resize-none",placeholder:"Tell us about this user..."})]}),v.jsxs("div",{children:[v.jsx("label",{className:x,children:"Status"}),v.jsxs("select",{value:s.status,onChange:e=>d("status",e.target.value),className:c,children:[v.jsx("option",{value:"active",children:"Active"}),v.jsx("option",{value:"inactive",children:"Inactive"}),v.jsx("option",{value:"suspended",children:"Suspended"})]})]})]})]}),v.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[v.jsx(j.button,{type:"button",onClick:t,className:"px-6 py-3 rounded-lg font-semibold transition-colors "+(a?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"),whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"}),v.jsx(j.button,{type:"submit",className:"px-6 py-3 bg-emerald-500 text-white rounded-lg font-semibold hover:bg-emerald-600 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(R,{className:"w-4 h-4"}),v.jsx("span",{children:"Create User"})]})})]})]})})]})},Ae=({activeTab:e,user:t,userProfile:a,users:s,userSearchTerm:r,userStatusFilter:l,userRoleFilter:i,userSortBy:n,selectedUsers:o,filteredUsers:d,isDarkMode:c,onUserProfileChange:x,onSaveUserProfile:m,onAvatarUpload:h,onRemoveAvatar:u,onLoadUsers:p,onUserStatusFilterChange:y,onUserRoleFilterChange:b,onUserSortByChange:j,onUserSearchTermChange:f,onSelectedUsersChange:w,onEditUser:N,onDeleteUser:k,onCreateUser:C})=>{const A=()=>v.jsxs(g,{children:[v.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[v.jsx("span",{className:"text-sm "+(c?"text-gray-400":"text-gray-600"),children:"Dashboard"}),v.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-400"}),v.jsx("span",{className:"text-sm "+(c?"text-gray-400":"text-gray-600"),children:"User"}),v.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-400"}),v.jsx("span",{className:"text-sm font-medium "+(c?"text-white":"text-gray-800"),children:t.name})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[v.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[v.jsx("div",{className:"flex items-center space-x-2",children:v.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full "+("active"===a.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:"active"===a.status?"Active":"Banned"})}),v.jsxs("div",{className:"text-center",children:[v.jsxs("div",{className:"w-24 h-24 mx-auto mb-3 relative group cursor-pointer",children:[a.avatarPreview?v.jsx("img",{src:a.avatarPreview,alt:"Avatar",className:"w-full h-full rounded-full object-cover"}):v.jsx("div",{className:"w-full h-full bg-gradient-to-br from-emerald-400 to-green-500 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:a.name.charAt(0).toUpperCase()}),v.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",onChange:h}),v.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:v.jsxs("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),v.jsxs("div",{className:"flex justify-center space-x-2 mb-2",children:[v.jsxs("label",{className:"px-3 py-1 text-xs font-medium rounded-full cursor-pointer transition-colors "+(c?"bg-emerald-600 text-white hover:bg-emerald-700":"bg-emerald-100 text-emerald-700 hover:bg-emerald-200"),children:["Choose File",v.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:h})]}),a.avatarPreview&&v.jsx("button",{onClick:u,className:"px-3 py-1 text-xs font-medium rounded-full transition-colors "+(c?"bg-red-600 text-white hover:bg-red-700":"bg-red-100 text-red-700 hover:bg-red-200"),children:"Remove"})]}),v.jsx("p",{className:"text-xs "+(c?"text-gray-400":"text-gray-500"),children:"Allowed *.jpeg, *.jpg, *.png, *.gif â€¢ max 3 Mb"}),a.avatar&&v.jsxs("p",{className:"text-xs mt-1 "+(c?"text-emerald-400":"text-emerald-600"),children:["Selected: ",a.avatar.name," (",(a.avatar.size/1024).toFixed(1)," KB)"]})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-sm font-medium "+(c?"text-white":"text-gray-900"),children:"Banned"}),v.jsx("p",{className:"text-xs "+(c?"text-gray-400":"text-gray-500"),children:"Apply disable account"})]}),v.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[v.jsx("input",{type:"checkbox",className:"sr-only peer",checked:a.is_banned,onChange:e=>{x("is_banned",e.target.checked),x("status",e.target.checked?"banned":"active")}}),v.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-emerald-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-sm font-medium "+(c?"text-white":"text-gray-900"),children:"Email verified"}),v.jsx("p",{className:"text-xs "+(c?"text-gray-400":"text-gray-500"),children:"Disabling this will automatically send the user a verification email"})]}),v.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[v.jsx("input",{type:"checkbox",className:"sr-only peer",checked:a.is_email_verified,onChange:e=>x("is_email_verified",e.target.checked)}),v.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-emerald-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]})]}),v.jsx("div",{className:"pt-4",children:v.jsx("button",{className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:"Delete user"})})]}),v.jsxs("div",{className:"lg:col-span-3",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2 "+(c?"text-white":"text-gray-900"),children:"Full name"}),v.jsx("input",{type:"text",value:a.name,onChange:e=>x("name",e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(c?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2 "+(c?"text-white":"text-gray-900"),children:"Phone number"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx("span",{className:"text-2xl",children:"ðŸ‡»ðŸ‡³"})}),v.jsx("input",{type:"tel",value:a.phone,onChange:e=>x("phone",e.target.value),placeholder:"(+84) 123 456 789",className:"w-full pl-12 pr-10 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(c?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2 "+(c?"text-white":"text-gray-900"),children:"State/region"}),v.jsx("input",{type:"text",value:a.state,onChange:e=>x("state",e.target.value),placeholder:"Virginia",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(c?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2 "+(c?"text-white":"text-gray-900"),children:"Address"}),v.jsx("input",{type:"text",value:a.address,onChange:e=>x("address",e.target.value),placeholder:"908 Jack Locks",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(c?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2 "+(c?"text-white":"text-gray-900"),children:"Company"}),v.jsx("input",{type:"text",value:a.company,onChange:e=>x("company",e.target.value),placeholder:"Gleichner, Mueller and Tromp",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(c?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2 "+(c?"text-white":"text-gray-900"),children:"Email address"}),v.jsx("input",{type:"email",value:a.email,onChange:e=>x("email",e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(c?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]}),"admin"===(null==t?void 0:t.role)&&v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2 "+(c?"text-white":"text-gray-900"),children:"Password"}),v.jsx("input",{type:"password",value:a.password,onChange:e=>x("password",e.target.value),placeholder:"Leave empty to keep current password",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(c?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")}),v.jsx("p",{className:"text-xs mt-1 "+(c?"text-gray-400":"text-gray-500"),children:"Only admins can change user passwords"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2 "+(c?"text-white":"text-gray-900"),children:"City"}),v.jsx("input",{type:"text",value:a.city,onChange:e=>x("city",e.target.value),placeholder:"Rancho Cordova",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(c?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2 "+(c?"text-white":"text-gray-900"),children:"Zip/code"}),v.jsx("input",{type:"text",value:a.zip_code,onChange:e=>x("zip_code",e.target.value),placeholder:"85807",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(c?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2 "+(c?"text-white":"text-gray-900"),children:"Role"}),v.jsxs("select",{value:a.role,onChange:e=>x("role",e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(c?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:[v.jsx("option",{value:"admin",children:"Admin"}),v.jsx("option",{value:"moderator",children:"Moderator"})]})]})]})]}),v.jsx("div",{className:"flex justify-end mt-6",children:v.jsx("button",{onClick:m,className:"px-6 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors font-medium",children:"Save changes"})})]})]})]}),S=()=>v.jsxs(g,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("span",{className:"text-sm "+(c?"text-gray-400":"text-gray-600"),children:"Dashboard"}),v.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-400"}),v.jsx("span",{className:"text-sm "+(c?"text-gray-400":"text-gray-600"),children:"User"}),v.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-400"}),v.jsx("span",{className:"text-sm font-medium "+(c?"text-white":"text-gray-800"),children:"List"})]}),v.jsx("button",{onClick:p,className:"px-4 py-2 rounded-lg font-medium transition-colors "+(c?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Refresh Users"})]}),v.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[v.jsxs("button",{onClick:()=>y("all"),className:"px-4 py-2 rounded-lg font-medium transition-colors "+("all"===l?"bg-gray-900 text-white":c?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:["All (",s.length,")"]}),v.jsxs("button",{onClick:()=>y("active"),className:"px-4 py-2 rounded-lg font-medium transition-colors "+("active"===l?"bg-green-500 text-white":"text-green-600 hover:bg-green-50"),children:["Active (",s.filter(e=>"active"===e.status).length,")"]}),v.jsxs("button",{onClick:()=>y("banned"),className:"px-4 py-2 rounded-lg font-medium transition-colors "+("banned"===l?"bg-red-500 text-white":"text-red-600 hover:bg-red-50"),children:["Banned (",s.filter(e=>"banned"===e.status).length,")"]})]}),v.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"text-sm font-medium "+(c?"text-gray-300":"text-gray-700"),children:"Role:"}),v.jsxs("select",{value:i,onChange:e=>b(e.target.value),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(c?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:[v.jsx("option",{value:"all",children:"All Roles"}),v.jsx("option",{value:"admin",children:"Admin"}),v.jsx("option",{value:"moderator",children:"Moderator"})]})]}),v.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[v.jsx(E,{className:"h-5 w-5 "+(c?"text-gray-400":"text-gray-500")}),v.jsx("input",{type:"text",placeholder:"Search...",value:r,onChange:e=>f(e.target.value),className:"flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(c?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"border-b "+(c?"border-gray-700":"border-gray-200"),children:[v.jsx("th",{className:"text-left py-3 px-4",children:v.jsx("input",{type:"checkbox",className:"rounded border-gray-300",checked:o.length===d.length&&d.length>0,onChange:e=>{e.target.checked?w(d.map(e=>e.id)):w([])}})}),v.jsx("th",{className:"text-left py-3 px-4",children:v.jsxs("button",{onClick:()=>j("name-asc"===n?"name-desc":"name-asc"),className:"flex items-center gap-1 font-medium "+(c?"text-gray-300":"text-gray-700"),children:["Name","name-asc"===n&&v.jsx("span",{className:"text-emerald-500",children:"â†‘"}),"name-desc"===n&&v.jsx("span",{className:"text-emerald-500",children:"â†“"})]})}),v.jsx("th",{className:"text-left py-3 px-4",children:v.jsxs("button",{onClick:()=>j("email-asc"===n?"email-desc":"email-asc"),className:"flex items-center gap-1 font-medium "+(c?"text-gray-300":"text-gray-700"),children:["Email","email-asc"===n&&v.jsx("span",{className:"text-emerald-500",children:"â†‘"}),"email-desc"===n&&v.jsx("span",{className:"text-emerald-500",children:"â†“"})]})}),v.jsx("th",{className:"text-left py-3 px-4",children:v.jsxs("button",{onClick:()=>j("role-asc"===n?"role-desc":"role-asc"),className:"flex items-center gap-1 font-medium "+(c?"text-gray-300":"text-gray-700"),children:["Role","role-asc"===n&&v.jsx("span",{className:"text-emerald-500",children:"â†‘"}),"role-desc"===n&&v.jsx("span",{className:"text-emerald-500",children:"â†“"})]})}),v.jsx("th",{className:"text-left py-3 px-4",children:v.jsxs("button",{onClick:()=>j("status-asc"===n?"status-desc":"status-asc"),className:"flex items-center gap-1 font-medium "+(c?"text-gray-300":"text-gray-700"),children:["Status","status-asc"===n&&v.jsx("span",{className:"text-emerald-500",children:"â†‘"}),"status-desc"===n&&v.jsx("span",{className:"text-emerald-500",children:"â†“"})]})}),v.jsx("th",{className:"text-left py-3 px-4",children:v.jsxs("button",{onClick:()=>j("created-asc"===n?"created-desc":"created-asc"),className:"flex items-center gap-1 font-medium "+(c?"text-gray-300":"text-gray-700"),children:["Created","created-asc"===n&&v.jsx("span",{className:"text-emerald-500",children:"â†‘"}),"created-desc"===n&&v.jsx("span",{className:"text-emerald-500",children:"â†“"})]})}),v.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),v.jsx("tbody",{children:d.map(e=>v.jsxs("tr",{className:`border-b ${c?"border-gray-700":"border-gray-200"} hover:bg-gray-50 ${c?"hover:bg-gray-800":""}`,children:[v.jsx("td",{className:"py-3 px-4",children:v.jsx("input",{type:"checkbox",className:"rounded border-gray-300",checked:o.includes(e.id),onChange:t=>{t.target.checked?w([...o,e.id]):w(o.filter(t=>t!==e.id))}})}),v.jsx("td",{className:"py-3 px-4",children:v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-emerald-400 to-green-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:e.name.charAt(0).toUpperCase()}),v.jsx("span",{className:"font-medium "+(c?"text-white":"text-gray-900"),children:e.name})]})}),v.jsx("td",{className:"py-3 px-4",children:v.jsx("span",{className:c?"text-gray-300":"text-gray-600",children:e.email})}),v.jsx("td",{className:"py-3 px-4",children:v.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("admin"===e.role?"bg-purple-100 text-purple-800":"moderator"===e.role?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:e.role})}),v.jsx("td",{className:"py-3 px-4",children:v.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("active"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status})}),v.jsx("td",{className:"py-3 px-4",children:v.jsx("span",{className:"text-sm "+(c?"text-gray-400":"text-gray-500"),children:new Date(e.createdAt).toLocaleDateString()})}),v.jsx("td",{className:"py-3 px-4",children:v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("button",{onClick:()=>N(e),className:"p-2 rounded-lg transition-colors "+(c?"hover:bg-gray-700 text-gray-400 hover:text-white":"hover:bg-gray-100 text-gray-500 hover:text-gray-700"),children:v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),v.jsx("button",{onClick:()=>k(e.id),className:"p-2 rounded-lg transition-colors "+(c?"hover:bg-red-900 text-red-400 hover:text-red-300":"hover:bg-red-50 text-red-500 hover:text-red-700"),children:v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},e.id))})]})})]}),T=()=>v.jsxs(g,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsx("h3",{className:"text-2xl font-bold "+(c?"text-emerald-100":"text-gray-800"),children:"Users Management"}),v.jsx("a",{href:"/admin/users",className:"flex items-center space-x-2 bg-emerald-500 text-white px-6 py-3 rounded-lg hover:bg-emerald-600 transition-colors font-semibold",children:v.jsx("span",{children:"Manage Users"})})]}),v.jsxs("div",{className:"text-center py-12",children:[v.jsx("div",{className:"h-16 w-16 text-emerald-300 mx-auto mb-4 flex items-center justify-center",children:v.jsx("svg",{className:"w-16 h-16",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})})}),v.jsx("h3",{className:"text-xl font-semibold text-emerald-800 mb-2",children:"User Management"}),v.jsx("p",{className:"text-emerald-600 mb-6",children:"Manage user accounts, permissions, roles, and user information."}),v.jsx("a",{href:"/admin/users",className:"bg-emerald-600 text-white px-6 py-2 rounded-lg hover:bg-emerald-700 transition-colors",children:"Go to User Management"})]})]});return"user-profile"===e?v.jsx(A,{}):"user-list"===e?v.jsx(S,{}):"user-create"===e?v.jsx(Ce,{onSave:C,onCancel:()=>N(null),isDarkMode:c}):"users"===e?v.jsx(T,{}):null},Se=({contactMessages:e,isDarkMode:t,onMessageStatusChange:a,onDeleteMessage:s})=>v.jsxs(g,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsxs("h3",{className:"text-2xl font-bold "+(t?"text-emerald-100":"text-gray-800"),children:["Contact Messages (",e.length,")"]}),v.jsx("div",{className:"flex items-center space-x-4",children:v.jsxs("span",{className:"text-sm "+(t?"text-emerald-300":"text-emerald-600"),children:["Unread: ",e.filter(e=>"unread"===e.status).length]})})]}),0===e.length?v.jsxs("div",{className:"text-center py-12",children:[v.jsx(b,{className:"h-16 w-16 mx-auto mb-4 "+(t?"text-gray-600":"text-gray-400")}),v.jsx("p",{className:"text-lg "+(t?"text-gray-400":"text-gray-500"),children:"No messages yet. When users submit the contact form, they'll appear here."})]}):v.jsx("div",{className:"space-y-4",children:e.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()).map(e=>v.jsxs(j.div,{className:"border rounded-lg p-6 transition-all duration-300 "+("unread"===e.status?t?"border-emerald-500/30 bg-emerald-900/20":"border-emerald-200 bg-emerald-50":t?"border-gray-700 bg-gray-800/30":"border-gray-200 bg-gray-50"),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[v.jsxs("div",{className:"flex items-start justify-between mb-4",children:[v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[v.jsx("h4",{className:"text-lg font-semibold "+(t?"text-white":"text-gray-800"),children:e.subject}),v.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium "+("unread"===e.status?"bg-red-100 text-red-800":"read"===e.status?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:e.status})]}),v.jsxs("div",{className:"text-sm mb-2 "+(t?"text-gray-300":"text-gray-600"),children:[v.jsx("strong",{children:"From:"})," ",e.name," (",e.email,")"]}),v.jsx("div",{className:"text-sm mb-4 "+(t?"text-gray-400":"text-gray-500"),children:new Date(e.createdAt).toLocaleString()})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsxs("select",{value:e.status,onChange:t=>a(e.id,t.target.value),className:"px-3 py-1 border rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:[v.jsx("option",{value:"unread",children:"Unread"}),v.jsx("option",{value:"read",children:"Read"}),v.jsx("option",{value:"replied",children:"Replied"})]}),v.jsx(j.button,{onClick:()=>s(e.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:v.jsx(H,{className:"h-4 w-4"})})]})]}),v.jsx("div",{className:"p-4 rounded-lg "+(t?"bg-gray-700/30":"bg-white"),children:v.jsx("p",{className:"leading-relaxed "+(t?"text-gray-300":"text-gray-700"),children:e.message})})]},e.id))})]}),Te=({contentData:e,categories:t,searchTerm:a,setSearchTerm:s,selectedCategory:r,setSelectedCategory:l,sortBy:i,setSortBy:n,onEdit:o,onDelete:d,onView:c,isDarkMode:x})=>{const[m,h]=ne.useState(1),[p,y]=ne.useState("all"),b=[...e.filter(e=>{var t,s;const r=e.title.toLowerCase().includes(a.toLowerCase())||(null==(t=e.description)?void 0:t.toLowerCase().includes(a.toLowerCase())),l="all"===p||(null==(s=e.category)?void 0:s.toLowerCase())===p;return r&&l})].sort((e,t)=>{switch(i){case"latest":return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime();case"oldest":return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime();case"title":return e.title.localeCompare(t.title);case"views":return(t.views||0)-(e.views||0);case"likes":return(t.likes||0)-(e.likes||0);default:return 0}}),f=Math.ceil(b.length/12),w=12*(m-1),k=b.slice(w,w+12),C=e=>{switch(e){case"published":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},A=e=>{switch(e){case"Technique":return"ðŸŒ¿";case"Video":return"ðŸŽ¥";default:return"ðŸ“„"}},M=e=>{const t=new Date(e),a=Math.floor(((new Date).getTime()-t.getTime())/1e3);return 60>a?"Just now":3600>a?Math.floor(a/60)+"m ago":86400>a?Math.floor(a/3600)+"h ago":2592e3>a?Math.floor(a/86400)+"d ago":t.toLocaleDateString()};return v.jsxs("div",{className:"space-y-6",children:[v.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold "+(x?"text-white":"text-gray-900"),children:"Content List"}),v.jsx("p",{className:"text-sm "+(x?"text-gray-400":"text-gray-600"),children:"Manage your content library"})]})}),v.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[{id:"all",label:"All Content",icon:"ðŸ“„",count:e.length},{id:"technique",label:"Techniques",icon:"ðŸŒ¿",count:e.filter(e=>{var t;return"technique"===(null==(t=e.category)?void 0:t.toLowerCase())}).length},{id:"video",label:"Videos",icon:"ðŸŽ¥",count:e.filter(e=>{var t;return"video"===(null==(t=e.category)?void 0:t.toLowerCase())}).length}].map(e=>v.jsxs(j.button,{onClick:()=>y(e.id),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 "+(p===e.id?x?"bg-emerald-600 text-white shadow-lg":"bg-white text-emerald-700 shadow-lg":x?"text-gray-300 hover:text-white hover:bg-gray-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[v.jsx("span",{className:"text-lg",children:e.icon}),v.jsx("span",{children:e.label}),v.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+(p===e.id?x?"bg-emerald-500 text-white":"bg-emerald-100 text-emerald-700":x?"bg-gray-600 text-gray-300":"bg-gray-200 text-gray-600"),children:e.count})]},e.id))}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[v.jsx(g,{className:"p-4 "+(x?"bg-gray-800":"bg-white"),children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium "+(x?"text-gray-400":"text-gray-600"),children:"Total Content"}),v.jsx("p",{className:"text-2xl font-bold "+(x?"text-white":"text-gray-900"),children:e.length})]}),v.jsx(u,{className:"w-8 h-8 "+(x?"text-gray-400":"text-gray-600")})]})}),v.jsx(g,{className:"p-4 "+(x?"bg-gray-800":"bg-white"),children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium "+(x?"text-gray-400":"text-gray-600"),children:"Published"}),v.jsx("p",{className:"text-2xl font-bold "+(x?"text-white":"text-gray-900"),children:e.filter(e=>"published"===e.status).length})]}),v.jsx(S,{className:"w-8 h-8 text-green-500"})]})}),v.jsx(g,{className:"p-4 "+(x?"bg-gray-800":"bg-white"),children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium "+(x?"text-gray-400":"text-gray-600"),children:"Featured"}),v.jsx("p",{className:"text-2xl font-bold "+(x?"text-white":"text-gray-900"),children:e.filter(e=>e.featured).length})]}),v.jsx(T,{className:"w-8 h-8 text-yellow-500"})]})}),v.jsx(g,{className:"p-4 "+(x?"bg-gray-800":"bg-white"),children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium "+(x?"text-gray-400":"text-gray-600"),children:"Categories"}),v.jsx("p",{className:"text-2xl font-bold "+(x?"text-white":"text-gray-900"),children:2})]}),v.jsx(I,{className:"w-8 h-8 text-blue-500"})]})})]}),v.jsx(g,{className:"p-6 "+(x?"bg-gray-800":"bg-white"),children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2 "+(x?"text-gray-300":"text-gray-700"),children:"Search"}),v.jsxs("div",{className:"relative",children:[v.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),v.jsx("input",{type:"text",value:a,onChange:e=>s(e.target.value),placeholder:"Search content...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(x?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2 "+(x?"text-gray-300":"text-gray-700"),children:"Sort By"}),v.jsxs("select",{value:i,onChange:e=>n(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(x?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:[v.jsx("option",{value:"latest",children:"Latest"}),v.jsx("option",{value:"oldest",children:"Oldest"}),v.jsx("option",{value:"title",children:"Title A-Z"}),v.jsx("option",{value:"views",children:"Most Views"}),v.jsx("option",{value:"likes",children:"Most Likes"})]})]})]})}),v.jsxs(g,{className:"p-6 "+(x?"bg-gray-800":"bg-white"),children:[0===k.length?v.jsxs("div",{className:"text-center py-12",children:[v.jsx("div",{className:"text-6xl mb-4",children:"ðŸ“„"}),v.jsx("h3",{className:"text-lg font-medium "+(x?"text-white":"text-gray-900"),children:"No content found"}),v.jsx("p",{className:"text-sm "+(x?"text-gray-400":"text-gray-600"),children:"Try adjusting your search or filters"})]}):v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"border-b "+(x?"border-gray-700":"border-gray-200"),children:[v.jsx("th",{className:"text-left py-3 px-4 font-medium "+(x?"text-gray-300":"text-gray-700"),children:"Content"}),v.jsx("th",{className:"text-left py-3 px-4 font-medium "+(x?"text-gray-300":"text-gray-700"),children:"Type"}),v.jsx("th",{className:"text-left py-3 px-4 font-medium "+(x?"text-gray-300":"text-gray-700"),children:"Status"}),v.jsx("th",{className:"text-left py-3 px-4 font-medium "+(x?"text-gray-300":"text-gray-700"),children:"Author"}),v.jsx("th",{className:"text-left py-3 px-4 font-medium "+(x?"text-gray-300":"text-gray-700"),children:"Created"}),v.jsx("th",{className:"text-left py-3 px-4 font-medium "+(x?"text-gray-300":"text-gray-700"),children:"Actions"})]})}),v.jsx("tbody",{children:k.map((e,t)=>{return v.jsxs(j.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},className:`border-b ${x?"border-gray-700 hover:bg-gray-700":"border-gray-200 hover:bg-gray-50"} transition-colors`,children:[v.jsx("td",{className:"py-4 px-4",children:v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0 flex items-center justify-center text-2xl",children:A(e.category)}),v.jsxs("div",{className:"min-w-0 flex-1",children:[v.jsx("h3",{className:`font-medium text-sm ${x?"text-white":"text-gray-900"} truncate`,children:e.title}),v.jsx("p",{className:`text-xs ${x?"text-gray-400":"text-gray-600"} truncate`,children:e.description})]})]})}),v.jsx("td",{className:"py-4 px-4",children:v.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+(a=e.category,{Technique:"bg-emerald-100 text-emerald-800",Video:"bg-red-100 text-red-800"}[a]||"bg-gray-100 text-gray-800"),children:e.category})}),v.jsx("td",{className:"py-4 px-4",children:v.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+C(e.status),children:e.status})}),v.jsx("td",{className:"py-4 px-4",children:v.jsx("span",{className:"text-sm "+(x?"text-gray-400":"text-gray-600"),children:e.author||e.instructor||"Unknown"})}),v.jsx("td",{className:"py-4 px-4",children:v.jsx("span",{className:"text-sm "+(x?"text-gray-400":"text-gray-600"),children:M(e.createdAt)})}),v.jsx("td",{className:"py-4 px-4",children:v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(j.button,{onClick:()=>c(e),className:`p-2 rounded-lg text-xs font-medium ${x?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:v.jsx(S,{className:"w-4 h-4"})}),v.jsx(j.button,{onClick:()=>o(e),className:`p-2 rounded-lg text-xs font-medium ${x?"bg-blue-600 text-white hover:bg-blue-500":"bg-blue-500 text-white hover:bg-blue-600"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:v.jsx(V,{className:"w-4 h-4"})}),v.jsx(j.button,{onClick:()=>d(e.id,e.category),className:`p-2 rounded-lg text-xs font-medium ${x?"bg-red-600 text-white hover:bg-red-500":"bg-red-500 text-white hover:bg-red-600"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:v.jsx(H,{className:"w-4 h-4"})})]})})]},e.id);var a})})]})}),f>1&&v.jsxs("div",{className:"flex items-center justify-between mt-6",children:[v.jsxs("div",{className:"text-sm "+(x?"text-gray-400":"text-gray-600"),children:["Showing ",w+1," to ",Math.min(w+12,b.length)," of ",b.length," results"]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(j.button,{onClick:()=>h(Math.max(1,m-1)),disabled:1===m,className:`p-2 rounded-lg ${1===m?"bg-gray-200 text-gray-400 cursor-not-allowed":x?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1===m?1:1.05},whileTap:{scale:1===m?1:.95},children:v.jsx(z,{className:"w-4 h-4"})}),Array.from({length:f},(e,t)=>t+1).map(e=>v.jsx(j.button,{onClick:()=>h(e),className:`px-3 py-2 rounded-lg ${e===m?"bg-emerald-500 text-white":x?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:e},e)),v.jsx(j.button,{onClick:()=>h(Math.min(f,m+1)),disabled:m===f,className:`p-2 rounded-lg ${m===f?"bg-gray-200 text-gray-400 cursor-not-allowed":x?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:m===f?1:1.05},whileTap:{scale:m===f?1:.95},children:v.jsx(N,{className:"w-4 h-4"})})]})]})]})]})},Me=({value:e,onChange:t,placeholder:a="Enter content...",isDarkMode:s=!1,className:r=""})=>{const l=ne.useRef(null),[i,n]=ne.useState(!1);ne.useEffect(()=>{l.current&&l.current.innerHTML!==(e||"")&&(l.current.innerHTML=e||"")},[e]);const o=()=>{l.current&&t(l.current.innerHTML)},d=(e,t)=>{var a;document.execCommand(e,!1,t),null==(a=l.current)||a.focus(),o()},c=e=>{if(l.current){const t=window.getSelection();if(t&&t.rangeCount>0){const a=t.getRangeAt(0),s=a.toString();if(s){const t=document.createElement(e);t.textContent=s,a.deleteContents(),a.insertNode(t)}else{const s=document.createElement(e);s.textContent="Heading",a.insertNode(s);const r=document.createRange();r.setStartAfter(s),r.collapse(!0),t.removeAllRanges(),t.addRange(r)}o()}}},g="p-2 rounded transition-colors "+(s?"hover:bg-gray-700 text-gray-300 hover:text-white":"hover:bg-gray-100 text-gray-600 hover:text-gray-800"),x=`w-full min-h-[200px] p-4 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors ${s?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"} ${r}`;return v.jsxs("div",{className:"space-y-3",children:[v.jsx("style",{children:"\n        .rich-text-editor h1 {\n          font-size: 2rem;\n          font-weight: bold;\n          margin: 1rem 0 0.5rem 0;\n          line-height: 1.2;\n        }\n        .rich-text-editor h2 {\n          font-size: 1.5rem;\n          font-weight: bold;\n          margin: 0.8rem 0 0.4rem 0;\n          line-height: 1.3;\n        }\n        .rich-text-editor h3 {\n          font-size: 1.25rem;\n          font-weight: bold;\n          margin: 0.6rem 0 0.3rem 0;\n          line-height: 1.4;\n        }\n        .rich-text-editor p {\n          margin: 0.5rem 0;\n          line-height: 1.6;\n        }\n        .rich-text-editor ul, .rich-text-editor ol {\n          margin: 0.5rem 0;\n          padding-left: 1.5rem;\n        }\n        .rich-text-editor blockquote {\n          border-left: 4px solid #10b981;\n          padding-left: 1rem;\n          margin: 1rem 0;\n          font-style: italic;\n        }\n      "}),v.jsxs(j.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex flex-wrap gap-1 p-3 border rounded-lg "+(s?"bg-gray-800 border-gray-700":"bg-gray-50 border-gray-200"),children:[v.jsxs("div",{className:"flex gap-1",children:[v.jsx("button",{type:"button",onClick:()=>d("bold"),className:g,title:"Bold",children:v.jsx(O,{className:"w-4 h-4"})}),v.jsx("button",{type:"button",onClick:()=>d("italic"),className:g,title:"Italic",children:v.jsx(q,{className:"w-4 h-4"})}),v.jsx("button",{type:"button",onClick:()=>d("underline"),className:g,title:"Underline",children:v.jsx(G,{className:"w-4 h-4"})})]}),v.jsx("div",{className:"w-px h-8 bg-gray-300 dark:bg-gray-600 mx-2"}),v.jsxs("div",{className:"flex gap-1",children:[v.jsx("button",{type:"button",onClick:()=>c("h1"),className:g,title:"Heading 1",children:v.jsx(W,{className:"w-4 h-4"})}),v.jsx("button",{type:"button",onClick:()=>c("h2"),className:g,title:"Heading 2",children:v.jsx(Y,{className:"w-4 h-4"})}),v.jsx("button",{type:"button",onClick:()=>c("h3"),className:g,title:"Heading 3",children:v.jsx(J,{className:"w-4 h-4"})})]}),v.jsx("div",{className:"w-px h-8 bg-gray-300 dark:bg-gray-600 mx-2"}),v.jsxs("div",{className:"flex gap-1",children:[v.jsx("button",{type:"button",onClick:()=>d("insertUnorderedList"),className:g,title:"Bullet List",children:v.jsx(K,{className:"w-4 h-4"})}),v.jsx("button",{type:"button",onClick:()=>d("insertOrderedList"),className:g,title:"Numbered List",children:v.jsx(Q,{className:"w-4 h-4"})})]}),v.jsx("div",{className:"w-px h-8 bg-gray-300 dark:bg-gray-600 mx-2"}),v.jsxs("div",{className:"flex gap-1",children:[v.jsx("button",{type:"button",onClick:()=>d("justifyLeft"),className:g,title:"Align Left",children:v.jsx(Z,{className:"w-4 h-4"})}),v.jsx("button",{type:"button",onClick:()=>d("justifyCenter"),className:g,title:"Align Center",children:v.jsx(X,{className:"w-4 h-4"})}),v.jsx("button",{type:"button",onClick:()=>d("justifyRight"),className:g,title:"Align Right",children:v.jsx(ee,{className:"w-4 h-4"})})]}),v.jsx("div",{className:"w-px h-8 bg-gray-300 dark:bg-gray-600 mx-2"}),v.jsxs("div",{className:"flex gap-1",children:[v.jsx("button",{type:"button",onClick:()=>{const e=prompt("Enter URL:");e&&d("createLink",e)},className:g,title:"Insert Link",children:v.jsx(te,{className:"w-4 h-4"})}),v.jsx("button",{type:"button",onClick:()=>{const e=prompt("Enter image URL:");e&&d("insertImage",e)},className:g,title:"Insert Image",children:v.jsx(ae,{className:"w-4 h-4"})}),v.jsx("button",{type:"button",onClick:()=>d("formatBlock","blockquote"),className:g,title:"Quote",children:v.jsx(se,{className:"w-4 h-4"})})]})]}),v.jsx("div",{ref:l,contentEditable:!0,onInput:o,onFocus:()=>n(!0),onBlur:()=>{n(!1),l.current&&t(l.current.innerHTML)},className:`rich-text-editor ${x} ${i?"ring-2 ring-emerald-500":""}`,style:{direction:"ltr",textAlign:"left"},dir:"ltr","data-placeholder":a,suppressContentEditableWarning:!0})]})},Ue=({type:e,item:t,categories:a,onSave:s,onCancel:r,isDarkMode:l})=>{const i=e=>"videos"===e||"video"===e||"Video"===e,[d,c]=ne.useState(t||{title:"",author:"",instructor:"",category:a&&a.length>0?a[0]:"",status:"draft",description:"",tags:"",featured_image:"",buyLink:"",borrowLink:"",link:"",duration:"",isbn:"",difficulty:"beginner",rating:5,price:0,featured:!1,type:"general"});ne.useEffect(()=>{if(t){const a=o(n({},t),{content:t.body||t.content||t.description||"",featured_image:t.featured_image||"",video_url:i(e)&&(t.videoUrl||t.link)||"",link:("books"===e||"suggestions"===e)&&t.link||""});c(a)}},[t,e]);const g="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(l?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),x="block font-semibold mb-2 "+(l?"text-gray-300":"text-gray-700");return v.jsxs("form",{onSubmit:t=>{var a,r;t.preventDefault();const l=o(n({},d),{title:d.title||"",status:d.status||"draft",content:d.content||d.body||"",featured_image:d.featured_image||"",video_url:i(e)&&d.video_url||"",link:"books"===e||"suggestions"===e?d.link||"":i(e)&&d.video_url||"",tags:d.tags?Array.isArray(d.tags)?d.tags:"string"==typeof d.tags?d.tags.split(",").map(e=>e.trim()).filter(e=>e):[]:[],rating:parseFloat((null==(a=d.rating)?void 0:a.toString())||"0")||0,price:parseFloat((null==(r=d.price)?void 0:r.toString())||"0")||0,duration:d.duration||"",is_featured:!(!d.featured&&!d.is_featured)});s(l)},className:"space-y-6",children:[v.jsx("div",{className:"flex items-center justify-between mb-6",children:v.jsxs("h2",{className:"text-2xl font-bold "+(l?"text-white":"text-gray-800"),children:[t?"Edit":"Create"," ",e.charAt(0).toUpperCase()+e.slice(1,-1)]})}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:x,children:"Title *"}),v.jsx("input",{type:"text",value:d.title,onChange:e=>c(o(n({},d),{title:e.target.value})),className:g,required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:x,children:"Slug (URL)"}),v.jsx("input",{type:"text",value:d.slug||"",onChange:e=>c(o(n({},d),{slug:e.target.value})),className:g,placeholder:"auto-generated-from-title"}),v.jsx("p",{className:"text-xs mt-1 "+(l?"text-gray-400":"text-gray-500"),children:"Leave empty to auto-generate from title"})]}),"suggestions"!==e&&v.jsxs("div",{children:[v.jsxs("label",{className:x,children:[i(e)?"Instructor":"Author"," *"]}),v.jsx("input",{type:"text",value:i(e)?d.instructor:d.author,onChange:t=>c(o(n({},d),{[i(e)?"instructor":"author"]:t.target.value})),className:g,required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:x,children:"Category *"}),v.jsx("select",{value:d.category,onChange:e=>c(o(n({},d),{category:e.target.value})),className:g,required:!0,children:a&&Array.isArray(a)&&a.map(e=>v.jsx("option",{value:e,children:e},e))})]}),v.jsxs("div",{children:[v.jsx("label",{className:x,children:"Status"}),v.jsxs("select",{value:d.status,onChange:e=>c(o(n({},d),{status:e.target.value})),className:g,children:[v.jsx("option",{value:"draft",children:"Draft"}),v.jsx("option",{value:"published",children:"Published"})]})]}),("books"===e||"suggestions"===e)&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{children:[v.jsx("label",{className:x,children:"Rating (1-5)"}),v.jsx("input",{type:"number",min:"1",max:"5",step:"0.1",value:d.rating,onChange:e=>c(o(n({},d),{rating:parseFloat(e.target.value)||0})),className:g})]}),v.jsxs("div",{children:[v.jsx("label",{className:x,children:"Product Link"}),v.jsx("input",{type:"url",value:d.link||"",onChange:e=>c(o(n({},d),{link:e.target.value})),className:g,placeholder:"https://example.com/product"})]})]}),"videos"===e&&v.jsxs("div",{children:[v.jsx("label",{className:x,children:"Duration"}),v.jsx("input",{type:"text",placeholder:"e.g., 12:45",value:d.duration,onChange:e=>c(o(n({},d),{duration:e.target.value})),className:g})]}),"books"===e&&v.jsxs("div",{children:[v.jsx("label",{className:x,children:"ISBN"}),v.jsx("input",{type:"text",value:d.isbn,onChange:e=>c(o(n({},d),{isbn:e.target.value})),className:g})]}),"techniques"===e&&v.jsxs("div",{children:[v.jsx("label",{className:x,children:"Difficulty"}),v.jsxs("select",{value:d.difficulty,onChange:e=>c(o(n({},d),{difficulty:e.target.value})),className:g,children:[v.jsx("option",{value:"beginner",children:"Beginner"}),v.jsx("option",{value:"intermediate",children:"Intermediate"}),v.jsx("option",{value:"advanced",children:"Advanced"})]})]}),"suggestions"===e&&v.jsxs("div",{children:[v.jsx("label",{className:x,children:"Type"}),v.jsxs("select",{value:d.type,onChange:e=>c(o(n({},d),{type:e.target.value})),className:g,children:[v.jsx("option",{value:"tool",children:"Tool"}),v.jsx("option",{value:"accessory",children:"Accessory"}),v.jsx("option",{value:"book",children:"Book"}),v.jsx("option",{value:"general",children:"General"})]})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:x,children:"Content *"}),v.jsx(Me,{value:d.content||d.body||d.description||"",onChange:e=>c(o(n({},d),{content:e})),placeholder:"Write detailed content here...",isDarkMode:l,className:"min-h-[300px]"},"rich-editor-"+((null==t?void 0:t.id)||"new"))]}),v.jsxs("div",{children:[v.jsx("label",{className:x,children:"Description (Short Summary)"}),v.jsx("textarea",{value:d.description,onChange:e=>c(o(n({},d),{description:e.target.value})),className:g+" h-20 resize-none",placeholder:"Brief description for preview..."})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:x,children:"Tags (comma-separated)"}),v.jsx("input",{type:"text",value:Array.isArray(d.tags)?d.tags.join(", "):d.tags||"",onChange:e=>c(o(n({},d),{tags:e.target.value})),className:g,placeholder:"e.g., organic, beginner, indoor"})]}),v.jsxs("div",{children:[v.jsx("label",{className:x,children:"Featured Image"}),v.jsx(ke,{value:d.featured_image,onChange:e=>c(o(n({},d),{featured_image:e})),onError:e=>alert(e),className:"mt-1",placeholder:"Upload featured image"})]}),i(e)&&v.jsxs("div",{children:[v.jsx("label",{className:x,children:"Video URL"}),v.jsx("input",{type:"url",value:d.video_url||"",onChange:e=>c(o(n({},d),{video_url:e.target.value})),className:g,placeholder:"https://www.youtube.com/watch?v=..."}),v.jsx("p",{className:"text-xs mt-1 "+(l?"text-gray-400":"text-gray-500"),children:"Paste video URL (YouTube, Vimeo, etc.)"})]}),("books"===e||"suggestions"===e)&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{children:[v.jsx("label",{className:x,children:"Buy Link"}),v.jsx("input",{type:"url",value:d.buyLink,onChange:e=>c(o(n({},d),{buyLink:e.target.value})),className:g})]}),"books"===e&&v.jsxs("div",{children:[v.jsx("label",{className:x,children:"Borrow Link"}),v.jsx("input",{type:"url",value:d.borrowLink,onChange:e=>c(o(n({},d),{borrowLink:e.target.value})),className:g})]})]})]}),v.jsx("div",{className:"flex items-center space-x-4",children:v.jsxs("label",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"checkbox",checked:d.featured,onChange:e=>c(o(n({},d),{featured:e.target.checked})),className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),v.jsx("span",{className:x.replace("block","inline"),children:"Featured"})]})}),v.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[v.jsx(j.button,{type:"button",onClick:r,className:"px-6 py-3 rounded-lg font-semibold transition-colors "+(l?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"),whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"}),v.jsx(j.button,{type:"submit",className:"px-6 py-3 bg-emerald-500 text-white rounded-lg font-semibold hover:bg-emerald-600 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:t?"Update":"Create"})]})]})},De=({categories:e,onSave:t,onCancel:a,isDarkMode:s})=>{var r;const[l,i]=ne.useState(""),n=[{id:"Technique",name:"Technique",description:"Create detailed technique articles with rich content",icon:re,color:"from-emerald-500 to-emerald-600"},{id:"Video",name:"Video",description:"Create video content and tutorials with rich descriptions",icon:U,color:"from-red-500 to-red-600"}],o=()=>{l?i(""):a()};return v.jsxs("div",{className:"space-y-6",children:[v.jsx("div",{className:"flex items-center justify-between",children:v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx(j.button,{onClick:o,className:`p-2 rounded-lg ${s?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:v.jsx(L,{className:"w-5 h-5"})}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold "+(s?"text-white":"text-gray-800"),children:l?"Create "+(null==(r=n.find(e=>e.id===l))?void 0:r.name):"Create New Content"}),v.jsx("p",{className:"text-sm "+(s?"text-gray-400":"text-gray-600"),children:l?"Fill in the content details":"Choose a content type to get started"})]})]})}),l?v.jsx(g,{className:"p-6 "+(s?"bg-gray-800":"bg-white"),children:v.jsx(Ue,{type:l,item:null,categories:["Technique","Video"],onSave:e=>{t(e)},onCancel:o,isDarkMode:s})}):v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(e=>{const t=e.icon;return v.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{return t=e.id,void i(t);var t},className:"cursor-pointer rounded-lg border-2 border-dashed p-6 text-center transition-all duration-200 "+(s?"border-gray-600 hover:border-emerald-500 bg-gray-800 hover:bg-gray-700":"border-gray-300 hover:border-emerald-500 bg-white hover:bg-gray-50"),children:[v.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r ${e.color} flex items-center justify-center`,children:v.jsx(t,{className:"w-8 h-8 text-white"})}),v.jsx("h3",{className:"text-lg font-semibold mb-2 "+(s?"text-white":"text-gray-900"),children:e.name}),v.jsx("p",{className:"text-sm "+(s?"text-gray-400":"text-gray-600"),children:e.description})]},e.id)})})]})},Pe=({content:e,categories:t,onSave:a,onCancel:s,isDarkMode:r})=>v.jsxs("div",{className:"space-y-6",children:[v.jsx("div",{className:"flex items-center justify-between",children:v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx(j.button,{onClick:s,className:`p-2 rounded-lg ${r?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:v.jsx(L,{className:"w-5 h-5"})}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold "+(r?"text-white":"text-gray-800"),children:"Edit Content"}),v.jsx("p",{className:"text-sm "+(r?"text-gray-400":"text-gray-600"),children:"Update content information"})]})]})}),v.jsx(g,{className:"p-6 "+(r?"bg-gray-800":"bg-white"),children:v.jsx(Ue,{type:e.category,item:e,categories:["Technique","Video"],onSave:a,onCancel:s,isDarkMode:r})})]}),_e=({activeTab:e,contentData:t,categories:a,searchTerm:s,selectedCategory:r,sortBy:l,isDarkMode:i,editingItem:n,onSearchTermChange:o,onSelectedCategoryChange:d,onSortByChange:c,onEdit:g,onDelete:x,onView:m,onCreate:h})=>v.jsxs("div",{className:"space-y-6",children:["content-list"===e&&v.jsx(Te,{contentData:t,categories:a,searchTerm:s,setSearchTerm:o,selectedCategory:r,setSelectedCategory:d,sortBy:l,setSortBy:c,onEdit:e=>{var t;const a="technique"===(null==(t=e.category)?void 0:t.toLowerCase())?"articles":"videos";g(e,a)},onDelete:x,onView:m,isDarkMode:i}),"content-create"===e&&v.jsx(De,{categories:a,onSave:e=>{h(e)},onCancel:()=>{},isDarkMode:i}),"content-edit"===e&&n&&v.jsx(Pe,{content:n,categories:a,onSave:e=>{h(e)},onCancel:()=>{g(null,"content-list")},isDarkMode:i})]}),Le=({products:e,searchTerm:t,setSearchTerm:a,selectedCategory:s,setSelectedCategory:r,sortBy:l,setSortBy:i,onEdit:n,onDelete:o,onView:d,categories:c,isDarkMode:x})=>{const[m,h]=ne.useState(1),[u,y]=ne.useState("all"),b=[...e.filter(e=>{var a;const r=(e.name||e.title||"").toLowerCase().includes(t.toLowerCase())||((null==(a=e.description)?void 0:a.toLowerCase())||"").includes(t.toLowerCase()),l="all"===u||e.category===u,i="all"===s||e.category===s;return r&&l&&i})].sort((e,t)=>{switch(l){case"latest":return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime();case"oldest":return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime();case"title":return(e.name||e.title||"").localeCompare(t.name||t.title||"");case"views":return(t.views||0)-(e.views||0);case"likes":return(t.likes||0)-(e.likes||0);case"price-low":return(e.price||0)-(t.price||0);case"price-high":return(t.price||0)-(e.price||0);default:return 0}}),f=Math.ceil(b.length/12),w=12*(m-1),k=b.slice(w,w+12),C=e=>{switch(e){case"published":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},A=e=>{switch(e){case"tool":return"ðŸ”§";case"book":return"ðŸ“š";case"pot":return"ðŸª´";case"accessory":return"ðŸ·ï¸";case"suggestion":return"ðŸ’¡";default:return"ðŸ“¦"}};return v.jsxs("div",{className:"space-y-6",children:[v.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold "+(x?"text-white":"text-gray-900"),children:"Product List"}),v.jsx("p",{className:"text-sm "+(x?"text-gray-400":"text-gray-600"),children:"Manage your product catalog"})]})}),v.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[{id:"all",label:"All Products",icon:"ðŸ“¦",count:e.length},{id:"tool",label:"Tools",icon:"ðŸ”§",count:e.filter(e=>"tool"===e.category).length},{id:"book",label:"Books",icon:"ðŸ“š",count:e.filter(e=>"book"===e.category).length},{id:"pot",label:"Pots",icon:"ðŸª´",count:e.filter(e=>"pot"===e.category).length},{id:"accessory",label:"Accessories",icon:"ðŸ·ï¸",count:e.filter(e=>"accessory"===e.category).length},{id:"suggestion",label:"Suggestions",icon:"ðŸ’¡",count:e.filter(e=>"suggestion"===e.category).length}].map(e=>v.jsxs(j.button,{onClick:()=>y(e.id),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 "+(u===e.id?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[v.jsx("span",{className:"text-lg",children:e.icon}),v.jsx("span",{className:"hidden sm:inline",children:e.label}),v.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+(u===e.id?"bg-gray-200 dark:bg-gray-500 text-gray-700 dark:text-gray-200":"bg-gray-100 dark:bg-gray-600 text-gray-600 dark:text-gray-400"),children:e.count})]},e.id))}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[v.jsx(g,{className:"p-4 "+(x?"bg-gray-800":"bg-white"),children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium "+(x?"text-gray-400":"text-gray-600"),children:"Total Products"}),v.jsx("p",{className:"text-2xl font-bold "+(x?"text-white":"text-gray-900"),children:e.length})]}),v.jsx(p,{className:"w-8 h-8 "+(x?"text-gray-400":"text-gray-600")})]})}),v.jsx(g,{className:"p-4 "+(x?"bg-gray-800":"bg-white"),children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium "+(x?"text-gray-400":"text-gray-600"),children:"Published"}),v.jsx("p",{className:"text-2xl font-bold "+(x?"text-white":"text-gray-900"),children:e.filter(e=>"published"===e.status).length})]}),v.jsx(S,{className:"w-8 h-8 text-green-500"})]})}),v.jsx(g,{className:"p-4 "+(x?"bg-gray-800":"bg-white"),children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium "+(x?"text-gray-400":"text-gray-600"),children:"Featured"}),v.jsx("p",{className:"text-2xl font-bold "+(x?"text-white":"text-gray-900"),children:e.filter(e=>e.is_featured).length})]}),v.jsx(T,{className:"w-8 h-8 text-yellow-500"})]})}),v.jsx(g,{className:"p-4 "+(x?"bg-gray-800":"bg-white"),children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium "+(x?"text-gray-400":"text-gray-600"),children:"Avg Rating"}),v.jsx("p",{className:"text-2xl font-bold "+(x?"text-white":"text-gray-900"),children:e.length>0?(e.reduce((e,t)=>e+(t.rating||0),0)/e.length).toFixed(1):"0.0"})]}),v.jsx(T,{className:"w-8 h-8 text-blue-500"})]})})]}),v.jsx(g,{className:"p-6 "+(x?"bg-gray-800":"bg-white"),children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2 "+(x?"text-gray-300":"text-gray-700"),children:"Search"}),v.jsxs("div",{className:"relative",children:[v.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),v.jsx("input",{type:"text",value:t,onChange:e=>a(e.target.value),placeholder:"Search products...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(x?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2 "+(x?"text-gray-300":"text-gray-700"),children:"Category"}),v.jsxs("select",{value:s,onChange:e=>r(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(x?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:[v.jsx("option",{value:"all",children:"All Categories"}),v.jsx("option",{value:"tool",children:"Tool"}),v.jsx("option",{value:"book",children:"Book"}),v.jsx("option",{value:"pot",children:"Pot"}),v.jsx("option",{value:"accessory",children:"Accessory"}),v.jsx("option",{value:"suggestion",children:"Suggestion"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2 "+(x?"text-gray-300":"text-gray-700"),children:"Sort By"}),v.jsxs("select",{value:l,onChange:e=>i(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(x?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:[v.jsx("option",{value:"latest",children:"Latest"}),v.jsx("option",{value:"oldest",children:"Oldest"}),v.jsx("option",{value:"title",children:"Title A-Z"}),v.jsx("option",{value:"views",children:"Most Views"}),v.jsx("option",{value:"likes",children:"Most Likes"}),v.jsx("option",{value:"price-low",children:"Price: Low to High"}),v.jsx("option",{value:"price-high",children:"Price: High to Low"})]})]})]})}),v.jsxs(g,{className:"p-6 "+(x?"bg-gray-800":"bg-white"),children:[0===k.length?v.jsxs("div",{className:"text-center py-12",children:[v.jsx("div",{className:"text-6xl mb-4",children:"ðŸ“¦"}),v.jsx("h3",{className:"text-lg font-medium "+(x?"text-white":"text-gray-900"),children:"No products found"}),v.jsx("p",{className:"text-sm "+(x?"text-gray-400":"text-gray-600"),children:"Try adjusting your search or filters"})]}):v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"border-b "+(x?"border-gray-700":"border-gray-200"),children:[v.jsx("th",{className:"text-left py-3 px-4 font-medium "+(x?"text-gray-300":"text-gray-700"),children:"Product"}),v.jsx("th",{className:"text-left py-3 px-4 font-medium "+(x?"text-gray-300":"text-gray-700"),children:"Category"}),v.jsx("th",{className:"text-left py-3 px-4 font-medium "+(x?"text-gray-300":"text-gray-700"),children:"Status"}),v.jsx("th",{className:"text-left py-3 px-4 font-medium "+(x?"text-gray-300":"text-gray-700"),children:"Price"}),v.jsx("th",{className:"text-left py-3 px-4 font-medium "+(x?"text-gray-300":"text-gray-700"),children:"Rating"}),v.jsx("th",{className:"text-left py-3 px-4 font-medium "+(x?"text-gray-300":"text-gray-700"),children:"Actions"})]})}),v.jsx("tbody",{children:k.map((e,t)=>{return v.jsxs(j.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},className:`border-b ${x?"border-gray-700 hover:bg-gray-700":"border-gray-200 hover:bg-gray-50"} transition-colors`,children:[v.jsx("td",{className:"py-4 px-4",children:v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0",children:e.image?v.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"}):v.jsx("div",{className:"w-full h-full flex items-center justify-center",children:v.jsx(p,{className:"w-6 h-6 text-gray-400"})})}),v.jsxs("div",{className:"min-w-0 flex-1",children:[v.jsx("h3",{className:`font-medium text-sm ${x?"text-white":"text-gray-900"} truncate`,children:e.name||e.title}),v.jsx("p",{className:`text-xs ${x?"text-gray-400":"text-gray-600"} truncate`,children:e.description})]})]})}),v.jsx("td",{className:"py-4 px-4",children:v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("span",{className:"text-sm",children:A(e.category)}),v.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+(s=e.category,{tool:"bg-orange-100 text-orange-800",book:"bg-purple-100 text-purple-800",pot:"bg-green-100 text-green-800",accessory:"bg-blue-100 text-blue-800",suggestion:"bg-yellow-100 text-yellow-800"}[s]||"bg-gray-100 text-gray-800"),children:e.category.charAt(0).toUpperCase()+e.category.slice(1)})]})}),v.jsx("td",{className:"py-4 px-4",children:v.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+C(e.status),children:e.status})}),v.jsx("td",{className:"py-4 px-4",children:v.jsx("span",{className:"text-sm font-medium "+(x?"text-white":"text-gray-900"),children:(a=e.price,a?"$"+a.toFixed(2):"Free")})}),v.jsx("td",{className:"py-4 px-4",children:v.jsxs("div",{className:"flex items-center space-x-1",children:[v.jsx(T,{className:"w-4 h-4 text-yellow-500 fill-current"}),v.jsx("span",{className:"text-sm "+(x?"text-gray-400":"text-gray-600"),children:e.rating||0})]})}),v.jsx("td",{className:"py-4 px-4",children:v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(j.button,{onClick:()=>d(e),className:`p-2 rounded-lg text-xs font-medium ${x?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:v.jsx(S,{className:"w-4 h-4"})}),v.jsx(j.button,{onClick:()=>n(e),className:`p-2 rounded-lg text-xs font-medium ${x?"bg-blue-600 text-white hover:bg-blue-500":"bg-blue-500 text-white hover:bg-blue-600"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:v.jsx(V,{className:"w-4 h-4"})}),v.jsx(j.button,{onClick:()=>o(e.id),className:`p-2 rounded-lg text-xs font-medium ${x?"bg-red-600 text-white hover:bg-red-500":"bg-red-500 text-white hover:bg-red-600"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:v.jsx(H,{className:"w-4 h-4"})})]})})]},e.id);var a,s})})]})}),f>1&&v.jsxs("div",{className:"flex items-center justify-between mt-6",children:[v.jsxs("div",{className:"text-sm "+(x?"text-gray-400":"text-gray-600"),children:["Showing ",w+1," to ",Math.min(w+12,b.length)," of ",b.length," results"]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(j.button,{onClick:()=>h(Math.max(1,m-1)),disabled:1===m,className:`p-2 rounded-lg ${1===m?"bg-gray-200 text-gray-400 cursor-not-allowed":x?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1===m?1:1.05},whileTap:{scale:1===m?1:.95},children:v.jsx(z,{className:"w-4 h-4"})}),Array.from({length:f},(e,t)=>t+1).map(e=>v.jsx(j.button,{onClick:()=>h(e),className:`px-3 py-2 rounded-lg ${e===m?"bg-emerald-500 text-white":x?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:e},e)),v.jsx(j.button,{onClick:()=>h(Math.min(f,m+1)),disabled:m===f,className:`p-2 rounded-lg ${m===f?"bg-gray-200 text-gray-400 cursor-not-allowed":x?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:m===f?1:1.05},whileTap:{scale:m===f?1:.95},children:v.jsx(N,{className:"w-4 h-4"})})]})]})]})]})},Fe=({type:e,item:t,categories:a,onSave:s,onCancel:r,isDarkMode:l})=>{const[i,d]=ne.useState(t||{name:"",title:"",category:"tool",subcategory:"",status:"draft",description:"",content:"",image:"",images_json:"",brand:"",material:"",size:"",color:"",price:0,rating:0,is_featured:!1,is_published:!1,views:0,likes:0,usage:"",video_url:"",author:"",pages:0,published_year:(new Date).getFullYear(),drainage_holes:!1,is_waterproof:!1,is_durable:!1,difficulty_level:"beginner",season:"",plant_type:"",estimated_time:"",tags:[],link:""}),c="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(l?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),g="block font-semibold mb-2 "+(l?"text-gray-300":"text-gray-700");return v.jsxs("form",{onSubmit:e=>{e.preventDefault();const t=o(n({},i),{tags:i.tags?Array.isArray(i.tags)?i.tags:i.tags.split(",").map(e=>e.trim()):[],rating:parseFloat(i.rating)||0,price:parseFloat(i.price)||0});s(t)},className:"space-y-6",children:[v.jsx("div",{className:"flex items-center justify-between mb-6",children:v.jsxs("h2",{className:"text-2xl font-bold "+(l?"text-white":"text-gray-800"),children:[t?"Edit":"Create"," Product"]})}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:g,children:"Name *"}),v.jsx("input",{type:"text",value:i.title||i.name||"",onChange:e=>d(o(n({},i),{title:e.target.value,name:e.target.value})),className:c,required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:g,children:"Category *"}),v.jsxs("select",{value:i.category||"tool",onChange:e=>d(o(n({},i),{category:e.target.value})),className:c,required:!0,children:[v.jsx("option",{value:"tool",children:"Tool"}),v.jsx("option",{value:"book",children:"Book"}),v.jsx("option",{value:"pot",children:"Pot"}),v.jsx("option",{value:"accessory",children:"Accessory"}),v.jsx("option",{value:"suggestion",children:"Suggestion"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:g,children:"Subcategory"}),v.jsx("input",{type:"text",value:i.subcategory||"",onChange:e=>d(o(n({},i),{subcategory:e.target.value})),className:c,placeholder:"e.g., CÃ´ng cá»¥ Ä‘Ã o Ä‘áº¥t, SÃ¡ch nghá»‡ thuáº­t..."})]}),v.jsxs("div",{children:[v.jsx("label",{className:g,children:"Status *"}),v.jsxs("select",{value:i.status||"draft",onChange:e=>d(o(n({},i),{status:e.target.value})),className:c,children:[v.jsx("option",{value:"draft",children:"Draft"}),v.jsx("option",{value:"published",children:"Published"}),v.jsx("option",{value:"archived",children:"Archived"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:g,children:"Price ($)"}),v.jsx("input",{type:"number",step:"0.01",min:"0",value:i.price||0,onChange:e=>d(o(n({},i),{price:parseFloat(e.target.value)||0})),className:c,placeholder:"0.00"})]}),v.jsxs("div",{children:[v.jsx("label",{className:g,children:"Brand"}),v.jsx("input",{type:"text",value:i.brand||"",onChange:e=>d(o(n({},i),{brand:e.target.value})),className:c,placeholder:"Product brand"})]}),v.jsxs("div",{children:[v.jsx("label",{className:g,children:"Material"}),v.jsx("input",{type:"text",value:i.material||"",onChange:e=>d(o(n({},i),{material:e.target.value})),className:c,placeholder:"Product material"})]}),v.jsxs("div",{children:[v.jsx("label",{className:g,children:"Size"}),v.jsx("input",{type:"text",value:i.size||"",onChange:e=>d(o(n({},i),{size:e.target.value})),className:c,placeholder:"Product size"})]}),v.jsxs("div",{children:[v.jsx("label",{className:g,children:"Color"}),v.jsx("input",{type:"text",value:i.color||"",onChange:e=>d(o(n({},i),{color:e.target.value})),className:c,placeholder:"Product color"})]}),v.jsxs("div",{children:[v.jsx("label",{className:g,children:"Rating (1-5)"}),v.jsx("input",{type:"number",min:"1",max:"5",step:"0.1",value:i.rating||5,onChange:e=>d(o(n({},i),{rating:parseFloat(e.target.value)||5})),className:c})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:g,children:"Description *"}),v.jsx("textarea",{value:i.description||"",onChange:e=>d(o(n({},i),{description:e.target.value})),className:c+" min-h-[120px]",placeholder:"Product description...",required:!0})]}),"tool"===i.category&&v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:g,children:"Usage"}),v.jsx("textarea",{value:i.usage||"",onChange:e=>d(o(n({},i),{usage:e.target.value})),className:c,rows:2,placeholder:"How to use this tool"})]}),v.jsxs("div",{children:[v.jsx("label",{className:g,children:"Video URL"}),v.jsx("input",{type:"url",value:i.video_url||"",onChange:e=>d(o(n({},i),{video_url:e.target.value})),className:c,placeholder:"https://youtube.com/watch?v=..."})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:g,children:"Product Link"}),v.jsx("input",{type:"url",value:i.link||"",onChange:e=>d(o(n({},i),{link:e.target.value})),className:c,placeholder:"https://shopee.vn/..."})]})]}),"book"===i.category&&v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:g,children:"Author"}),v.jsx("input",{type:"text",value:i.author||"",onChange:e=>d(o(n({},i),{author:e.target.value})),className:c,placeholder:"Author name"})]}),v.jsxs("div",{children:[v.jsx("label",{className:g,children:"Pages"}),v.jsx("input",{type:"number",value:i.pages||0,onChange:e=>d(o(n({},i),{pages:parseInt(e.target.value)||0})),className:c,placeholder:"Number of pages"})]}),v.jsxs("div",{children:[v.jsx("label",{className:g,children:"Published Year"}),v.jsx("input",{type:"number",value:i.published_year||(new Date).getFullYear(),onChange:e=>d(o(n({},i),{published_year:parseInt(e.target.value)||(new Date).getFullYear()})),className:c,placeholder:"2024"})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:g,children:"Product Link"}),v.jsx("input",{type:"url",value:i.link||"",onChange:e=>d(o(n({},i),{link:e.target.value})),className:c,placeholder:"https://tiki.vn/..."})]})]}),"pot"===i.category&&v.jsx("div",{children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",id:"drainage_holes",checked:i.drainage_holes||!1,onChange:e=>d(o(n({},i),{drainage_holes:e.target.checked})),className:"w-4 h-4 text-emerald-600 bg-gray-100 border-gray-300 rounded focus:ring-emerald-500"}),v.jsx("label",{htmlFor:"drainage_holes",className:"ml-2 text-sm font-medium "+(l?"text-gray-300":"text-gray-700"),children:"Has Drainage Holes"})]})}),"accessory"===i.category&&v.jsxs("div",{className:"flex items-center space-x-6",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",id:"is_waterproof",checked:i.is_waterproof||!1,onChange:e=>d(o(n({},i),{is_waterproof:e.target.checked})),className:"w-4 h-4 text-emerald-600 bg-gray-100 border-gray-300 rounded focus:ring-emerald-500"}),v.jsx("label",{htmlFor:"is_waterproof",className:"ml-2 text-sm font-medium "+(l?"text-gray-300":"text-gray-700"),children:"Waterproof"})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",id:"is_durable",checked:i.is_durable||!1,onChange:e=>d(o(n({},i),{is_durable:e.target.checked})),className:"w-4 h-4 text-emerald-600 bg-gray-100 border-gray-300 rounded focus:ring-emerald-500"}),v.jsx("label",{htmlFor:"is_durable",className:"ml-2 text-sm font-medium "+(l?"text-gray-300":"text-gray-700"),children:"Durable"})]})]}),"suggestion"===i.category&&v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:g,children:"Difficulty Level"}),v.jsxs("select",{value:i.difficulty_level||"beginner",onChange:e=>d(o(n({},i),{difficulty_level:e.target.value})),className:c,children:[v.jsx("option",{value:"beginner",children:"Beginner"}),v.jsx("option",{value:"intermediate",children:"Intermediate"}),v.jsx("option",{value:"advanced",children:"Advanced"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:g,children:"Season"}),v.jsx("input",{type:"text",value:i.season||"",onChange:e=>d(o(n({},i),{season:e.target.value})),className:c,placeholder:"e.g., Spring, Summer, All year"})]}),v.jsxs("div",{children:[v.jsx("label",{className:g,children:"Plant Type"}),v.jsx("input",{type:"text",value:i.plant_type||"",onChange:e=>d(o(n({},i),{plant_type:e.target.value})),className:c,placeholder:"e.g., Indoor plants, Vegetables"})]}),v.jsxs("div",{children:[v.jsx("label",{className:g,children:"Estimated Time"}),v.jsx("input",{type:"text",value:i.estimated_time||"",onChange:e=>d(o(n({},i),{estimated_time:e.target.value})),className:c,placeholder:"e.g., 30 minutes, 2 hours"})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:g,children:"Link"}),v.jsx("input",{type:"url",value:i.link||"",onChange:e=>d(o(n({},i),{link:e.target.value})),className:c,placeholder:"https://blog.example.com/..."})]})]}),"suggestion"===i.category&&v.jsxs("div",{children:[v.jsx("label",{className:g,children:"Tags"}),v.jsx("input",{type:"text",value:Array.isArray(i.tags)?i.tags.join(", "):i.tags||"",onChange:e=>d(o(n({},i),{tags:e.target.value})),className:c,placeholder:"tag1, tag2, tag3"})]}),v.jsxs("div",{children:[v.jsx("label",{className:g,children:"Featured Image"}),v.jsx(ke,{value:i.image||"",onChange:e=>d(o(n({},i),{image:e})),onError:e=>alert(e),className:"mt-1",placeholder:"Upload product image"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",id:"featured",checked:i.is_featured||!1,onChange:e=>d(o(n({},i),{is_featured:e.target.checked})),className:"w-4 h-4 text-emerald-600 bg-gray-100 border-gray-300 rounded focus:ring-emerald-500"}),v.jsx("label",{htmlFor:"featured",className:"ml-2 text-sm font-medium "+(l?"text-gray-300":"text-gray-700"),children:"Featured Product"})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",id:"published",checked:i.is_published||!1,onChange:e=>d(o(n({},i),{is_published:e.target.checked})),className:"w-4 h-4 text-emerald-600 bg-gray-100 border-gray-300 rounded focus:ring-emerald-500"}),v.jsx("label",{htmlFor:"published",className:"ml-2 text-sm font-medium "+(l?"text-gray-300":"text-gray-700"),children:"Published"})]})]}),v.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6",children:[v.jsx(j.button,{type:"button",onClick:r,className:"px-6 py-3 rounded-lg font-medium transition-colors "+(l?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-700 hover:bg-gray-300"),whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"}),v.jsx(j.button,{type:"submit",className:"px-6 py-3 bg-emerald-500 text-white rounded-lg font-medium hover:bg-emerald-600 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:t?"Update Product":"Create Product"})]})]})},$e=({categories:e,onSave:t,onCancel:a,isDarkMode:s})=>(ne.useState({title:"",category:"Tool",status:"draft",description:"",tags:"",imageUrl:"",link:"",type:"product",featured:!1,brand:"",material:"",size:"",color:"",price:0,rating:5,isWaterproof:!1,isDurable:!1}),v.jsxs("div",{className:"space-y-6",children:[v.jsx("div",{className:"flex items-center justify-between",children:v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx(j.button,{onClick:a,className:`p-2 rounded-lg ${s?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:v.jsx(L,{className:"w-5 h-5"})}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold "+(s?"text-white":"text-gray-800"),children:"Create New Product"}),v.jsx("p",{className:"text-sm "+(s?"text-gray-400":"text-gray-600"),children:"Add a new product to your catalog"})]})]})}),v.jsx(g,{className:"p-6 "+(s?"bg-gray-800":"bg-white"),children:v.jsx(Fe,{type:"products",item:null,categories:["Tool","Pot","Accessory","Suggestion","Book"],onSave:t,onCancel:a,isDarkMode:s})})]})),Be=({product:e,categories:t,onSave:a,onCancel:s,isDarkMode:r})=>v.jsxs("div",{className:"space-y-6",children:[v.jsx("div",{className:"flex items-center justify-between",children:v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx(j.button,{onClick:s,className:`p-2 rounded-lg ${r?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:v.jsx(L,{className:"w-5 h-5"})}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold "+(r?"text-white":"text-gray-800"),children:"Edit Product"}),v.jsx("p",{className:"text-sm "+(r?"text-gray-400":"text-gray-600"),children:"Update product information"})]})]})}),v.jsx(g,{className:"p-6 "+(r?"bg-gray-800":"bg-white"),children:v.jsx(Fe,{type:"products",item:e,categories:["Tool","Pot","Accessory","Suggestion","Book"],onSave:a,onCancel:s,isDarkMode:r})})]}),Re=({activeTab:e,isDarkMode:t,products:a,searchTerm:s,setSearchTerm:r,selectedCategory:l,setSelectedCategory:i,sortBy:o,setSortBy:d,onEdit:c,onDelete:g,onView:x,onCreate:m,categories:h})=>{const[u,p]=ne.useState(null);return v.jsxs("div",{className:"space-y-6",children:["product-list"===e&&v.jsx(Le,{products:a,searchTerm:s,setSearchTerm:r,selectedCategory:l,setSelectedCategory:i,sortBy:o,setSortBy:d,onEdit:e=>{p(e)},onDelete:g,onView:x,categories:h,isDarkMode:t}),"product-create"===e&&v.jsx($e,{categories:h,onSave:e=>{m(e)},onCancel:()=>{},isDarkMode:t}),"product-edit"===e&&u&&v.jsx(Be,{product:u,categories:h,onSave:e=>{u&&c(n(n({},u),e)),p(null)},onCancel:()=>{p(null)},isDarkMode:t})]})},Ee=e=>{var t,a,s,r;return{id:e.id.toString(),title:e.title,author:(null==(t=e.author)?void 0:t.name)||"Admin",category:"Technique",status:e.status||"published",views:e.views||0,likes:e.likes||0,createdAt:(null==(a=e.createdAt)?void 0:a.split("T")[0])||(new Date).toISOString().split("T")[0],updatedAt:(null==(s=e.updatedAt)?void 0:s.split("T")[0])||(new Date).toISOString().split("T")[0],featured:e.featured||!1,description:e.excerpt||e.description||(null==(r=e.body)?void 0:r.substring(0,150))+"...",content:e.body||e.content||"",tags:e.tags||[],imageUrl:e.featured_image||e.cover||"/image.png"}},He=e=>{var t,a;return{id:e.id.toString(),title:e.title,instructor:e.instructor||"Admin",category:"Video",status:e.status||"published",views:e.views||0,likes:e.likes||0,rating:e.rating||0,createdAt:(null==(t=e.createdAt)?void 0:t.split("T")[0])||(new Date).toISOString().split("T")[0],updatedAt:(null==(a=e.updatedAt)?void 0:a.split("T")[0])||(new Date).toISOString().split("T")[0],description:e.description||e.excerpt||"",content:e.content||e.transcript||"",videoUrl:e.video_url||e.videoUrl||"",embedUrl:e.embed_url||e.embedUrl||"",imageUrl:e.featured_image||"/image.png",featured_image:e.featured_image||""}},Ie=e=>{var t,a;return{id:e.id.toString(),title:e.title,author:e.author||"Unknown Author",category:"Book",status:"published",rating:e.rating||4.5,createdAt:(null==(t=e.createdAt)?void 0:t.split("T")[0])||(new Date).toISOString().split("T")[0],updatedAt:(null==(a=e.updatedAt)?void 0:a.split("T")[0])||(new Date).toISOString().split("T")[0],description:e.description,imageUrl:e.image||"/image.png"}},Ve=e=>{var t,a;return{id:e.id.toString(),title:e.name,category:"Tool",status:e.status||"published",link:e.link,brand:e.brand,material:e.material,size:e.size,color:e.color,isWaterproof:e.is_waterproof||!1,isDurable:e.is_durable||!1,views:e.views||0,likes:e.likes||0,createdAt:(null==(t=e.createdAt)?void 0:t.split("T")[0])||(new Date).toISOString().split("T")[0],updatedAt:(null==(a=e.updatedAt)?void 0:a.split("T")[0])||(new Date).toISOString().split("T")[0],description:e.description,content:e.content,cover:e.cover,imageUrl:e.images_json?JSON.parse(e.images_json)[0]:"/image.png"}},ze=e=>{var t,a;return{id:e.id.toString(),title:e.name,category:"Pot",status:e.status||"published",link:e.link,brand:e.brand,material:e.material,size:e.size,color:e.color,isWaterproof:e.is_waterproof||!1,isDurable:e.is_durable||!1,views:e.views||0,likes:e.likes||0,createdAt:(null==(t=e.createdAt)?void 0:t.split("T")[0])||(new Date).toISOString().split("T")[0],updatedAt:(null==(a=e.updatedAt)?void 0:a.split("T")[0])||(new Date).toISOString().split("T")[0],description:e.description,content:e.content,cover:e.cover,imageUrl:e.image||"/image.png"}},Oe=e=>{var t,a;return{id:e.id.toString(),title:e.name,category:"Accessory",status:e.status||"published",link:e.link,brand:e.brand,material:e.material,size:e.size,color:e.color,isWaterproof:e.is_waterproof||!1,isDurable:e.is_durable||!1,views:e.views||0,likes:e.likes||0,rating:e.rating||4.5,createdAt:(null==(t=e.createdAt)?void 0:t.split("T")[0])||(new Date).toISOString().split("T")[0],updatedAt:(null==(a=e.updatedAt)?void 0:a.split("T")[0])||(new Date).toISOString().split("T")[0],description:e.description,content:e.content,cover:e.cover,imageUrl:e.image||"/image.png"}},qe=e=>{var t,a;return{id:e.id.toString(),title:e.title,category:"Suggestion",status:"published",rating:e.rating||4.5,views:e.views||0,likes:e.likes||0,createdAt:(null==(t=e.createdAt)?void 0:t.split("T")[0])||(new Date).toISOString().split("T")[0],updatedAt:(null==(a=e.updatedAt)?void 0:a.split("T")[0])||(new Date).toISOString().split("T")[0],description:e.description,imageUrl:e.image||"/image.png",featured:e.is_featured||!1,difficulty:e.difficulty_level||"beginner",tags:e.tags||[]}},Ge=()=>{var e;const{user:t,logout:a,isAuthenticated:s}=x(),{isDarkMode:r}=c(),[l,i]=ne.useState("overview"),[h,u]=ne.useState(""),[p,y]=ne.useState("all"),[b,f]=ne.useState("latest"),[w,N]=ne.useState(!1),[C,A]=ne.useState({id:(null==t?void 0:t.id)||"",name:(null==t?void 0:t.name)||"",email:(null==t?void 0:t.email)||"",password:"",phone:"",state:"",address:"",city:"",zip_code:"",company:"",role:(null==t?void 0:t.role)||"admin",status:"active",is_banned:!1,is_email_verified:!0,avatar:null,avatarPreview:null}),[S,T]=ne.useState([]),[M,U]=ne.useState(""),[D,P]=ne.useState("all"),[_,L]=ne.useState("all"),[F,$]=ne.useState("name-asc"),[B,R]=ne.useState([]),[E,H]=ne.useState([]),[I,V]=ne.useState([]),[z,O]=ne.useState(null),[q,G]=ne.useState(""),[W,Y]=ne.useState([]),[J,K]=ne.useState(""),[Q,Z]=ne.useState("all"),[X,ee]=ne.useState("latest"),[te,ae]=ne.useState([]),[se,re]=ne.useState(!0),[oe,ke]=ne.useState(null),[Ce,Te]=ne.useState(!1),[Me,De]=ne.useState(!1),[Pe,Le]=ne.useState({totalUsers:0,totalViews:0,totalArticles:0,totalVideos:0,totalBooks:0,totalSuggestions:0,totalAboutUs:0,totalContactMessages:0,monthlyGrowth:0,weeklyGrowth:0,avgRating:0}),[Fe,$e]=ne.useState([]),[Be,Ge]=ne.useState([]),[We,Ye]=ne.useState({articles:[],techniques:[],books:[],suggestions:[],videos:[],tools:[],pots:[],accessories:[],"about-us":[]});ne.useEffect(()=>{const e=e=>{e.target.closest(".avatar-dropdown")||De(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[Me]);const Je=e=>{if(!e)return"Unknown time";const t=new Date,a=new Date(e),s=Math.floor((t.getTime()-a.getTime())/6e4);if(1>s)return"Just now";if(60>s)return s+" minutes ago";const r=Math.floor(s/60);if(24>r)return r+" hours ago";const l=Math.floor(r/24);return 7>l?l+" days ago":Math.floor(l/7)+" weeks ago"},Ke=e=>e.includes("minutes ago")?parseInt(e.replace(" minutes ago","")):e.includes("hours ago")?60*parseInt(e.replace(" hours ago","")):e.includes("days ago")?1440*parseInt(e.replace(" days ago","")):e.includes("weeks ago")?10080*parseInt(e.replace(" weeks ago","")):999999,Qe=()=>d(void 0,null,function*(){re(!0),ke(null);try{const e=localStorage.getItem("auth_token"),t="true"===localStorage.getItem("user_logged_out");if(!e||t)return void re(!1);const a=e=>d(void 0,null,function*(){try{const t=yield e();return t&&t.success&&Array.isArray(t.data)?t.data:Array.isArray(t)?t:t&&t.data&&Array.isArray(t.data)?t.data:[]}catch(t){return[]}}),[s,r,l,i,n]=yield Promise.all([a(()=>ce.getAll()),a(()=>ge.getAll()),a(()=>xe.getAll()),a(()=>me.getAll()),a(()=>de.getAll())]),o=l.filter(e=>"book"===e.category),c=l.filter(e=>"tool"===e.category),g=l.filter(e=>"pot"===e.category),x=l.filter(e=>"accessory"===e.category),m=l.filter(e=>"suggestion"===e.category);H(Array.isArray(s)?s.map(Ee):[]),V(Array.isArray(r)?r.map(He):[]),Y([...Array.isArray(c)?c.map(Ve):[],...Array.isArray(g)?g.map(ze):[],...Array.isArray(x)?x.map(Oe):[],...Array.isArray(m)?m.map(qe):[],...Array.isArray(o)?o.map(Ie):[]]),ae(i),T(n&&"object"==typeof n&&"data"in n?n.data:n);const h=Array.isArray(s)?s.length:0,u=Array.isArray(r)?r.length:0,p=Array.isArray(o)?o.length:0,y=Array.isArray(c)?c.length:0,b=Array.isArray(g)?g.length:0,v=Array.isArray(x)?x.length:0,j=Array.isArray(m)?m.length:0,f=0,w=Array.isArray(i)?i.length:0,N=Array.isArray(n)?n.length:0,k=[...Array.isArray(s)?s:[],...Array.isArray(r)?r:[],...Array.isArray(o)?o:[],...Array.isArray(c)?c:[],...Array.isArray(g)?g:[],...Array.isArray(x)?x:[],...Array.isArray(m)?m:[]].reduce((e,t)=>e+(t.views||0),0),C=[...Array.isArray(o)?o:[],...Array.isArray(m)?m:[],...Array.isArray(x)?x:[],...Array.isArray(c)?c:[]].filter(e=>e.rating&&e.rating>0),A=C.length>0?C.reduce((e,t)=>e+(t.rating||0),0)/C.length:0,S=h+u+p+j+y+b+v;Le({totalUsers:N,totalViews:k,totalArticles:h,totalVideos:u,totalBooks:p,totalSuggestions:j,totalAboutUs:f,totalContactMessages:w,monthlyGrowth:S>0?12.5:0,weeklyGrowth:S>0?8.3:0,avgRating:A,totalTools:y,totalPots:b,totalAccessories:v});const M=[];Array.isArray(s)&&s.length>0&&s.sort((e,t)=>new Date(t.created_at||t.updated_at||0).getTime()-new Date(e.created_at||e.updated_at||0).getTime()).slice(0,2).forEach(e=>{M.push({id:"article-"+e.id,action:"New article published: "+e.title,user:"Admin",time:Je(e.created_at||e.updated_at),type:"content"})}),Array.isArray(r)&&r.length>0&&r.sort((e,t)=>new Date(t.created_at||t.updated_at||0).getTime()-new Date(e.created_at||e.updated_at||0).getTime()).slice(0,1).forEach(e=>{M.push({id:"video-"+e.id,action:"Video uploaded: "+e.title,user:"Admin",time:Je(e.created_at||e.updated_at),type:"media"})}),Array.isArray(l)&&l.length>0&&l.sort((e,t)=>new Date(t.created_at||t.updated_at||0).getTime()-new Date(e.created_at||e.updated_at||0).getTime()).slice(0,2).forEach(e=>{M.push({id:"product-"+e.id,action:`New ${e.category} added: ${e.name}`,user:"Admin",time:Je(e.created_at||e.updated_at),type:"content"})});const U=M.sort((e,t)=>Ke(e.time)-Ke(t.time)).slice(0,5);$e(U);const D=[...Array.isArray(s)?s.map(Ee):[],...Array.isArray(r)?r.map(He):[],...Array.isArray(o)?o.map(Ie):[],...Array.isArray(c)?c.map(Ve):[],...Array.isArray(g)?g.map(ze):[],...Array.isArray(x)?x.map(Oe):[],...Array.isArray(m)?m.map(qe):[]],P=D.filter(e=>(e.views||0)>0).sort((e,t)=>(t.views||0)-(e.views||0)).slice(0,5).map(e=>{var t;return{id:e.id,title:e.title,views:e.views||0,likes:e.likes||0,type:(null==(t=e.category)?void 0:t.toLowerCase())||"unknown"}});if(0===P.length){const e=D.sort((e,t)=>{const a=new Date(e.createdAt||e.updatedAt||0).getTime();return new Date(t.createdAt||t.updatedAt||0).getTime()-a}).slice(0,5).map(e=>{var t;return{id:e.id,title:e.title,views:e.views||0,likes:e.likes||0,type:(null==(t=e.category)?void 0:t.toLowerCase())||"unknown"}});Ge(e)}else Ge(P)}catch(e){}finally{re(!1)}});ne.useEffect(()=>{"true"!==localStorage.getItem("user_logged_out")&&localStorage.getItem("auth_token")&&m(()=>d(void 0,null,function*(){const{apiClient:e}=yield import("./api-INIV1ZPj.js");return{apiClient:e}}),[]).then(({apiClient:e})=>{e.forceRefreshToken()})},[]),ne.useEffect(()=>{if(t&&s){const e=localStorage.getItem("auth_token"),t="true"===localStorage.getItem("user_logged_out");if(!e||t)return;setTimeout(()=>{Qe(),d(void 0,null,function*(){try{Ye({articles:[],techniques:[],books:[],suggestions:[],videos:[],tools:[],pots:[],accessories:[],"about-us":[]})}catch(e){}}),ot()},100)}},[t,s]);const Ze=S.filter(e=>{var t,a;const s=((null==(t=e.name)?void 0:t.toLowerCase())||"").includes(M.toLowerCase())||((null==(a=e.email)?void 0:a.toLowerCase())||"").includes(M.toLowerCase()),r="all"===D||e.status===D,l="all"===_||e.role===_;return s&&r&&l}),Xe=e=>e.toLowerCase().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),et=e=>d(void 0,null,function*(){try{if(!e.slug&&e.title&&(e.slug=Xe(e.title)),z)switch(q){case"articles":yield ce.update(z.id,e);break;case"videos":yield ge.update(z.id,e);break;case"books":yield be.update(z.id,e);break;case"tools":yield ye.update(z.id,e);break;case"pots":yield pe.update(z.id,e);break;case"accessories":yield ue.update(z.id,e);break;case"suggestions":yield he.update(z.id,e);break;default:return}else switch(q){case"articles":yield ce.create(e);break;case"videos":yield ge.create(e);break;case"books":yield be.create(e);break;case"tools":yield ye.create(e);break;case"pots":yield pe.create(e);break;case"accessories":yield ue.create(e);break;case"suggestions":yield he.create(e);break;default:return}O(null),yield Qe(),i("content-list"),alert(z?"Content updated successfully!":"Content created successfully!")}catch(t){alert("Failed to save content. Please try again.")}}),tt=(e,t)=>{A(a=>o(n({},a),{[e]:t}))},at=()=>d(void 0,null,function*(){try{const e=new FormData;Object.entries(C).forEach(([t,a])=>{null!=a&&("avatar"===t&&a instanceof File?e.append("avatar",a):"avatarPreview"!==t&&e.append(t,a+""))}),yield de.updateProfile(e),alert("User profile updated successfully!"),yield Qe()}catch(e){e instanceof Error?alert("Failed to save user profile: "+e.message):alert("Failed to save user profile. Please check the console for details.")}}),st=e=>{var t;const a=null==(t=e.target.files)?void 0:t[0];if(a&&(e=>["image/jpeg","image/jpg","image/png","image/gif"].includes(e.type)?3145728>=e.size||(alert("File size must be less than 3MB"),!1):(alert("Please select a valid image file (JPEG, JPG, PNG, GIF)"),!1))(a)){const e=new FileReader;e.onload=e=>{A(t=>{var s;return o(n({},t),{avatar:a,avatarPreview:null==(s=e.target)?void 0:s.result})})},e.readAsDataURL(a)}},rt=()=>{A(e=>o(n({},e),{avatar:null,avatarPreview:null}))},lt=e=>{if(!e)return void i("user-list");const t=e;A({id:t.id,name:t.name,email:t.email,password:"",phone:"",state:"",address:"",city:"",zip_code:"",company:"",role:t.role||"user",status:t.status||"active",is_banned:"banned"===t.status,is_email_verified:!0,avatar:null,avatarPreview:null}),i("user-profile")},it=e=>d(void 0,null,function*(){try{const t=new FormData;Object.entries(e).forEach(([e,a])=>{null!=a&&("avatar"===e&&a instanceof File?t.append("avatar",a):"avatarPreview"!==e&&"confirmPassword"!==e&&t.append(e,a+""))}),yield de.create(t),alert("User created successfully!"),yield Qe(),i("user-list")}catch(t){alert("Failed to create user. Please try again.")}}),nt=e=>d(void 0,null,function*(){if(confirm("Are you sure you want to delete this user?"))try{yield de.delete(e),alert("User deleted successfully!"),yield Qe()}catch(t){alert("Failed to delete user. Please try again.")}}),ot=()=>d(void 0,null,function*(){try{const e=localStorage.getItem("auth_token"),t="true"===localStorage.getItem("user_logged_out");if(!e||t)return;const a=yield de.getAll();T(a&&"object"==typeof a&&"data"in a?a.data:Array.isArray(a)?a:[])}catch(e){T([])}});return t?"admin"!==t.role&&"moderator"!==t.role?v.jsx("div",{className:"min-h-screen flex items-center justify-center "+(r?"bg-gray-900":"bg-emerald-50"),children:v.jsx(g,{className:"text-center p-8 max-w-md",children:v.jsxs(j.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:[v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-emerald-200 border-t-emerald-600 mx-auto mb-6"}),v.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:v.jsx(le,{className:"h-8 w-8 text-emerald-600"})})]}),v.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Checking Permissions..."}),v.jsx("p",{className:"text-gray-600",children:"Verifying your access rights to the admin dashboard."})]})})}):se?v.jsx("div",{className:"min-h-screen flex items-center justify-center "+(r?"bg-gray-900":"bg-emerald-50"),children:v.jsx(g,{className:"text-center p-8 max-w-md",children:v.jsxs(j.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:[v.jsx("div",{className:"bg-red-100 p-4 rounded-full w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:v.jsx(ie,{className:"h-10 w-10 text-red-500"})}),v.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Loading Dashboard"}),v.jsx("p",{className:"text-gray-600",children:"Please wait while we load your dashboard data..."})]})})}):v.jsxs("div",{className:"min-h-screen "+(r?"bg-gray-900":"bg-gray-50"),children:[v.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[v.jsx(j.div,{className:"absolute top-1/4 left-1/4 w-96 h-96 rounded-full blur-3xl "+(r?"bg-gradient-to-br from-emerald-600/8 via-green-500/10 to-teal-600/6":"bg-gradient-to-br from-emerald-300/10 via-green-200/15 to-teal-300/10"),animate:{x:[-100,100,-100],y:[50,-50,50],scale:[1.2,.8,1.2],rotate:[0,360,-360]},transition:{duration:30,repeat:1/0,ease:"easeInOut"}}),v.jsx(j.div,{className:"absolute top-2/3 right-1/4 w-64 h-64 rounded-full blur-3xl "+(r?"bg-gradient-to-bl from-emerald-600/8 via-green-500/10 to-teal-600/6":"bg-gradient-to-bl from-emerald-300/10 via-green-200/15 to-teal-300/10"),animate:{x:[100,-100,100],y:[50,-50,50],scale:[1.2,.8,1.2],rotate:[0,-360,-720]},transition:{duration:28,repeat:1/0,ease:"easeInOut"}}),[...[,,,,,,]].map((e,t)=>v.jsx("div",{className:"absolute w-2 h-2 rounded-full "+(r?"bg-emerald-400/20":"bg-emerald-300/30"),style:{left:20+15*t+"%",top:30+10*t+"%"}},t))]}),v.jsxs("div",{className:"relative z-20 flex min-h-screen",children:[v.jsx(ve,{activeTab:l,onTabChange:i,stats:Pe,isCollapsed:Ce,onToggle:()=>Te(!Ce),userRole:(null==t?void 0:t.role)||"admin"}),v.jsxs("div",{className:"flex-1 p-6",children:[v.jsx("div",{className:`lg:hidden ${r?"bg-gray-900 border-b border-gray-700":"bg-white border-b border-gray-200"} shadow-sm`,children:v.jsxs("div",{className:"flex items-center justify-between p-4",children:[v.jsx("h1",{className:"text-xl font-bold "+(r?"text-white":"text-gray-800"),children:"Admin Panel"}),v.jsx("div",{className:"flex items-center space-x-2",children:v.jsxs("select",{value:l,onChange:e=>i(e.target.value),className:"px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(r?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:[v.jsx("option",{value:"overview",children:"Overview"}),v.jsx("option",{value:"articles",children:"Articles"}),v.jsx("option",{value:"techniques",children:"Techniques"}),v.jsx("option",{value:"books",children:"Books"}),v.jsx("option",{value:"videos",children:"Videos"}),v.jsx("option",{value:"suggestions",children:"Suggestions"}),v.jsx("option",{value:"tools",children:"Tools"}),v.jsx("option",{value:"pots",children:"Pots"}),v.jsx("option",{value:"accessories",children:"Accessories"}),v.jsx("option",{value:"users",children:"Users"}),v.jsx("option",{value:"messages",children:"Messages"})]})})]})}),v.jsxs("div",{className:"p-6 space-y-8",children:[oe&&v.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:v.jsxs("div",{className:"flex",children:[v.jsx("div",{className:"flex-shrink-0",children:v.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),v.jsxs("div",{className:"ml-3",children:[v.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading data"}),v.jsx("div",{className:"mt-2 text-sm text-red-700",children:v.jsx("p",{children:"Some data could not be loaded from the server. The dashboard will show available data."})})]})]})}),se&&v.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:v.jsxs("div",{className:"flex",children:[v.jsx("div",{className:"flex-shrink-0",children:v.jsxs("svg",{className:"animate-spin h-5 w-5 text-blue-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),v.jsxs("div",{className:"ml-3",children:[v.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Loading dashboard data..."}),v.jsx("div",{className:"mt-2 text-sm text-blue-700",children:v.jsx("p",{children:"Please wait while we fetch the latest data."})})]})]})}),v.jsx(j.div,{className:"mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold "+(r?"text-white":"text-gray-800"),children:"overview"===l?"Dashboard Overview":"content-list"===l?"All Content List":"content-details"===l?"Content Details":"content-create"===l?"Create Content":"content-edit"===l?"Edit Content":"product-list"===l?"All Products List":"product-details"===l?"Product Details":"product-create"===l?"Create Product":"product-edit"===l?"Edit Product":"articles"===l?"Articles Management":"techniques"===l?"Techniques Management":"books"===l?"Books Management":"videos"===l?"Videos Management":"suggestions"===l?"Suggestions Management":"tools"===l?"Tools Management":"pots"===l?"Pots Management":"accessories"===l?"Accessories Management":"users"===l?"Users Management":"user-profile"===l?"User Profile":"user-list"===l?"All Users List":"user-create"===l?"Create User":"messages"===l?"Messages Management":"Admin Panel"}),v.jsxs("p",{className:"mt-2 "+(r?"text-gray-400":"text-gray-600"),children:["Welcome back, ",v.jsx("span",{className:"font-semibold text-emerald-500",children:t.name}),"!"]})]}),v.jsxs("div",{className:`flex items-center space-x-4 ${r?"bg-gray-800":"bg-white"} rounded-xl p-4 shadow-lg mt-4`,children:[v.jsxs("div",{className:"flex-1 relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),v.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(r?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500")})]}),v.jsxs("div",{className:"relative avatar-dropdown",children:[v.jsx("button",{onClick:()=>De(!Me),className:"flex items-center space-x-2 p-1 rounded-full hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-emerald-500",children:v.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white font-semibold text-sm",children:(null==(e=null==t?void 0:t.name)?void 0:e.charAt(0).toUpperCase())||"A"})}),Me&&v.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:v.jsxs("div",{className:"py-2",children:[v.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:v.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["ðŸ‘‹ Hey, ",(null==t?void 0:t.name)||"Admin"]})}),v.jsx("button",{onClick:()=>{i("user-profile"),De(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Profile Settings"}),v.jsx("button",{onClick:()=>d(void 0,null,function*(){De(!1),yield a(),window.location.href="/"}),className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"Log Out"})]})})]})]})]})}),"overview"===l&&v.jsx(fe,{stats:Pe,isDarkMode:r}),"overview"===l&&v.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:v.jsx(je,{stats:Pe,onNavigate:(e,t)=>{"content"===e&&("create-article"===t?(i("content-create"),G("article")):"create-video"===t?(i("content-create"),G("video")):"create-product"===t&&i("product-create"))}})}),"overview"===l&&v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[v.jsx(we,{recentActivity:Fe,isDarkMode:r}),v.jsx(Ne,{topContent:Be,isDarkMode:r})]}),"users"===l&&v.jsx(Ae,{activeTab:l,user:t,userProfile:C,users:S,userSearchTerm:M,userStatusFilter:D,userRoleFilter:_,userSortBy:F,selectedUsers:B,filteredUsers:Ze,isDarkMode:r,onUserProfileChange:tt,onSaveUserProfile:at,onAvatarUpload:st,onRemoveAvatar:rt,onLoadUsers:ot,onUserStatusFilterChange:P,onUserRoleFilterChange:L,onUserSortByChange:$,onUserSearchTermChange:U,onSelectedUsersChange:R,onEditUser:lt,onDeleteUser:nt,onCreateUser:it}),"user-profile"===l&&"admin"===(null==t?void 0:t.role)&&v.jsx(Ae,{activeTab:l,user:t,userProfile:C,users:S,userSearchTerm:M,userStatusFilter:D,userRoleFilter:_,userSortBy:F,selectedUsers:B,filteredUsers:Ze,isDarkMode:r,onUserProfileChange:tt,onSaveUserProfile:at,onAvatarUpload:st,onRemoveAvatar:rt,onLoadUsers:ot,onUserStatusFilterChange:P,onUserRoleFilterChange:L,onUserSortByChange:$,onUserSearchTermChange:U,onSelectedUsersChange:R,onEditUser:lt,onDeleteUser:nt,onCreateUser:it}),"user-list"===l&&"admin"===(null==t?void 0:t.role)&&v.jsx(Ae,{activeTab:l,user:t,userProfile:C,users:S,userSearchTerm:M,userStatusFilter:D,userRoleFilter:_,userSortBy:F,selectedUsers:B,filteredUsers:Ze,isDarkMode:r,onUserProfileChange:tt,onSaveUserProfile:at,onAvatarUpload:st,onRemoveAvatar:rt,onLoadUsers:ot,onUserStatusFilterChange:P,onUserRoleFilterChange:L,onUserSortByChange:$,onUserSearchTermChange:U,onSelectedUsersChange:R,onEditUser:lt,onDeleteUser:nt,onCreateUser:it}),"user-create"===l&&"admin"===(null==t?void 0:t.role)&&v.jsx(Ae,{activeTab:l,user:t,userProfile:C,users:S,userSearchTerm:M,userStatusFilter:D,userRoleFilter:_,userSortBy:F,selectedUsers:B,filteredUsers:Ze,isDarkMode:r,onUserProfileChange:tt,onSaveUserProfile:at,onAvatarUpload:st,onRemoveAvatar:rt,onLoadUsers:ot,onUserStatusFilterChange:P,onUserRoleFilterChange:L,onUserSortByChange:$,onUserSearchTermChange:U,onSelectedUsersChange:R,onEditUser:lt,onDeleteUser:nt,onCreateUser:it}),"messages"===l&&v.jsx(Se,{contactMessages:te,isDarkMode:r,onMessageStatusChange:(e,t)=>d(void 0,null,function*(){try{yield me.update(e,{status:t}),yield Qe()}catch(a){alert("Failed to update message status. Please try again.")}}),onDeleteMessage:e=>d(void 0,null,function*(){if(confirm("Are you sure you want to delete this message?"))try{yield me.delete(e),alert("Message deleted successfully!"),yield Qe()}catch(t){alert("Failed to delete message. Please try again.")}})}),["articles","videos","content-list","content-create","content-edit"].includes(l)&&v.jsx(_e,{activeTab:l,contentData:[...E,...I],categories:{Technique:[],Video:[]},searchTerm:h,selectedCategory:p,sortBy:b,isDarkMode:r,editingItem:z,onSearchTermChange:u,onSelectedCategoryChange:y,onSortByChange:f,onEdit:(e,t)=>((e,t)=>{e?(G(t),O(e),i("content-edit")):(O(null),i(t))})(e,t||l),onDelete:(e,t)=>d(void 0,null,function*(){if(confirm("Are you sure you want to delete this item?"))try{switch(t){case"articles":yield ce.delete(e);break;case"videos":yield ge.delete(e);break;case"books":yield be.delete(e);break;case"tools":yield ye.delete(e);break;case"pots":yield pe.delete(e);break;case"accessories":yield ue.delete(e);break;case"suggestions":yield he.delete(e);break;default:return}yield Qe()}catch(a){alert("Failed to delete item. Please try again.")}}),onView:e=>{var t,a,s,r;const l=e.slug||Xe(e.title),i=window.location.origin;"technique"===(null==(t=e.category)?void 0:t.toLowerCase())||"articles"===(null==(a=e.category)?void 0:a.toLowerCase())?window.open(`${i}/article/${l}`,"_blank"):"video"===(null==(s=e.category)?void 0:s.toLowerCase())||"videos"===(null==(r=e.category)?void 0:r.toLowerCase())?window.open(`${i}/video/${l}`,"_blank"):alert("View functionality not implemented for this content type")},onCreate:et}),["product-list","product-create","product-edit","tools","pots","accessories","books","suggestions"].includes(l)&&v.jsx(Re,{activeTab:l,isDarkMode:r,products:W,searchTerm:J,setSearchTerm:K,selectedCategory:Q,setSelectedCategory:Z,sortBy:X,setSortBy:ee,onEdit:e=>d(void 0,null,function*(){var t;try{let a;switch(null==(t=e.category)?void 0:t.toLowerCase()){case"tool":a=yield ye.update(e.id,e);break;case"pot":a=yield pe.update(e.id,e);break;case"accessory":a=yield ue.update(e.id,e);break;case"suggestion":a=yield he.update(e.id,e);break;case"book":a=yield be.update(e.id,e);break;default:return}yield Qe()}catch(a){alert("Failed to update product. Please try again.")}}),onDelete:(e,t)=>d(void 0,null,function*(){var a;if(confirm("Are you sure you want to delete this product?"))try{const s=W.find(t=>t.id===e);switch(t||(null==(a=null==s?void 0:s.category)?void 0:a.toLowerCase())){case"tool":yield ye.delete(e);break;case"pot":yield pe.delete(e);break;case"accessory":yield ue.delete(e);break;case"suggestion":yield he.delete(e);break;case"book":yield be.delete(e);break;default:return}yield Qe()}catch(s){alert("Failed to delete product. Please try again.")}}),onView:e=>{const t=`\nProduct Details:\nName: ${e.name||e.title}\nCategory: ${e.category}\nStatus: ${e.status}\nDescription: ${e.description}\nPrice: ${e.price?"$"+e.price:"Free"}\nRating: ${e.rating||"N/A"}\nViews: ${e.views||0}\nLikes: ${e.likes||0}\nCreated: ${e.createdAt}\nUpdated: ${e.updatedAt}\n    `;alert(t)},onCreate:e=>d(void 0,null,function*(){var t;try{let a;switch(null==(t=e.category)?void 0:t.toLowerCase()){case"tool":a=yield ye.create(e);break;case"pot":a=yield pe.create(e);break;case"accessory":a=yield ue.create(e);break;case"suggestion":a=yield he.create(e);break;case"book":a=yield be.create(e);break;default:return}yield Qe()}catch(a){alert("Failed to create product. Please try again.")}}),categories:["Tool","Pot","Accessory","Suggestion","Book"]}),v.jsx(k,{children:w&&v.jsx(j.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:v.jsx(j.div,{className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto rounded-xl p-6 "+(r?"bg-gray-800":"bg-white"),initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:v.jsx(Ue,{type:q,item:z,categories:We[q]||[],onSave:et,onCancel:()=>N(!1),isDarkMode:r})})})})]})]})]})]}):v.jsx("div",{className:"min-h-screen flex items-center justify-center "+(r?"bg-gray-900":"bg-emerald-50"),children:v.jsx(g,{className:"text-center p-8 max-w-md",children:v.jsxs(j.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:[v.jsx("div",{className:"bg-red-100 p-4 rounded-full w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:v.jsx(le,{className:"h-10 w-10 text-red-500"})}),v.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Access Denied"}),v.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be logged in to access the admin dashboard."}),v.jsx("a",{href:"/login",className:"bg-emerald-500 text-white px-6 py-3 rounded-lg hover:bg-emerald-600 transition-colors",children:"Go to Login"})]})})})};export{Ge as default};
