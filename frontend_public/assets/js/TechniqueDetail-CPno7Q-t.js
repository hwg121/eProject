import{j as e,m as t,C as s,U as i,a4 as l,o as a}from"./ui-CSNrQhPN.js";import{r as n}from"./react-vendor-Dr4n66tC.js";import{D as r}from"./DetailPage-CWsJEg6A.js";import{L as o}from"./index-Dh1Xh51Y.js";import{f as c}from"./slug-BijzlL0q.js";import{p as d}from"./api-CwrNSExO.js";import{c as m,a as x}from"./router-bS1xvxPY.js";const u=()=>{const{slug:u}=m(),h=x(),[p,g]=n.useState(null),[f,b]=n.useState(!0),[v,y]=n.useState(null);return n.useEffect(()=>{var e;u&&(e=function*(){var e,t;try{b(!0);try{const s=yield d.getArticles(),i=c(s,u,"slug","title");if(i){const s={id:(null==(e=i.id)?void 0:e.toString())||u,title:i.title||"Untitled Technique",description:i.description||i.excerpt||"No description available.",content:i.body||i.content||"\n                <h2>Technique Overview</h2>\n                <p>This technique provides step-by-step instructions for gardening success.</p>\n              ",author:(null==(t=i.author)?void 0:t.name)||i.author||"Unknown Author",publishedAt:i.published_at||i.created_at||(new Date).toISOString(),tags:i.tags||i.categories||["General"],imageUrl:i.image||i.imageUrl||"https://images.pexels.com/photos/1301856/pexels-photo-1301856.jpeg",views:i.views||0,likes:i.likes||0,difficulty:i.difficulty||"Intermediate",duration:i.duration||"30 minutes",materials:i.materials||["Basic gardening tools","Seeds or plants","Soil"],steps:i.steps||["Prepare the soil","Plant the seeds or seedlings","Water thoroughly","Monitor growth"],tips:i.tips||["Water in the morning for best results","Check soil moisture regularly","Provide adequate sunlight"],category:i.category||"General",rating:i.rating||4};return void g(s)}}catch(s){return void y("Failed to load technique from server")}y("Technique not found")}catch(i){y("Failed to load technique")}finally{b(!1)}},new Promise((t,s)=>{var i=t=>{try{a(e.next(t))}catch(i){s(i)}},l=t=>{try{a(e.throw(t))}catch(i){s(i)}},a=e=>e.done?t(e.value):Promise.resolve(e.value).then(i,l);a((e=e.apply(void 0,null)).next())}))},[u]),f?e.jsx(o,{}):v||!p?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-emerald-800 mb-4",children:"Technique not found"}),e.jsx("button",{onClick:()=>h("/techniques"),className:"px-6 py-3 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors",children:"Back to Techniques"})]})}):e.jsxs(r,{type:"technique",title:p.title,description:p.description,content:`\n        <h2>Technique Details</h2>\n        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">\n          <div>\n            <h3 class="text-xl font-semibold mb-4">Basic Information</h3>\n            <ul class="space-y-2">\n              <li><strong>Difficulty:</strong> ${p.difficulty}</li>\n              <li><strong>Duration:</strong> ${p.duration}</li>\n              <li><strong>Category:</strong> ${p.category}</li>\n              <li><strong>Rating:</strong> ${p.rating}/5 ‚≠ê</li>\n            </ul>\n          </div>\n          <div>\n            <h3 class="text-xl font-semibold mb-4">Materials Needed</h3>\n            <ul class="space-y-2">\n              ${p.materials.map(e=>`<li class="flex items-center"><span class="text-emerald-600 mr-2">‚úì</span>${e}</li>`).join("")}\n            </ul>\n          </div>\n        </div>\n        \n        <h3 class="text-xl font-semibold mb-4">Step-by-Step Instructions</h3>\n        <ol class="space-y-4 mb-6">\n          ${p.steps.map((e,t)=>`\n            <li class="flex items-start">\n              <span class="flex-shrink-0 w-8 h-8 bg-emerald-100 text-emerald-800 rounded-full flex items-center justify-center font-semibold mr-3">${t+1}</span>\n              <span>${e}</span>\n            </li>\n          `).join("")}\n        </ol>\n        \n        <h3 class="text-xl font-semibold mb-4">Pro Tips</h3>\n        <ul class="space-y-2 mb-6">\n          ${p.tips.map(e=>`<li class="flex items-center"><span class="text-yellow-500 mr-2">üí°</span>${e}</li>`).join("")}\n        </ul>\n      `,author:p.author,publishedAt:p.publishedAt,tags:p.tags,imageUrl:p.imageUrl,views:p.views||0,likes:p.likes||0,backUrl:"/techniques",rating:p.rating||0,contentId:parseInt(p.id),duration:p.duration,category:p.category,relatedContent:[{id:"2",title:"Advanced Pruning Techniques",type:"technique",slug:"advanced-pruning-techniques"},{id:"3",title:"Soil Preparation Methods",type:"technique",slug:"soil-preparation-methods"},{id:"4",title:"Watering Best Practices",type:"technique",slug:"watering-best-practices"}],children:[e.jsxs(t.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.5},className:"grid grid-cols-3 gap-4 mt-6",children:[e.jsxs("div",{className:"text-center p-4 bg-emerald-50 rounded-xl",children:[e.jsx(s,{className:"h-6 w-6 text-emerald-600 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-emerald-800",children:p.duration}),e.jsx("div",{className:"text-sm text-emerald-600",children:"Duration"})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-xl",children:[e.jsx(i,{className:"h-6 w-6 text-blue-600 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-blue-800",children:p.views.toLocaleString()}),e.jsx("div",{className:"text-sm text-blue-600",children:"Views"})]}),e.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-xl",children:[e.jsx(l,{className:"h-6 w-6 text-red-600 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-red-800",children:p.likes.toLocaleString()}),e.jsx("div",{className:"text-sm text-red-600",children:"Likes"})]})]}),e.jsxs(t.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.6},className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-yellow-50 p-6 rounded-2xl",children:[e.jsx("h3",{className:"text-xl font-bold text-orange-800 mb-4",children:"Difficulty Level"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-3xl font-bold text-orange-800 mr-3",children:p.difficulty}),e.jsx("div",{className:"flex",children:[...[,,,,,]].map((t,s)=>e.jsx(a,{className:"h-5 w-5 "+(s<Math.floor(p.rating)?"text-yellow-400 fill-current":"text-gray-300")},s))})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 p-6 rounded-2xl",children:[e.jsx("h3",{className:"text-xl font-bold text-purple-800 mb-4",children:"Technique Rating"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"text-3xl font-bold text-purple-800 mr-3",children:[p.rating,"/5"]}),e.jsx("div",{className:"flex",children:[...[,,,,,]].map((t,s)=>e.jsx(a,{className:"h-5 w-5 "+(s<Math.floor(p.rating)?"text-yellow-400 fill-current":"text-gray-300")},s))})]})]})]})]})};export{u as default};
