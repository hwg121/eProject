import{j as e,r as s,o as t,s as r,t as a}from"./ui-Bln5Vyqg.js";import{r as l}from"./react-vendor-fyEEdwzy.js";import{C as i}from"./index-BX3DrXSm.js";import{P as n}from"./PageHeader-BeoDg-51.js";import{C as o}from"./Carousel-PqFANYXj.js";import{publicService as c}from"./api-5sIxgNLe.js";import{g as d}from"./slug-BijzlL0q.js";import{L as m}from"./router-Bbvpjt6s.js";import"./utils-DJ3F8jC_.js";const x=()=>{const[x,h]=l.useState([]),[g,u]=l.useState(!0),[p,j]=l.useState(null),[b,v]=l.useState(1);l.useEffect(()=>{var e;e=function*(){try{u(!0);const e=yield c.getArticles();e&&e.length>0?h(e):j("No articles available")}catch(e){j("Failed to load articles")}finally{u(!1)}},new Promise((s,t)=>{var r=s=>{try{l(e.next(s))}catch(r){t(r)}},a=s=>{try{l(e.throw(s))}catch(r){t(r)}},l=e=>e.done?s(e.value):Promise.resolve(e.value).then(r,a);l((e=e.apply(undefined,null)).next())})},[]);const f=Math.ceil(x.length/9),N=9*(b-1),y=N+9,w=x.slice(N,y),k=x.slice(0,3).map(e=>{var s;return{id:e.id.toString(),title:e.title,description:e.excerpt||(null==(s=e.body)?void 0:s.substring(0,150))+"...",image:e.featured_image||e.cover||"/image.png",badge:"Featured",link:"/article/"+(e.slug||d(e.title))}});return e.jsxs("div",{className:"space-y-8",children:[e.jsx(n,{title:"Gardening Techniques & Tips",subtitle:"Master the art of gardening with our comprehensive guides and expert advice",icon:e.jsx(s,{className:"h-10 w-10"})}),!g&&!p&&x.length>0&&e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-emerald-800 mb-4",children:"Featured Techniques"}),e.jsx("p",{className:"text-emerald-600 text-lg",children:"Discover our most popular gardening techniques and tips"})]}),e.jsx(o,{items:k,autoPlay:!0,interval:6e3,showDots:!0,showArrows:!0,className:"shadow-xl"})]}),g?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto mb-4"}),e.jsx("p",{className:"text-emerald-600",children:"Loading articles..."})]}):p?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-600 mb-4",children:p}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-emerald-600 text-white px-6 py-2 rounded-lg hover:bg-emerald-700 transition-colors",children:"Try Again"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:w.map(s=>{var l,n;return e.jsx(m,{to:"/article/"+(s.slug||d(s.title)),className:"block h-full",children:e.jsxs(i,{className:"h-full group cursor-pointer hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-lg mb-4",children:[e.jsx("img",{src:s.featured_image||s.cover||"/image.png",alt:s.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300 flex items-center justify-center",children:e.jsx(t,{className:"h-8 w-8 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300"})})]}),e.jsx("h3",{className:"text-xl font-semibold text-emerald-800 mb-3 group-hover:text-emerald-600 transition-colors",children:s.title}),e.jsx("p",{className:"text-emerald-600 mb-4 leading-relaxed",children:s.excerpt||(null==(l=s.body)?void 0:l.substring(0,150))+"..."}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-emerald-500 mt-auto pt-4 border-t border-emerald-100",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(r,{className:"h-4 w-4"}),e.jsxs("span",{children:["Author: ",(null==(n=s.author)?void 0:n.name)||"Admin"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(a,{className:"h-4 w-4"}),e.jsx("span",{children:new Date(s.published_at||s.created_at).toLocaleDateString()})]})]})]})},s.id)})}),f>1&&e.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-8",children:[e.jsx("button",{onClick:()=>v(e=>Math.max(e-1,1)),disabled:1===b,className:"px-4 py-2 rounded-lg bg-emerald-600 text-white disabled:bg-gray-300 disabled:cursor-not-allowed hover:bg-emerald-700 transition-colors",children:"Previous"}),e.jsx("div",{className:"flex space-x-2",children:Array.from({length:f},(e,s)=>s+1).map(s=>e.jsx("button",{onClick:()=>v(s),className:"px-4 py-2 rounded-lg transition-colors "+(b===s?"bg-emerald-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:s},s))}),e.jsx("button",{onClick:()=>v(e=>Math.min(e+1,f)),disabled:b===f,className:"px-4 py-2 rounded-lg bg-emerald-600 text-white disabled:bg-gray-300 disabled:cursor-not-allowed hover:bg-emerald-700 transition-colors",children:"Next"})]})]}),e.jsxs(i,{className:"bg-gradient-to-r from-emerald-500 to-green-500 text-white",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Quick Gardening Tips"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"ðŸŒ± For Beginners"}),e.jsxs("ul",{className:"space-y-1 text-emerald-100",children:[e.jsx("li",{children:"â€¢ Start with easy-to-grow plants like herbs"}),e.jsx("li",{children:"â€¢ Water in early morning or late evening"}),e.jsx("li",{children:"â€¢ Test your soil pH before planting"}),e.jsx("li",{children:"â€¢ Use organic compost for better soil health"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"ðŸŒ¿ Advanced Tips"}),e.jsxs("ul",{className:"space-y-1 text-emerald-100",children:[e.jsx("li",{children:"â€¢ Practice crop rotation for vegetable gardens"}),e.jsx("li",{children:"â€¢ Implement companion planting strategies"}),e.jsx("li",{children:"â€¢ Create a composting system"}),e.jsx("li",{children:"â€¢ Use beneficial insects for pest control"})]})]})]})]})]})};export{x as default};
