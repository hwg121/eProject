var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,n=(e,t)=>{for(var a in t||(t={}))r.call(t,a)&&i(e,a,t[a]);if(s)for(var a of s(t))l.call(t,a)&&i(e,a,t[a]);return e},o=(e,s)=>t(e,a(s)),d=(e,t,a)=>new Promise((s,r)=>{var l=e=>{try{n(a.next(e))}catch(t){r(t)}},i=e=>{try{n(a.throw(e))}catch(t){r(t)}},n=e=>e.done?s(e.value):Promise.resolve(e.value).then(l,i);n((a=a.apply(e,t)).next())});import{ad as c,ae as x,w as g,U as m,a0 as h,j as u,m as p,f as y,X as b,N as v,e as j,af as f,ag as N,Q as w,o as k,ah as C,ai as A,W as S,aj as T,p as M,a4 as U,r as D,a2 as P,ak as L,al as _,am as B,an as F,a9 as $,ao as R,K as E,ap as H,aq as V,ar as z,as as I,at as O,au as q,av as G,aw as W,ax as Y,ay as J,az as K,aA as Q,aa as Z,aB as X,q as ee,k as te,u as ae}from"./ui-DFK0He6I.js";import{r as se}from"./react-vendor-Dr4n66tC.js";import{u as re,C as le,a as ie}from"./index-DfWL7mZo.js";import{u as ne,a as oe,v as de,b as ce,c as xe,s as ge,d as me,e as he,t as ue,f as pe,g as ye}from"./api-CcJwR1Xd.js";import"./router-bS1xvxPY.js";const be=({activeTab:e,onTabChange:t,stats:a,isCollapsed:s,onToggle:r,userRole:l="admin"})=>{const{isDarkMode:i}=re(),[n,o]=se.useState([]),d=[{id:"overview",label:"Overview",icon:c,color:"from-emerald-500 to-green-600",description:"Dashboard overview"},{id:"content",label:"Content Management",icon:x,color:"from-emerald-500 to-green-600",description:"Manage all content",children:[{id:"content-list",label:"List",icon:null},{id:"content-create",label:"Create",icon:null},{id:"content-edit",label:"Edit",icon:null}]},{id:"products",label:"Product Management",icon:g,color:"from-emerald-500 to-green-600",description:"Manage all products",children:[{id:"product-list",label:"List",icon:null},{id:"product-create",label:"Create",icon:null},{id:"product-edit",label:"Edit",icon:null}]},{id:"users",label:"User Management",icon:m,color:"from-emerald-500 to-green-600",description:"Manage all users",children:[{id:"user-profile",label:"Profile",icon:null},{id:"user-list",label:"List",icon:null},{id:"user-create",label:"Create",icon:null}],adminOnly:!0},{id:"messages",label:"Messages",icon:h,color:"from-emerald-500 to-green-600",description:"Contact messages",count:a.totalContactMessages}].filter(e=>!e.adminOnly||"admin"===l),f=e=>{t(e)};return u.jsxs(p.div,{className:`transition-all duration-300 min-h-screen overflow-hidden ${s?"w-16":"w-64"} ${i?"bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 border-r border-gray-700/50":"bg-gradient-to-b from-white via-gray-50 to-white border-r border-gray-200/50"} shadow-lg flex flex-col\n      hidden lg:block`,initial:{x:-300,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,ease:"easeOut"},children:[u.jsxs("div",{className:`flex items-center justify-between p-4 border-b flex-shrink-0 ${i?"border-gray-700/50":"border-gray-200/50"} backdrop-blur-sm`,children:[!s&&u.jsxs(p.div,{className:"flex items-center space-x-3",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2,duration:.3},children:[u.jsxs("div",{className:"relative p-2.5 rounded-lg bg-gradient-to-br from-emerald-500 via-green-500 to-teal-600 text-white shadow-lg",children:[u.jsx(c,{className:"h-5 w-5"}),u.jsx(p.div,{className:"absolute inset-0 rounded-xl bg-gradient-to-br from-white/20 to-transparent",animate:{opacity:[0,.3,0]},transition:{duration:2,repeat:1/0,repeatDelay:1}})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"font-bold text-lg bg-gradient-to-r bg-clip-text text-transparent "+(i?"from-white to-gray-300":"from-gray-800 to-gray-600"),children:"Admin Panel"}),u.jsx("p",{className:"text-xs "+(i?"text-gray-400":"text-gray-500"),children:"Dashboard v2.0"})]})]}),u.jsxs(p.button,{onClick:r,className:"relative p-2.5 rounded-xl transition-all duration-200 "+(i?"hover:bg-gray-700/50 text-gray-300 hover:text-white":"hover:bg-gray-100/50 text-gray-600 hover:text-gray-800"),whileHover:{scale:1.05},whileTap:{scale:.95},children:[s?u.jsx(y,{className:"h-5 w-5"}):u.jsx(b,{className:"h-5 w-5"}),u.jsx(p.div,{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-emerald-500/10 to-green-500/10 opacity-0",whileHover:{opacity:1},transition:{duration:.2}})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent min-h-0 max-h-full",children:u.jsx("div",{className:"py-4 px-3 space-y-2 pb-6",children:d.map(t=>u.jsxs("div",{children:[u.jsx(p.div,{className:"relative "+(t.children?"mb-1":"mb-2"),whileHover:{scale:1.02},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},children:u.jsxs(p.button,{onClick:()=>{return t.children?(e=t.id,void o(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])):f(t.id);var e},className:"group relative w-full flex items-center justify-between px-3 py-3 rounded-lg font-medium transition-all duration-300 "+(e===t.id||t.children&&t.children.some(t=>e===t.id)?`text-white bg-gradient-to-r ${t.color} shadow-lg border border-white/10`:i?"text-gray-300 hover:bg-emerald-500/10 hover:text-emerald-200 border border-transparent hover:border-emerald-400/20":"text-gray-600 hover:bg-emerald-50/80 hover:text-emerald-700 border border-transparent hover:border-emerald-200/30"),whileTap:{scale:.98},children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsxs("div",{className:"relative p-1.5 rounded-md transition-all duration-200 "+(e===t.id||t.children&&t.children.some(t=>e===t.id)?"bg-white/20 text-white":i?"bg-emerald-500/10 text-emerald-300 group-hover:bg-emerald-400/15 group-hover:text-emerald-200":"bg-emerald-50/60 text-emerald-500 group-hover:bg-emerald-100/70 group-hover:text-emerald-600"),children:[t.icon&&u.jsx(t.icon,{className:"h-4 w-4 flex-shrink-0"}),e===t.id&&u.jsx(p.div,{className:"absolute inset-0 rounded-lg bg-gradient-to-r from-white/10 to-transparent",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}})]}),!s&&u.jsx("span",{className:"text-sm font-medium",children:t.label})]}),!s&&u.jsxs("div",{className:"flex items-center space-x-2",children:[void 0!==t.count&&u.jsx(p.span,{className:"px-2.5 py-1 rounded-full text-xs font-bold transition-all duration-200 "+(e===t.id||t.children&&t.children.some(t=>e===t.id)?"bg-white/25 text-white shadow-sm":i?"bg-emerald-500/15 text-emerald-200 group-hover:bg-emerald-400/20":"bg-emerald-100/60 text-emerald-600 group-hover:bg-emerald-200/70"),whileHover:{scale:1.05},children:t.count}),t.children&&u.jsx(p.div,{animate:{rotate:n.includes(t.id)?90:0},transition:{duration:.2},children:u.jsx(v,{className:"h-4 w-4"})})]}),(e===t.id||t.children&&t.children.some(t=>e===t.id))&&u.jsx(p.div,{className:"absolute left-0 top-1/2 w-1 h-6 bg-white rounded-r-full",initial:{scaleY:0},animate:{scaleY:1},transition:{duration:.2}})]})}),u.jsx(j,{children:t.children&&n.includes(t.id)&&!s&&u.jsx(p.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"ml-6 space-y-1 mt-2 overflow-hidden",children:t.children.map((t,a)=>u.jsxs(p.button,{onClick:()=>f(t.id),className:"group relative w-full flex items-center justify-between px-3 py-2.5 text-sm transition-all duration-200 rounded-lg "+(e===t.id?"text-emerald-700 bg-emerald-100 border border-emerald-200 shadow-sm":i?"text-gray-400 hover:bg-emerald-500/8 hover:text-emerald-300 border border-transparent hover:border-emerald-400/15":"text-gray-500 hover:bg-emerald-50/60 hover:text-emerald-600 border border-transparent hover:border-emerald-200/25"),initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.2,delay:.05*a},children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[t.icon&&u.jsx("div",{className:"p-1.5 rounded-md transition-all duration-200 "+(e===t.id?"bg-emerald-200 text-emerald-700":i?"bg-gray-700/40 text-gray-500 group-hover:bg-gray-600/50 group-hover:text-gray-400":"bg-gray-200/60 text-gray-400 group-hover:bg-gray-300/70 group-hover:text-gray-500"),children:u.jsx(t.icon,{className:"h-3.5 w-3.5 flex-shrink-0"})}),u.jsx("span",{className:"font-medium",children:t.label})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[void 0!==t.count&&u.jsx(p.span,{className:"px-2 py-0.5 rounded-full text-xs font-bold transition-all duration-200 "+(e===t.id?"bg-emerald-200 text-emerald-700 shadow-sm":i?"bg-gray-700/60 text-gray-400 group-hover:bg-gray-600/70 group-hover:text-gray-300":"bg-gray-200/70 text-gray-500 group-hover:bg-gray-300/80 group-hover:text-gray-600"),whileHover:{scale:1.05},children:t.count}),t.children&&u.jsx(p.div,{animate:{rotate:n.includes(t.id)?90:0},transition:{duration:.2},children:u.jsx(v,{className:"h-3 w-3"})})]}),e===t.id&&u.jsx(p.div,{className:"absolute left-0 top-1/2 w-0.5 h-4 bg-emerald-500 rounded-r-full",initial:{scaleY:0},animate:{scaleY:1},transition:{duration:.2}})]},t.id))})})]},t.id))})}),!s&&u.jsx(p.div,{className:`p-4 border-t ${i?"border-gray-700/50":"border-gray-200/50"} backdrop-blur-sm flex-shrink-0`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.3},children:u.jsxs("div",{className:"text-center "+(i?"text-gray-400":"text-gray-500"),children:[u.jsxs(p.div,{className:"flex items-center justify-center space-x-2 mb-2 p-1.5 rounded-lg hover:bg-gray-800/30 transition-colors cursor-pointer",whileHover:{scale:1.02},children:[u.jsx("div",{className:"p-1 rounded "+(i?"bg-gray-700/40":"bg-gray-200/60"),children:u.jsx(c,{className:"h-3 w-3"})}),u.jsx("span",{className:"text-xs font-medium",children:"Dashboard v2.0"})]}),u.jsxs("div",{className:"text-xs "+(i?"text-gray-500":"text-gray-400"),children:[u.jsx("p",{children:"Dashboard v2.0"}),u.jsx("p",{className:"mt-1",children:"Â© 2024 Green Groves"})]})]})})]})},ve=({stats:e,onNavigate:t})=>{const{isDarkMode:a}=re(),s=Math.max(e.totalViews,100),r=Math.max(e.totalUsers,10),l=[{day:"Mon",views:Math.floor(.12*s),users:Math.floor(.12*r)},{day:"Tue",views:Math.floor(.16*s),users:Math.floor(.16*r)},{day:"Wed",views:Math.floor(.18*s),users:Math.floor(.18*r)},{day:"Thu",views:Math.floor(.15*s),users:Math.floor(.15*r)},{day:"Fri",views:Math.floor(.2*s),users:Math.floor(.2*r)},{day:"Sat",views:Math.floor(.14*s),users:Math.floor(.14*r)},{day:"Sun",views:Math.floor(.05*s),users:Math.floor(.05*r)}],i=[{type:"Content",count:e.totalArticles+e.totalVideos,color:"bg-blue-500"},{type:"Products",count:e.totalBooks+e.totalSuggestions+(e.totalTools||0)+(e.totalPots||0)+(e.totalAccessories||0),color:"bg-emerald-500"}].filter(e=>e.count>0),n=({data:e,maxValue:t})=>u.jsx("div",{className:"flex items-end justify-between h-32 space-x-2",children:e.map((e,s)=>{const r=e.views/t*100;return u.jsxs(p.div,{className:"flex flex-col items-center space-y-2 flex-1",initial:{opacity:0,scaleY:0},animate:{opacity:1,scaleY:1},transition:{duration:.5,delay:.1*s},children:[u.jsx("div",{className:"relative w-full flex justify-center",children:u.jsx(p.div,{className:"w-6 rounded-t-lg bg-gradient-to-t from-emerald-600 to-emerald-400 relative group",style:{height:r+"%"},whileHover:{scaleY:1.1},transition:{duration:.2},children:u.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 px-2 py-1 rounded text-xs font-medium text-white bg-gray-800 opacity-0 group-hover:opacity-100 transition-opacity",children:e.views.toLocaleString()})})}),u.jsx("span",{className:"text-xs font-medium "+(a?"text-gray-300":"text-gray-600"),children:e.day})]},e.day)})}),o=({data:e})=>{let t=0;const s=e.reduce((e,t)=>e+t.count,0);return u.jsxs("div",{className:"relative w-32 h-32 mx-auto",children:[u.jsx("svg",{className:"w-32 h-32 transform -rotate-90",viewBox:"0 0 100 100",children:e.map((e,a)=>{const r=s>0?e.count/s*100:0,l=90*Math.PI,i=`${r/100*l} ${l}`,n=-t/100*l;return t+=r,u.jsx(p.circle,{cx:"50",cy:"50",r:"45",fill:"none",stroke:0===a?"#3b82f6":"#10b981",strokeWidth:"10",strokeDasharray:i,strokeDashoffset:n,initial:{strokeDasharray:"0 "+l},animate:{strokeDasharray:i},transition:{duration:1,delay:.2*a},className:"drop-shadow-sm"},e.type)})}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-lg font-bold "+(a?"text-white":"text-gray-800"),children:s}),u.jsx("div",{className:"text-xs "+(a?"text-gray-400":"text-gray-500"),children:"Total"})]})})]})};return u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 lg:gap-6",children:[u.jsxs(p.div,{className:`p-4 lg:p-6 rounded-xl ${a?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"} shadow-lg`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold "+(a?"text-white":"text-gray-800"),children:"Weekly Analytics"}),u.jsx("p",{className:"text-sm "+(a?"text-gray-400":"text-gray-500"),children:"Views and user engagement"})]}),u.jsx("div",{className:"p-2 rounded-lg "+(a?"bg-emerald-900/30":"bg-emerald-100"),children:u.jsx(f,{className:"h-5 w-5 "+(a?"text-emerald-400":"text-emerald-600")})})]}),u.jsx(n,{data:l,maxValue:3e3}),u.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200",children:[u.jsx("div",{className:"flex items-center space-x-4",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),u.jsx("span",{className:"text-sm "+(a?"text-gray-300":"text-gray-600"),children:"Views"})]})}),u.jsxs("div",{className:"text-sm font-medium "+(0>e.weeklyGrowth?"text-red-500":"text-green-500"),children:[0>e.weeklyGrowth?u.jsx(N,{className:"inline h-4 w-4 mr-1"}):u.jsx(f,{className:"inline h-4 w-4 mr-1"}),Math.abs(e.weeklyGrowth),"%"]})]})]}),u.jsxs(p.div,{className:`p-4 lg:p-6 rounded-xl ${a?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"} shadow-lg`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold "+(a?"text-white":"text-gray-800"),children:"Content Distribution"}),u.jsx("p",{className:"text-sm "+(a?"text-gray-400":"text-gray-500"),children:"Content types breakdown"})]}),u.jsx("div",{className:"p-2 rounded-lg "+(a?"bg-blue-900/30":"bg-blue-100"),children:u.jsx(w,{className:"h-5 w-5 "+(a?"text-blue-400":"text-blue-600")})})]}),u.jsx("div",{className:"flex items-center justify-center mb-6",children:u.jsx(o,{data:i})}),u.jsx("div",{className:"space-y-3",children:i.map((e,t)=>{const s=i.reduce((e,t)=>e+t.count,0),r=s>0?(e.count/s*100).toFixed(1):"0.0";return u.jsxs(p.div,{className:"flex items-center justify-between",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.5+.1*t},children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-3 h-3 rounded-full "+["bg-blue-500","bg-emerald-500"][t]}),u.jsx("span",{className:"text-sm font-medium "+(a?"text-gray-300":"text-gray-600"),children:e.type})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-sm font-semibold "+(a?"text-white":"text-gray-800"),children:e.count}),u.jsxs("span",{className:"text-xs "+(a?"text-gray-400":"text-gray-500"),children:["(",r,"%)"]})]})]},e.type)})})]}),u.jsxs(p.div,{className:`p-4 lg:p-6 rounded-xl ${a?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"} shadow-lg`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold "+(a?"text-white":"text-gray-800"),children:"Performance Metrics"}),u.jsx("p",{className:"text-sm "+(a?"text-gray-400":"text-gray-500"),children:"Key performance indicators"})]}),u.jsx("div",{className:"p-2 rounded-lg "+(a?"bg-purple-900/30":"bg-purple-100"),children:u.jsx(k,{className:"h-5 w-5 "+(a?"text-purple-400":"text-purple-600")})})]}),u.jsx("div",{className:"space-y-4",children:[{label:"Average Rating",value:e.avgRating.toFixed(1),icon:k,color:"text-yellow-500"},{label:"Total Users",value:e.totalUsers.toLocaleString(),icon:m,color:"text-blue-500"},{label:"Monthly Growth",value:`+${e.monthlyGrowth}%`,icon:f,color:"text-green-500"},{label:"Contact Messages",value:e.totalContactMessages.toLocaleString(),icon:h,color:"text-indigo-500"}].map((e,t)=>u.jsxs(p.div,{className:"flex items-center justify-between p-3 rounded-lg "+(a?"bg-gray-700/30":"bg-gray-50"),initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.6+.1*t},children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(e.icon,{className:"h-5 w-5 "+e.color}),u.jsx("span",{className:"text-sm font-medium "+(a?"text-gray-300":"text-gray-600"),children:e.label})]}),u.jsx("span",{className:"text-sm font-bold "+(a?"text-white":"text-gray-800"),children:e.value})]},e.label))})]}),u.jsxs(p.div,{className:`p-4 lg:p-6 rounded-xl ${a?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"} shadow-lg`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold "+(a?"text-white":"text-gray-800"),children:"Quick Actions"}),u.jsx("p",{className:"text-sm "+(a?"text-gray-400":"text-gray-500"),children:"Common admin tasks"})]}),u.jsx("div",{className:"p-2 rounded-lg "+(a?"bg-emerald-900/30":"bg-emerald-100"),children:u.jsx(C,{className:"h-5 w-5 "+(a?"text-emerald-400":"text-emerald-600")})})]}),u.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{label:"Add Article",icon:x,description:"Create new article",gradient:"from-emerald-500 to-green-600",hoverGradient:"from-emerald-600 to-green-700",iconBg:"bg-emerald-100 dark:bg-emerald-900/30",iconColor:"text-emerald-600 dark:text-emerald-400",action:"create-article"},{label:"Upload Video",icon:A,description:"Add new video",gradient:"from-blue-500 to-blue-600",hoverGradient:"from-blue-600 to-blue-700",iconBg:"bg-blue-100 dark:bg-blue-900/30",iconColor:"text-blue-600 dark:text-blue-400",action:"create-video"},{label:"Add Product",icon:S,description:"Add new product",gradient:"from-purple-500 to-purple-600",hoverGradient:"from-purple-600 to-purple-700",iconBg:"bg-purple-100 dark:bg-purple-900/30",iconColor:"text-purple-600 dark:text-purple-400",action:"create-product"}].map((e,a)=>u.jsxs(p.button,{className:`group relative overflow-hidden bg-gradient-to-br ${e.gradient} hover:${e.hoverGradient} text-white p-4 rounded-xl font-medium text-sm transition-all duration-300 flex flex-col items-center space-y-3 shadow-lg hover:shadow-xl`,initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.4,delay:.7+.1*a},whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:()=>t&&t("content",e.action),children:[u.jsxs("div",{className:"absolute inset-0 opacity-10",children:[u.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-white rounded-full transform translate-x-8 -translate-y-8"}),u.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white rounded-full transform -translate-x-6 translate-y-6"})]}),u.jsxs("div",{className:`relative p-3 rounded-lg ${e.iconBg} transition-all duration-300 group-hover:scale-110`,children:[u.jsx(e.icon,{className:"h-6 w-6 "+e.iconColor}),u.jsx(T,{className:"absolute -top-1 -right-1 h-4 w-4 text-white bg-current rounded-full p-0.5 opacity-80"})]}),u.jsxs("div",{className:"relative text-center",children:[u.jsx("div",{className:"font-semibold text-sm",children:e.label}),u.jsx("div",{className:"text-xs opacity-80 mt-1",children:e.description})]}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/0 via-white/0 to-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]},e.label))})]})]})},je=({stats:e,isDarkMode:t})=>{const a=[{label:"Total Users",value:e.totalUsers.toLocaleString(),icon:m,color:"from-blue-500 to-indigo-600",change:e.totalUsers>0?`+${e.monthlyGrowth}%`:"0%",changeColor:e.totalUsers>0?"text-green-500":"text-gray-500"},{label:"Total Views",value:e.totalViews.toLocaleString(),icon:w,color:"from-green-500 to-emerald-600",change:e.totalViews>0?`+${e.weeklyGrowth}%`:"0%",changeColor:e.totalViews>0?"text-green-500":"text-gray-500"},{label:"Content Items",value:(e.totalArticles+e.totalVideos+e.totalBooks+e.totalSuggestions+e.totalAboutUs+e.totalContactMessages).toLocaleString(),icon:x,color:"from-purple-500 to-violet-600",change:e.totalArticles+e.totalVideos+e.totalBooks+e.totalSuggestions+e.totalAboutUs+e.totalContactMessages>0?`+${e.monthlyGrowth}%`:"0%",changeColor:e.totalArticles+e.totalVideos+e.totalBooks+e.totalSuggestions+e.totalAboutUs+e.totalContactMessages>0?"text-green-500":"text-gray-500"},{label:"Avg Rating",value:e.avgRating.toString(),icon:k,color:"from-yellow-500 to-orange-600",change:e.avgRating>0?"+"+(e.avgRating-4).toFixed(1):"0.0",changeColor:e.avgRating>4?"text-green-500":4>e.avgRating?"text-red-500":"text-gray-500"}];return u.jsx(p.div,{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:a.map((e,a)=>u.jsx(p.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.1*a},children:u.jsxs(le,{className:"text-center",gradient:!0,glow:!0,children:[u.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-r ${e.color} text-white mb-4`,children:u.jsx(e.icon,{className:"h-8 w-8"})}),u.jsx("h3",{className:"text-3xl font-bold mb-2 "+(t?"text-emerald-100":"text-gray-800"),children:e.value}),u.jsx("p",{className:"font-medium mb-2 "+(t?"text-emerald-200":"text-gray-600"),children:e.label}),u.jsx("span",{className:"text-sm font-semibold "+(e.changeColor||"text-green-500"),children:e.change})]})},a))})},fe=({recentActivity:e,isDarkMode:t})=>u.jsxs(le,{children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-2xl font-bold "+(t?"text-emerald-100":"text-gray-800"),children:"Recent Activity"}),u.jsx(C,{className:"h-6 w-6 "+(t?"text-emerald-400":"text-emerald-600")})]}),u.jsx("div",{className:"space-y-4",children:e.map(e=>u.jsxs("div",{className:"flex items-center space-x-4 p-4 rounded-lg "+(t?"bg-gray-800/30 backdrop-blur-sm border border-gray-700/20":"bg-gray-50"),children:[u.jsx("div",{className:"w-3 h-3 rounded-full "+("user"===e.type?"bg-blue-500":"content"===e.type?"bg-green-500":"media"===e.type?"bg-purple-500":"bg-yellow-500")}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium "+(t?"text-emerald-100":"text-gray-800"),children:e.action}),u.jsxs("p",{className:"text-sm "+(t?"text-emerald-300":"text-gray-600"),children:["by ",e.user," â¢ ",e.time]})]})]},e.id))})]}),Ne=({topContent:e,isDarkMode:t})=>u.jsxs(le,{children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-2xl font-bold "+(t?"text-emerald-100":"text-gray-800"),children:"Top Performing Content"}),u.jsx(f,{className:"h-6 w-6 "+(t?"text-emerald-400":"text-emerald-600")})]}),u.jsx("div",{className:"space-y-4",children:e.map((e,a)=>u.jsxs("div",{className:"flex items-center space-x-4 p-4 rounded-lg "+(t?"bg-gray-800/30 backdrop-blur-sm border border-gray-700/20":"bg-gray-50"),children:[u.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-bold "+(0===a?"bg-yellow-500":1===a?"bg-gray-400":2===a?"bg-orange-500":"bg-blue-500"),children:a+1}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium "+(t?"text-emerald-100":"text-gray-800"),children:e.title}),u.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[u.jsxs("span",{className:"flex items-center space-x-1 "+(t?"text-emerald-300":"text-gray-600"),children:[u.jsx(w,{className:"h-4 w-4"}),u.jsx("span",{children:e.views.toLocaleString()})]}),u.jsxs("span",{className:"flex items-center space-x-1 "+(t?"text-emerald-300":"text-gray-600"),children:[u.jsx(M,{className:"h-4 w-4"}),u.jsx("span",{children:e.likes.toLocaleString()})]}),u.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+("article"===e.type?"bg-green-100 text-green-800":"video"===e.type?"bg-red-100 text-red-800":"book"===e.type?"bg-purple-100 text-purple-800":"bg-yellow-100 text-yellow-800"),children:e.type})]})]})]},e.id))})]}),we=({value:e,onChange:t,onError:a,className:s="",placeholder:r="Click to upload image",accept:l="image/*",maxSize:i=10})=>{const[n,o]=se.useState(!1),[c,x]=se.useState(e||null),g=se.useRef(null);return u.jsxs("div",{className:"relative "+s,children:[u.jsx("input",{ref:g,type:"file",accept:l,onChange:e=>{var s;const r=null==(s=e.target.files)?void 0:s[0];r&&(e=>{d(void 0,null,function*(){if(e.size>1048576*i)null==a||a(`File size must be less than ${i}MB`);else if(e.type.startsWith("image/"))if(e.name.length>255)null==a||a("File name is too long");else{o(!0);try{const s=new FileReader;s.onload=s=>{var r;const l=null==(r=s.target)?void 0:r.result;x(l),ne.uploadFile(e,"image").then(e=>{if(!e||!e.url)throw Error("Invalid response from server");t(e.url)}).catch(e=>{null==a||a("Upload failed. Using local preview. Please try again later."),t(l)}).finally(()=>{o(!1)})},s.readAsDataURL(e)}catch(s){null==a||a("Failed to upload image. Please try again."),o(!1)}}else null==a||a("Please select an image file")})})(r)},className:"hidden"}),u.jsx("div",{onClick:()=>{var e;null==(e=g.current)||e.click()},className:`\n          border-2 border-dashed rounded-lg p-4 cursor-pointer transition-colors\n          ${c?"border-green-500 bg-green-50":"border-gray-300 hover:border-gray-400"}\n          ${n?"opacity-50 cursor-not-allowed":""}\n        `,children:c?u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:c,alt:"Preview",className:"w-full h-32 object-cover rounded"}),u.jsx("button",{type:"button",onClick:e=>{e.stopPropagation(),x(null),t(""),g.current&&(g.current.value="")},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm hover:bg-red-600",children:"Ã"})]}):u.jsx("div",{className:"text-center",children:u.jsx("div",{className:"text-gray-500 mb-2",children:n?u.jsxs("div",{className:"flex flex-col items-center justify-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-500 mb-2"}),u.jsx("span",{className:"text-sm text-emerald-600 font-medium",children:"Uploading image..."}),u.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Please wait"})]}):u.jsxs(u.Fragment,{children:[u.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:u.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),u.jsx("p",{className:"text-sm text-gray-600 mt-2",children:r}),u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Max size: ",i,"MB"]})]})})})})]})},ke=({onSave:e,onCancel:t,isDarkMode:a})=>{const[s,r]=se.useState({name:"",email:"",password:"",confirmPassword:"",role:"user",status:"active",phone:"",bio:"",avatar:"",avatarPreview:""}),[l,i]=se.useState({}),d=(e,t)=>{r(a=>o(n({},a),{[e]:t})),l[e]&&i(t=>o(n({},t),{[e]:""}))},c="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(a?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"),x="block text-sm font-medium mb-2 "+(a?"text-gray-300":"text-gray-700");return u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(p.button,{onClick:t,className:`p-2 rounded-lg ${a?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:u.jsx(U,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold "+(a?"text-white":"text-gray-800"),children:"Create New User"}),u.jsx("p",{className:"text-sm "+(a?"text-gray-400":"text-gray-600"),children:"Add a new user to the system"})]})]})}),u.jsx(le,{className:"p-6 "+(a?"bg-gray-800":"bg-white"),children:u.jsxs("form",{onSubmit:t=>{if(t.preventDefault(),!(()=>{const e={};return s.name.trim()||(e.name="Name is required"),s.email.trim()?/\S+@\S+\.\S+/.test(s.email)||(e.email="Email is invalid"):e.email="Email is required",s.password?6>s.password.length&&(e.password="Password must be at least 6 characters"):e.password="Password is required",s.password!==s.confirmPassword&&(e.confirmPassword="Passwords do not match"),s.phone.trim()||(e.phone="Phone is required"),i(e),0===Object.keys(e).length})())return;const a=o(n({},s),{avatar:s.avatarPreview||s.avatar});e(a)},className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center space-x-2 "+(a?"text-white":"text-gray-800"),children:[u.jsx(D,{className:"w-5 h-5"}),u.jsx("span",{children:"Basic Information"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Full Name *"}),u.jsx("input",{type:"text",value:s.name,onChange:e=>d("name",e.target.value),className:`${c} ${l.name?"border-red-500":""}`,placeholder:"Enter full name"}),l.name&&u.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.name})]}),u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Email Address *"}),u.jsx("input",{type:"email",value:s.email,onChange:e=>d("email",e.target.value),className:`${c} ${l.email?"border-red-500":""}`,placeholder:"Enter email address"}),l.email&&u.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.email})]}),u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Phone Number *"}),u.jsx("input",{type:"tel",value:s.phone,onChange:e=>d("phone",e.target.value),className:`${c} ${l.phone?"border-red-500":""}`,placeholder:"Enter phone number"}),l.phone&&u.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.phone})]}),u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Role"}),u.jsxs("select",{value:s.role,onChange:e=>d("role",e.target.value),className:c,children:[u.jsx("option",{value:"user",children:"User"}),u.jsx("option",{value:"admin",children:"Admin"}),u.jsx("option",{value:"moderator",children:"Moderator"})]})]})]})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center space-x-2 "+(a?"text-white":"text-gray-800"),children:[u.jsx(P,{className:"w-5 h-5"}),u.jsx("span",{children:"Security"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Password *"}),u.jsx("input",{type:"password",value:s.password,onChange:e=>d("password",e.target.value),className:`${c} ${l.password?"border-red-500":""}`,placeholder:"Enter password"}),l.password&&u.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.password})]}),u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Confirm Password *"}),u.jsx("input",{type:"password",value:s.confirmPassword,onChange:e=>d("confirmPassword",e.target.value),className:`${c} ${l.confirmPassword?"border-red-500":""}`,placeholder:"Confirm password"}),l.confirmPassword&&u.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.confirmPassword})]})]})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center space-x-2 "+(a?"text-white":"text-gray-800"),children:[u.jsx(L,{className:"w-5 h-5"}),u.jsx("span",{children:"Profile"})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Avatar"}),u.jsx(we,{value:s.avatarPreview||s.avatar,onChange:e=>d("avatar",e),onError:e=>{},className:"mt-1",placeholder:"Upload user avatar"})]}),u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Bio"}),u.jsx("textarea",{value:s.bio,onChange:e=>d("bio",e.target.value),className:c+" h-24 resize-none",placeholder:"Tell us about this user..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Status"}),u.jsxs("select",{value:s.status,onChange:e=>d("status",e.target.value),className:c,children:[u.jsx("option",{value:"active",children:"Active"}),u.jsx("option",{value:"inactive",children:"Inactive"}),u.jsx("option",{value:"suspended",children:"Suspended"})]})]})]})]}),u.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[u.jsx(p.button,{type:"button",onClick:t,className:"px-6 py-3 rounded-lg font-semibold transition-colors "+(a?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"),whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"}),u.jsx(p.button,{type:"submit",className:"px-6 py-3 bg-emerald-500 text-white rounded-lg font-semibold hover:bg-emerald-600 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(_,{className:"w-4 h-4"}),u.jsx("span",{children:"Create User"})]})})]})]})})]})},Ce=({activeTab:e,user:t,userProfile:a,users:s,userSearchTerm:r,userStatusFilter:l,userRoleFilter:i,userSortBy:n,selectedUsers:o,filteredUsers:d,isDarkMode:c,onUserProfileChange:x,onSaveUserProfile:g,onAvatarUpload:m,onRemoveAvatar:h,onLoadUsers:p,onUserStatusFilterChange:y,onUserRoleFilterChange:b,onUserSortByChange:v,onUserSearchTermChange:j,onSelectedUsersChange:f,onEditUser:N,onDeleteUser:w,onCreateUser:k})=>{const C=()=>u.jsxs(le,{children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[u.jsx("span",{className:"text-sm "+(c?"text-gray-400":"text-gray-600"),children:"Dashboard"}),u.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-400"}),u.jsx("span",{className:"text-sm "+(c?"text-gray-400":"text-gray-600"),children:"User"}),u.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-400"}),u.jsx("span",{className:"text-sm font-medium "+(c?"text-white":"text-gray-800"),children:t.name})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[u.jsx("div",{className:"flex items-center space-x-2",children:u.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full "+("active"===a.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:"active"===a.status?"Active":"Banned"})}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"w-24 h-24 mx-auto mb-3 relative group cursor-pointer",children:[a.avatarPreview?u.jsx("img",{src:a.avatarPreview,alt:"Avatar",className:"w-full h-full rounded-full object-cover"}):u.jsx("div",{className:"w-full h-full bg-gradient-to-br from-emerald-400 to-green-500 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:a.name.charAt(0).toUpperCase()}),u.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",onChange:m}),u.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:u.jsxs("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),u.jsxs("div",{className:"flex justify-center space-x-2 mb-2",children:[u.jsxs("label",{className:"px-3 py-1 text-xs font-medium rounded-full cursor-pointer transition-colors "+(c?"bg-emerald-600 text-white hover:bg-emerald-700":"bg-emerald-100 text-emerald-700 hover:bg-emerald-200"),children:["Choose File",u.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:m})]}),a.avatarPreview&&u.jsx("button",{onClick:h,className:"px-3 py-1 text-xs font-medium rounded-full transition-colors "+(c?"bg-red-600 text-white hover:bg-red-700":"bg-red-100 text-red-700 hover:bg-red-200"),children:"Remove"})]}),u.jsx("p",{className:"text-xs "+(c?"text-gray-400":"text-gray-500"),children:"Allowed *.jpeg, *.jpg, *.png, *.gif â¢ max 3 Mb"}),a.avatar&&u.jsxs("p",{className:"text-xs mt-1 "+(c?"text-emerald-400":"text-emerald-600"),children:["Selected: ",a.avatar.name," (",(a.avatar.size/1024).toFixed(1)," KB)"]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium "+(c?"text-white":"text-gray-900"),children:"Banned"}),u.jsx("p",{className:"text-xs "+(c?"text-gray-400":"text-gray-500"),children:"Apply disable account"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"sr-only peer",checked:a.is_banned,onChange:e=>{x("is_banned",e.target.checked),x("status",e.target.checked?"banned":"active")}}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-emerald-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium "+(c?"text-white":"text-gray-900"),children:"Email verified"}),u.jsx("p",{className:"text-xs "+(c?"text-gray-400":"text-gray-500"),children:"Disabling this will automatically send the user a verification email"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"sr-only peer",checked:a.is_email_verified,onChange:e=>x("is_email_verified",e.target.checked)}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-emerald-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]})]}),u.jsx("div",{className:"pt-4",children:u.jsx("button",{className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:"Delete user"})})]}),u.jsxs("div",{className:"lg:col-span-3",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 "+(c?"text-white":"text-gray-900"),children:"Full name"}),u.jsx("input",{type:"text",value:a.name,onChange:e=>x("name",e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(c?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 "+(c?"text-white":"text-gray-900"),children:"Phone number"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx("span",{className:"text-2xl",children:"ð»ð³"})}),u.jsx("input",{type:"tel",value:a.phone,onChange:e=>x("phone",e.target.value),placeholder:"(+84) 123 456 789",className:"w-full pl-12 pr-10 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(c?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 "+(c?"text-white":"text-gray-900"),children:"State/region"}),u.jsx("input",{type:"text",value:a.state,onChange:e=>x("state",e.target.value),placeholder:"Virginia",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(c?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 "+(c?"text-white":"text-gray-900"),children:"Address"}),u.jsx("input",{type:"text",value:a.address,onChange:e=>x("address",e.target.value),placeholder:"908 Jack Locks",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(c?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 "+(c?"text-white":"text-gray-900"),children:"Company"}),u.jsx("input",{type:"text",value:a.company,onChange:e=>x("company",e.target.value),placeholder:"Gleichner, Mueller and Tromp",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(c?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 "+(c?"text-white":"text-gray-900"),children:"Email address"}),u.jsx("input",{type:"email",value:a.email,onChange:e=>x("email",e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(c?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]}),"admin"===(null==t?void 0:t.role)&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 "+(c?"text-white":"text-gray-900"),children:"Password"}),u.jsx("input",{type:"password",value:a.password,onChange:e=>x("password",e.target.value),placeholder:"Leave empty to keep current password",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(c?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")}),u.jsx("p",{className:"text-xs mt-1 "+(c?"text-gray-400":"text-gray-500"),children:"Only admins can change user passwords"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 "+(c?"text-white":"text-gray-900"),children:"City"}),u.jsx("input",{type:"text",value:a.city,onChange:e=>x("city",e.target.value),placeholder:"Rancho Cordova",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(c?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 "+(c?"text-white":"text-gray-900"),children:"Zip/code"}),u.jsx("input",{type:"text",value:a.zip_code,onChange:e=>x("zip_code",e.target.value),placeholder:"85807",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(c?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 "+(c?"text-white":"text-gray-900"),children:"Role"}),u.jsxs("select",{value:a.role,onChange:e=>x("role",e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(c?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:[u.jsx("option",{value:"admin",children:"Admin"}),u.jsx("option",{value:"moderator",children:"Moderator"})]})]})]})]}),u.jsx("div",{className:"flex justify-end mt-6",children:u.jsx("button",{onClick:g,className:"px-6 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors font-medium",children:"Save changes"})})]})]})]}),A=()=>u.jsxs(le,{children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-sm "+(c?"text-gray-400":"text-gray-600"),children:"Dashboard"}),u.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-400"}),u.jsx("span",{className:"text-sm "+(c?"text-gray-400":"text-gray-600"),children:"User"}),u.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-400"}),u.jsx("span",{className:"text-sm font-medium "+(c?"text-white":"text-gray-800"),children:"List"})]}),u.jsx("button",{onClick:p,className:"px-4 py-2 rounded-lg font-medium transition-colors "+(c?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Refresh Users"})]}),u.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[u.jsxs("button",{onClick:()=>y("all"),className:"px-4 py-2 rounded-lg font-medium transition-colors "+("all"===l?"bg-gray-900 text-white":c?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:["All (",s.length,")"]}),u.jsxs("button",{onClick:()=>y("active"),className:"px-4 py-2 rounded-lg font-medium transition-colors "+("active"===l?"bg-green-500 text-white":"text-green-600 hover:bg-green-50"),children:["Active (",s.filter(e=>"active"===e.status).length,")"]}),u.jsxs("button",{onClick:()=>y("banned"),className:"px-4 py-2 rounded-lg font-medium transition-colors "+("banned"===l?"bg-red-500 text-white":"text-red-600 hover:bg-red-50"),children:["Banned (",s.filter(e=>"banned"===e.status).length,")"]})]}),u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("label",{className:"text-sm font-medium "+(c?"text-gray-300":"text-gray-700"),children:"Role:"}),u.jsxs("select",{value:i,onChange:e=>b(e.target.value),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(c?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:[u.jsx("option",{value:"all",children:"All Roles"}),u.jsx("option",{value:"admin",children:"Admin"}),u.jsx("option",{value:"moderator",children:"Moderator"})]})]}),u.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[u.jsx(B,{className:"h-5 w-5 "+(c?"text-gray-400":"text-gray-500")}),u.jsx("input",{type:"text",placeholder:"Search...",value:r,onChange:e=>j(e.target.value),className:"flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(c?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b "+(c?"border-gray-700":"border-gray-200"),children:[u.jsx("th",{className:"text-left py-3 px-4",children:u.jsx("input",{type:"checkbox",className:"rounded border-gray-300",checked:o.length===d.length&&d.length>0,onChange:e=>{e.target.checked?f(d.map(e=>e.id)):f([])}})}),u.jsx("th",{className:"text-left py-3 px-4",children:u.jsxs("button",{onClick:()=>v("name-asc"===n?"name-desc":"name-asc"),className:"flex items-center gap-1 font-medium "+(c?"text-gray-300":"text-gray-700"),children:["Name","name-asc"===n&&u.jsx("span",{className:"text-emerald-500",children:"â"}),"name-desc"===n&&u.jsx("span",{className:"text-emerald-500",children:"â"})]})}),u.jsx("th",{className:"text-left py-3 px-4",children:u.jsxs("button",{onClick:()=>v("email-asc"===n?"email-desc":"email-asc"),className:"flex items-center gap-1 font-medium "+(c?"text-gray-300":"text-gray-700"),children:["Email","email-asc"===n&&u.jsx("span",{className:"text-emerald-500",children:"â"}),"email-desc"===n&&u.jsx("span",{className:"text-emerald-500",children:"â"})]})}),u.jsx("th",{className:"text-left py-3 px-4",children:u.jsxs("button",{onClick:()=>v("role-asc"===n?"role-desc":"role-asc"),className:"flex items-center gap-1 font-medium "+(c?"text-gray-300":"text-gray-700"),children:["Role","role-asc"===n&&u.jsx("span",{className:"text-emerald-500",children:"â"}),"role-desc"===n&&u.jsx("span",{className:"text-emerald-500",children:"â"})]})}),u.jsx("th",{className:"text-left py-3 px-4",children:u.jsxs("button",{onClick:()=>v("status-asc"===n?"status-desc":"status-asc"),className:"flex items-center gap-1 font-medium "+(c?"text-gray-300":"text-gray-700"),children:["Status","status-asc"===n&&u.jsx("span",{className:"text-emerald-500",children:"â"}),"status-desc"===n&&u.jsx("span",{className:"text-emerald-500",children:"â"})]})}),u.jsx("th",{className:"text-left py-3 px-4",children:u.jsxs("button",{onClick:()=>v("created-asc"===n?"created-desc":"created-asc"),className:"flex items-center gap-1 font-medium "+(c?"text-gray-300":"text-gray-700"),children:["Created","created-asc"===n&&u.jsx("span",{className:"text-emerald-500",children:"â"}),"created-desc"===n&&u.jsx("span",{className:"text-emerald-500",children:"â"})]})}),u.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),u.jsx("tbody",{children:d.map(e=>u.jsxs("tr",{className:`border-b ${c?"border-gray-700":"border-gray-200"} hover:bg-gray-50 ${c?"hover:bg-gray-800":""}`,children:[u.jsx("td",{className:"py-3 px-4",children:u.jsx("input",{type:"checkbox",className:"rounded border-gray-300",checked:o.includes(e.id),onChange:t=>{t.target.checked?f([...o,e.id]):f(o.filter(t=>t!==e.id))}})}),u.jsx("td",{className:"py-3 px-4",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-emerald-400 to-green-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:e.name.charAt(0).toUpperCase()}),u.jsx("span",{className:"font-medium "+(c?"text-white":"text-gray-900"),children:e.name})]})}),u.jsx("td",{className:"py-3 px-4",children:u.jsx("span",{className:c?"text-gray-300":"text-gray-600",children:e.email})}),u.jsx("td",{className:"py-3 px-4",children:u.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("admin"===e.role?"bg-purple-100 text-purple-800":"moderator"===e.role?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:e.role})}),u.jsx("td",{className:"py-3 px-4",children:u.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("active"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status})}),u.jsx("td",{className:"py-3 px-4",children:u.jsx("span",{className:"text-sm "+(c?"text-gray-400":"text-gray-500"),children:new Date(e.createdAt).toLocaleDateString()})}),u.jsx("td",{className:"py-3 px-4",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>N(e),className:"p-2 rounded-lg transition-colors "+(c?"hover:bg-gray-700 text-gray-400 hover:text-white":"hover:bg-gray-100 text-gray-500 hover:text-gray-700"),children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),u.jsx("button",{onClick:()=>w(e.id),className:"p-2 rounded-lg transition-colors "+(c?"hover:bg-red-900 text-red-400 hover:text-red-300":"hover:bg-red-50 text-red-500 hover:text-red-700"),children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},e.id))})]})})]}),S=()=>u.jsxs(le,{children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-2xl font-bold "+(c?"text-emerald-100":"text-gray-800"),children:"Users Management"}),u.jsx("a",{href:"/admin/users",className:"flex items-center space-x-2 bg-emerald-500 text-white px-6 py-3 rounded-lg hover:bg-emerald-600 transition-colors font-semibold",children:u.jsx("span",{children:"Manage Users"})})]}),u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"h-16 w-16 text-emerald-300 mx-auto mb-4 flex items-center justify-center",children:u.jsx("svg",{className:"w-16 h-16",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})})}),u.jsx("h3",{className:"text-xl font-semibold text-emerald-800 mb-2",children:"User Management"}),u.jsx("p",{className:"text-emerald-600 mb-6",children:"Manage user accounts, permissions, roles, and user information."}),u.jsx("a",{href:"/admin/users",className:"bg-emerald-600 text-white px-6 py-2 rounded-lg hover:bg-emerald-700 transition-colors",children:"Go to User Management"})]})]});return"user-profile"===e?u.jsx(C,{}):"user-list"===e?u.jsx(A,{}):"user-create"===e?u.jsx(ke,{onSave:k,onCancel:()=>N(null),isDarkMode:c}):"users"===e?u.jsx(S,{}):null},Ae=({contactMessages:e,isDarkMode:t,onMessageStatusChange:a,onDeleteMessage:s})=>u.jsxs(le,{children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h3",{className:"text-2xl font-bold "+(t?"text-emerald-100":"text-gray-800"),children:["Contact Messages (",e.length,")"]}),u.jsx("div",{className:"flex items-center space-x-4",children:u.jsxs("span",{className:"text-sm "+(t?"text-emerald-300":"text-emerald-600"),children:["Unread: ",e.filter(e=>"unread"===e.status).length]})})]}),0===e.length?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(h,{className:"h-16 w-16 mx-auto mb-4 "+(t?"text-gray-600":"text-gray-400")}),u.jsx("p",{className:"text-lg "+(t?"text-gray-400":"text-gray-500"),children:"No messages yet. When users submit the contact form, they'll appear here."})]}):u.jsx("div",{className:"space-y-4",children:e.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()).map(e=>u.jsxs(p.div,{className:"border rounded-lg p-6 transition-all duration-300 "+("unread"===e.status?t?"border-emerald-500/30 bg-emerald-900/20":"border-emerald-200 bg-emerald-50":t?"border-gray-700 bg-gray-800/30":"border-gray-200 bg-gray-50"),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[u.jsx("h4",{className:"text-lg font-semibold "+(t?"text-white":"text-gray-800"),children:e.subject}),u.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium "+("unread"===e.status?"bg-red-100 text-red-800":"read"===e.status?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:e.status})]}),u.jsxs("div",{className:"text-sm mb-2 "+(t?"text-gray-300":"text-gray-600"),children:[u.jsx("strong",{children:"From:"})," ",e.name," (",e.email,")"]}),u.jsx("div",{className:"text-sm mb-4 "+(t?"text-gray-400":"text-gray-500"),children:new Date(e.createdAt).toLocaleString()})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("select",{value:e.status,onChange:t=>a(e.id,t.target.value),className:"px-3 py-1 border rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:[u.jsx("option",{value:"unread",children:"Unread"}),u.jsx("option",{value:"read",children:"Read"}),u.jsx("option",{value:"replied",children:"Replied"})]}),u.jsx(p.button,{onClick:()=>s(e.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:u.jsx(F,{className:"h-4 w-4"})})]})]}),u.jsx("div",{className:"p-4 rounded-lg "+(t?"bg-gray-700/30":"bg-white"),children:u.jsx("p",{className:"leading-relaxed "+(t?"text-gray-300":"text-gray-700"),children:e.message})})]},e.id))})]}),Se=({contentData:e,categories:t,searchTerm:a,setSearchTerm:s,selectedCategory:r,setSelectedCategory:l,sortBy:i,setSortBy:n,onEdit:o,onDelete:d,onView:c,isDarkMode:g})=>{const[m,h]=se.useState(1),[y,b]=se.useState("all"),j=[...e.filter(e=>{var t,s;const r=e.title.toLowerCase().includes(a.toLowerCase())||(null==(t=e.description)?void 0:t.toLowerCase().includes(a.toLowerCase())),l="all"===y||(null==(s=e.category)?void 0:s.toLowerCase())===y;return r&&l})].sort((e,t)=>{switch(i){case"latest":return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime();case"oldest":return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime();case"title":return e.title.localeCompare(t.title);case"views":return(t.views||0)-(e.views||0);case"likes":return(t.likes||0)-(e.likes||0);default:return 0}}),f=Math.ceil(j.length/12),N=12*(m-1),C=j.slice(N,N+12),A=e=>{switch(e){case"published":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},S=e=>{switch(e){case"Technique":return"ð¿";case"Video":return"ð¥";default:return"ð"}},T=e=>{const t=new Date(e),a=Math.floor(((new Date).getTime()-t.getTime())/1e3);return 60>a?"Just now":3600>a?Math.floor(a/60)+"m ago":86400>a?Math.floor(a/3600)+"h ago":2592e3>a?Math.floor(a/86400)+"d ago":t.toLocaleDateString()};return u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold "+(g?"text-white":"text-gray-900"),children:"Content List"}),u.jsx("p",{className:"text-sm "+(g?"text-gray-400":"text-gray-600"),children:"Manage your content library"})]})}),u.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[{id:"all",label:"All Content",icon:"ð",count:e.length},{id:"technique",label:"Techniques",icon:"ð¿",count:e.filter(e=>{var t;return"technique"===(null==(t=e.category)?void 0:t.toLowerCase())}).length},{id:"video",label:"Videos",icon:"ð¥",count:e.filter(e=>{var t;return"video"===(null==(t=e.category)?void 0:t.toLowerCase())}).length}].map(e=>u.jsxs(p.button,{onClick:()=>b(e.id),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 "+(y===e.id?g?"bg-emerald-600 text-white shadow-lg":"bg-white text-emerald-700 shadow-lg":g?"text-gray-300 hover:text-white hover:bg-gray-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[u.jsx("span",{className:"text-lg",children:e.icon}),u.jsx("span",{children:e.label}),u.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+(y===e.id?g?"bg-emerald-500 text-white":"bg-emerald-100 text-emerald-700":g?"bg-gray-600 text-gray-300":"bg-gray-200 text-gray-600"),children:e.count})]},e.id))}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsx(le,{className:"p-4 "+(g?"bg-gray-800":"bg-white"),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium "+(g?"text-gray-400":"text-gray-600"),children:"Total Content"}),u.jsx("p",{className:"text-2xl font-bold "+(g?"text-white":"text-gray-900"),children:e.length})]}),u.jsx(x,{className:"w-8 h-8 "+(g?"text-gray-400":"text-gray-600")})]})}),u.jsx(le,{className:"p-4 "+(g?"bg-gray-800":"bg-white"),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium "+(g?"text-gray-400":"text-gray-600"),children:"Published"}),u.jsx("p",{className:"text-2xl font-bold "+(g?"text-white":"text-gray-900"),children:e.filter(e=>"published"===e.status).length})]}),u.jsx(w,{className:"w-8 h-8 text-green-500"})]})}),u.jsx(le,{className:"p-4 "+(g?"bg-gray-800":"bg-white"),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium "+(g?"text-gray-400":"text-gray-600"),children:"Featured"}),u.jsx("p",{className:"text-2xl font-bold "+(g?"text-white":"text-gray-900"),children:e.filter(e=>e.featured).length})]}),u.jsx(k,{className:"w-8 h-8 text-yellow-500"})]})}),u.jsx(le,{className:"p-4 "+(g?"bg-gray-800":"bg-white"),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium "+(g?"text-gray-400":"text-gray-600"),children:"Categories"}),u.jsx("p",{className:"text-2xl font-bold "+(g?"text-white":"text-gray-900"),children:2})]}),u.jsx($,{className:"w-8 h-8 text-blue-500"})]})})]}),u.jsx(le,{className:"p-6 "+(g?"bg-gray-800":"bg-white"),children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 "+(g?"text-gray-300":"text-gray-700"),children:"Search"}),u.jsxs("div",{className:"relative",children:[u.jsx(B,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"text",value:a,onChange:e=>s(e.target.value),placeholder:"Search content...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(g?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 "+(g?"text-gray-300":"text-gray-700"),children:"Sort By"}),u.jsxs("select",{value:i,onChange:e=>n(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(g?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:[u.jsx("option",{value:"latest",children:"Latest"}),u.jsx("option",{value:"oldest",children:"Oldest"}),u.jsx("option",{value:"title",children:"Title A-Z"}),u.jsx("option",{value:"views",children:"Most Views"}),u.jsx("option",{value:"likes",children:"Most Likes"})]})]})]})}),u.jsxs(le,{className:"p-6 "+(g?"bg-gray-800":"bg-white"),children:[0===C.length?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-6xl mb-4",children:"ð"}),u.jsx("h3",{className:"text-lg font-medium "+(g?"text-white":"text-gray-900"),children:"No content found"}),u.jsx("p",{className:"text-sm "+(g?"text-gray-400":"text-gray-600"),children:"Try adjusting your search or filters"})]}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b "+(g?"border-gray-700":"border-gray-200"),children:[u.jsx("th",{className:"text-left py-3 px-4 font-medium "+(g?"text-gray-300":"text-gray-700"),children:"Content"}),u.jsx("th",{className:"text-left py-3 px-4 font-medium "+(g?"text-gray-300":"text-gray-700"),children:"Type"}),u.jsx("th",{className:"text-left py-3 px-4 font-medium "+(g?"text-gray-300":"text-gray-700"),children:"Status"}),u.jsx("th",{className:"text-left py-3 px-4 font-medium "+(g?"text-gray-300":"text-gray-700"),children:"Author"}),u.jsx("th",{className:"text-left py-3 px-4 font-medium "+(g?"text-gray-300":"text-gray-700"),children:"Created"}),u.jsx("th",{className:"text-left py-3 px-4 font-medium "+(g?"text-gray-300":"text-gray-700"),children:"Actions"})]})}),u.jsx("tbody",{children:C.map((e,t)=>{return u.jsxs(p.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},className:`border-b ${g?"border-gray-700 hover:bg-gray-700":"border-gray-200 hover:bg-gray-50"} transition-colors`,children:[u.jsx("td",{className:"py-4 px-4",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0 flex items-center justify-center text-2xl",children:S(e.category)}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("h3",{className:`font-medium text-sm ${g?"text-white":"text-gray-900"} truncate`,children:e.title}),u.jsx("p",{className:`text-xs ${g?"text-gray-400":"text-gray-600"} truncate`,children:e.description})]})]})}),u.jsx("td",{className:"py-4 px-4",children:u.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+(a=e.category,{Technique:"bg-emerald-100 text-emerald-800",Video:"bg-red-100 text-red-800"}[a]||"bg-gray-100 text-gray-800"),children:e.category})}),u.jsx("td",{className:"py-4 px-4",children:u.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+A(e.status),children:e.status})}),u.jsx("td",{className:"py-4 px-4",children:u.jsx("span",{className:"text-sm "+(g?"text-gray-400":"text-gray-600"),children:e.author||e.instructor||"Unknown"})}),u.jsx("td",{className:"py-4 px-4",children:u.jsx("span",{className:"text-sm "+(g?"text-gray-400":"text-gray-600"),children:T(e.createdAt)})}),u.jsx("td",{className:"py-4 px-4",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(p.button,{onClick:()=>c(e),className:`p-2 rounded-lg text-xs font-medium ${g?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:u.jsx(w,{className:"w-4 h-4"})}),u.jsx(p.button,{onClick:()=>o(e),className:`p-2 rounded-lg text-xs font-medium ${g?"bg-blue-600 text-white hover:bg-blue-500":"bg-blue-500 text-white hover:bg-blue-600"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:u.jsx(R,{className:"w-4 h-4"})}),u.jsx(p.button,{onClick:()=>d(e.id,e.category),className:`p-2 rounded-lg text-xs font-medium ${g?"bg-red-600 text-white hover:bg-red-500":"bg-red-500 text-white hover:bg-red-600"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:u.jsx(F,{className:"w-4 h-4"})})]})})]},e.id);var a})})]})}),f>1&&u.jsxs("div",{className:"flex items-center justify-between mt-6",children:[u.jsxs("div",{className:"text-sm "+(g?"text-gray-400":"text-gray-600"),children:["Showing ",N+1," to ",Math.min(N+12,j.length)," of ",j.length," results"]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(p.button,{onClick:()=>h(Math.max(1,m-1)),disabled:1===m,className:`p-2 rounded-lg ${1===m?"bg-gray-200 text-gray-400 cursor-not-allowed":g?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1===m?1:1.05},whileTap:{scale:1===m?1:.95},children:u.jsx(E,{className:"w-4 h-4"})}),Array.from({length:f},(e,t)=>t+1).map(e=>u.jsx(p.button,{onClick:()=>h(e),className:`px-3 py-2 rounded-lg ${e===m?"bg-emerald-500 text-white":g?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:e},e)),u.jsx(p.button,{onClick:()=>h(Math.min(f,m+1)),disabled:m===f,className:`p-2 rounded-lg ${m===f?"bg-gray-200 text-gray-400 cursor-not-allowed":g?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:m===f?1:1.05},whileTap:{scale:m===f?1:.95},children:u.jsx(v,{className:"w-4 h-4"})})]})]})]})]})},Te=({value:e,onChange:t,placeholder:a="Enter content...",isDarkMode:s=!1,className:r=""})=>{const l=se.useRef(null),[i,n]=se.useState(!1);se.useEffect(()=>{l.current&&l.current.innerHTML!==e&&(l.current.innerHTML=e)},[e]);const o=()=>{l.current&&t(l.current.innerHTML)},d=(e,t)=>{var a;document.execCommand(e,!1,t),null==(a=l.current)||a.focus(),o()},c=e=>{if(l.current){const t=window.getSelection();if(t&&t.rangeCount>0){const a=t.getRangeAt(0),s=a.toString();if(s){const t=document.createElement(e);t.textContent=s,a.deleteContents(),a.insertNode(t)}else{const s=document.createElement(e);s.textContent="Heading",a.insertNode(s);const r=document.createRange();r.setStartAfter(s),r.collapse(!0),t.removeAllRanges(),t.addRange(r)}o()}}},x="p-2 rounded transition-colors "+(s?"hover:bg-gray-700 text-gray-300 hover:text-white":"hover:bg-gray-100 text-gray-600 hover:text-gray-800"),g=`w-full min-h-[200px] p-4 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors ${s?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"} ${r}`;return u.jsxs("div",{className:"space-y-3",children:[u.jsx("style",{jsx:!0,children:"\n        .rich-text-editor h1 {\n          font-size: 2rem;\n          font-weight: bold;\n          margin: 1rem 0 0.5rem 0;\n          line-height: 1.2;\n        }\n        .rich-text-editor h2 {\n          font-size: 1.5rem;\n          font-weight: bold;\n          margin: 0.8rem 0 0.4rem 0;\n          line-height: 1.3;\n        }\n        .rich-text-editor h3 {\n          font-size: 1.25rem;\n          font-weight: bold;\n          margin: 0.6rem 0 0.3rem 0;\n          line-height: 1.4;\n        }\n        .rich-text-editor p {\n          margin: 0.5rem 0;\n          line-height: 1.6;\n        }\n        .rich-text-editor ul, .rich-text-editor ol {\n          margin: 0.5rem 0;\n          padding-left: 1.5rem;\n        }\n        .rich-text-editor blockquote {\n          border-left: 4px solid #10b981;\n          padding-left: 1rem;\n          margin: 1rem 0;\n          font-style: italic;\n        }\n      "}),u.jsxs(p.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex flex-wrap gap-1 p-3 border rounded-lg "+(s?"bg-gray-800 border-gray-700":"bg-gray-50 border-gray-200"),children:[u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{type:"button",onClick:()=>d("bold"),className:x,title:"Bold",children:u.jsx(H,{className:"w-4 h-4"})}),u.jsx("button",{type:"button",onClick:()=>d("italic"),className:x,title:"Italic",children:u.jsx(V,{className:"w-4 h-4"})}),u.jsx("button",{type:"button",onClick:()=>d("underline"),className:x,title:"Underline",children:u.jsx(z,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"w-px h-8 bg-gray-300 dark:bg-gray-600 mx-2"}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{type:"button",onClick:()=>c("h1"),className:x,title:"Heading 1",children:u.jsx(I,{className:"w-4 h-4"})}),u.jsx("button",{type:"button",onClick:()=>c("h2"),className:x,title:"Heading 2",children:u.jsx(O,{className:"w-4 h-4"})}),u.jsx("button",{type:"button",onClick:()=>c("h3"),className:x,title:"Heading 3",children:u.jsx(q,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"w-px h-8 bg-gray-300 dark:bg-gray-600 mx-2"}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{type:"button",onClick:()=>d("insertUnorderedList"),className:x,title:"Bullet List",children:u.jsx(G,{className:"w-4 h-4"})}),u.jsx("button",{type:"button",onClick:()=>d("insertOrderedList"),className:x,title:"Numbered List",children:u.jsx(W,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"w-px h-8 bg-gray-300 dark:bg-gray-600 mx-2"}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{type:"button",onClick:()=>d("justifyLeft"),className:x,title:"Align Left",children:u.jsx(Y,{className:"w-4 h-4"})}),u.jsx("button",{type:"button",onClick:()=>d("justifyCenter"),className:x,title:"Align Center",children:u.jsx(J,{className:"w-4 h-4"})}),u.jsx("button",{type:"button",onClick:()=>d("justifyRight"),className:x,title:"Align Right",children:u.jsx(K,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"w-px h-8 bg-gray-300 dark:bg-gray-600 mx-2"}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{type:"button",onClick:()=>{const e=prompt("Enter URL:");e&&d("createLink",e)},className:x,title:"Insert Link",children:u.jsx(Q,{className:"w-4 h-4"})}),u.jsx("button",{type:"button",onClick:()=>{const e=prompt("Enter image URL:");e&&d("insertImage",e)},className:x,title:"Insert Image",children:u.jsx(Z,{className:"w-4 h-4"})}),u.jsx("button",{type:"button",onClick:()=>d("formatBlock","blockquote"),className:x,title:"Quote",children:u.jsx(X,{className:"w-4 h-4"})})]})]}),u.jsx("div",{ref:l,contentEditable:!0,onInput:o,onFocus:()=>n(!0),onBlur:()=>n(!1),className:`rich-text-editor ${g} ${i?"ring-2 ring-emerald-500":""}`,style:{direction:"ltr",textAlign:"left"},dir:"ltr","data-placeholder":a,suppressContentEditableWarning:!0})]})},Me=({type:e,item:t,categories:a,onSave:s,onCancel:r,isDarkMode:l})=>{const[i,d]=se.useState(t||{title:"",author:"",instructor:"",category:a&&a.length>0?a[0]:"",status:"draft",description:"",tags:"",imageUrl:"",videoUrl:"",buyLink:"",borrowLink:"",embedCode:"",duration:"",isbn:"",difficulty:"beginner",rating:5,price:0,featured:!1,type:"general"}),c="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(l?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),x="block font-semibold mb-2 "+(l?"text-gray-300":"text-gray-700");return u.jsxs("form",{onSubmit:e=>{e.preventDefault();const t=o(n({},i),{tags:i.tags?Array.isArray(i.tags)?i.tags:"string"==typeof i.tags?i.tags.split(",").map(e=>e.trim()):[]:[],rating:parseFloat(i.rating)||0,price:parseFloat(i.price)||0});s(t)},className:"space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsxs("h2",{className:"text-2xl font-bold "+(l?"text-white":"text-gray-800"),children:[t?"Edit":"Create"," ",e.charAt(0).toUpperCase()+e.slice(1,-1)]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Title *"}),u.jsx("input",{type:"text",value:i.title,onChange:e=>d(o(n({},i),{title:e.target.value})),className:c,required:!0})]}),"suggestions"!==e&&u.jsxs("div",{children:[u.jsxs("label",{className:x,children:["videos"===e?"Instructor":"Author"," *"]}),u.jsx("input",{type:"text",value:"videos"===e?i.instructor:i.author,onChange:t=>d(o(n({},i),{["videos"===e?"instructor":"author"]:t.target.value})),className:c,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Category *"}),u.jsx("select",{value:i.category,onChange:e=>d(o(n({},i),{category:e.target.value})),className:c,required:!0,children:a&&Array.isArray(a)&&a.map(e=>u.jsx("option",{value:e,children:e},e))})]}),u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Status"}),u.jsxs("select",{value:i.status,onChange:e=>d(o(n({},i),{status:e.target.value})),className:c,children:[u.jsx("option",{value:"draft",children:"Draft"}),u.jsx("option",{value:"published",children:"Published"})]})]}),("books"===e||"suggestions"===e)&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Rating (1-5)"}),u.jsx("input",{type:"number",min:"1",max:"5",step:"0.1",value:i.rating,onChange:e=>d(o(n({},i),{rating:e.target.value})),className:c})]}),u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Product Link"}),u.jsx("input",{type:"url",value:i.link,onChange:e=>d(o(n({},i),{link:e.target.value})),className:c,placeholder:"https://example.com/product"})]})]}),"videos"===e&&u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Duration"}),u.jsx("input",{type:"text",placeholder:"e.g., 12:45",value:i.duration,onChange:e=>d(o(n({},i),{duration:e.target.value})),className:c})]}),"books"===e&&u.jsxs("div",{children:[u.jsx("label",{className:x,children:"ISBN"}),u.jsx("input",{type:"text",value:i.isbn,onChange:e=>d(o(n({},i),{isbn:e.target.value})),className:c})]}),"techniques"===e&&u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Difficulty"}),u.jsxs("select",{value:i.difficulty,onChange:e=>d(o(n({},i),{difficulty:e.target.value})),className:c,children:[u.jsx("option",{value:"beginner",children:"Beginner"}),u.jsx("option",{value:"intermediate",children:"Intermediate"}),u.jsx("option",{value:"advanced",children:"Advanced"})]})]}),"suggestions"===e&&u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Type"}),u.jsxs("select",{value:i.type,onChange:e=>d(o(n({},i),{type:e.target.value})),className:c,children:[u.jsx("option",{value:"tool",children:"Tool"}),u.jsx("option",{value:"accessory",children:"Accessory"}),u.jsx("option",{value:"book",children:"Book"}),u.jsx("option",{value:"general",children:"General"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Content *"}),u.jsx(Te,{value:i.content||i.description||"",onChange:e=>d(o(n({},i),{content:e})),placeholder:"Write detailed content here...",isDarkMode:l,className:"min-h-[300px]"})]}),u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Description (Short Summary)"}),u.jsx("textarea",{value:i.description,onChange:e=>d(o(n({},i),{description:e.target.value})),className:c+" h-20 resize-none",placeholder:"Brief description for preview..."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Tags (comma-separated)"}),u.jsx("input",{type:"text",value:Array.isArray(i.tags)?i.tags.join(", "):i.tags,onChange:e=>d(o(n({},i),{tags:e.target.value})),className:c,placeholder:"e.g., organic, beginner, indoor"})]}),u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Featured Image"}),u.jsx(we,{value:i.imageUrl,onChange:e=>d(o(n({},i),{imageUrl:e})),onError:e=>alert(e),className:"mt-1",placeholder:"Upload featured image"})]}),"videos"===e&&u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Video URL"}),u.jsx("input",{type:"url",value:i.videoUrl,onChange:e=>d(o(n({},i),{videoUrl:e.target.value})),className:c})]}),("books"===e||"suggestions"===e)&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Buy Link"}),u.jsx("input",{type:"url",value:i.buyLink,onChange:e=>d(o(n({},i),{buyLink:e.target.value})),className:c})]}),"books"===e&&u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Borrow Link"}),u.jsx("input",{type:"url",value:i.borrowLink,onChange:e=>d(o(n({},i),{borrowLink:e.target.value})),className:c})]})]})]}),"videos"===e&&u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Embed Code"}),u.jsx("textarea",{value:i.embedCode,onChange:e=>d(o(n({},i),{embedCode:e.target.value})),className:c+" h-24 resize-none",placeholder:"<iframe src='...'></iframe>"})]}),u.jsx("div",{className:"flex items-center space-x-4",children:u.jsxs("label",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"checkbox",checked:i.featured,onChange:e=>d(o(n({},i),{featured:e.target.checked})),className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),u.jsx("span",{className:x.replace("block","inline"),children:"Featured"})]})}),u.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[u.jsx(p.button,{type:"button",onClick:r,className:"px-6 py-3 rounded-lg font-semibold transition-colors "+(l?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"),whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"}),u.jsx(p.button,{type:"submit",className:"px-6 py-3 bg-emerald-500 text-white rounded-lg font-semibold hover:bg-emerald-600 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:t?"Update":"Create"})]})]})},Ue=({categories:e,onSave:t,onCancel:a,isDarkMode:s})=>{var r;const[l,i]=se.useState(""),n=[{id:"Technique",name:"Technique",description:"Create detailed technique articles with rich content",icon:ee,color:"from-emerald-500 to-emerald-600"},{id:"Video",name:"Video",description:"Create video content and tutorials with rich descriptions",icon:A,color:"from-red-500 to-red-600"}],o=()=>{l?i(""):a()};return u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(p.button,{onClick:o,className:`p-2 rounded-lg ${s?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:u.jsx(U,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold "+(s?"text-white":"text-gray-800"),children:l?"Create "+(null==(r=n.find(e=>e.id===l))?void 0:r.name):"Create New Content"}),u.jsx("p",{className:"text-sm "+(s?"text-gray-400":"text-gray-600"),children:l?"Fill in the content details":"Choose a content type to get started"})]})]})}),l?u.jsx(le,{className:"p-6 "+(s?"bg-gray-800":"bg-white"),children:u.jsx(Me,{type:l,item:null,categories:["Technique","Video"],onSave:e=>{t(e)},onCancel:o,isDarkMode:s})}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(e=>{const t=e.icon;return u.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{return t=e.id,void i(t);var t},className:"cursor-pointer rounded-lg border-2 border-dashed p-6 text-center transition-all duration-200 "+(s?"border-gray-600 hover:border-emerald-500 bg-gray-800 hover:bg-gray-700":"border-gray-300 hover:border-emerald-500 bg-white hover:bg-gray-50"),children:[u.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r ${e.color} flex items-center justify-center`,children:u.jsx(t,{className:"w-8 h-8 text-white"})}),u.jsx("h3",{className:"text-lg font-semibold mb-2 "+(s?"text-white":"text-gray-900"),children:e.name}),u.jsx("p",{className:"text-sm "+(s?"text-gray-400":"text-gray-600"),children:e.description})]},e.id)})})]})},De=({content:e,categories:t,onSave:a,onCancel:s,isDarkMode:r})=>u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(p.button,{onClick:s,className:`p-2 rounded-lg ${r?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:u.jsx(U,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold "+(r?"text-white":"text-gray-800"),children:"Edit Content"}),u.jsx("p",{className:"text-sm "+(r?"text-gray-400":"text-gray-600"),children:"Update content information"})]})]})}),u.jsx(le,{className:"p-6 "+(r?"bg-gray-800":"bg-white"),children:u.jsx(Me,{type:e.category,item:e,categories:["Technique","Video"],onSave:a,onCancel:s,isDarkMode:r})})]}),Pe=({activeTab:e,contentData:t,categories:a,searchTerm:s,selectedCategory:r,sortBy:l,isDarkMode:i,editingItem:n,onSearchTermChange:o,onSelectedCategoryChange:d,onSortByChange:c,onEdit:x,onDelete:g,onView:m,onCreate:h})=>u.jsxs("div",{className:"space-y-6",children:["content-list"===e&&u.jsx(Se,{contentData:t,categories:a,searchTerm:s,setSearchTerm:o,selectedCategory:r,setSelectedCategory:d,sortBy:l,setSortBy:c,onEdit:e=>{var t;const a="technique"===(null==(t=e.category)?void 0:t.toLowerCase())?"articles":"videos";x(e,a)},onDelete:g,onView:m,isDarkMode:i}),"content-create"===e&&u.jsx(Ue,{categories:a,onSave:e=>{h(e)},onCancel:()=>{},isDarkMode:i}),"content-edit"===e&&n&&u.jsx(De,{content:n,categories:a,onSave:e=>{h(e)},onCancel:()=>{x(null,"content-list")},isDarkMode:i})]}),Le=({products:e,searchTerm:t,setSearchTerm:a,selectedCategory:s,setSelectedCategory:r,sortBy:l,setSortBy:i,onEdit:n,onDelete:o,onView:d,categories:c,isDarkMode:x})=>{const[m,h]=se.useState(1),[y,b]=se.useState("all"),j=[...e.filter(e=>{var a;const r=e.name.toLowerCase().includes(t.toLowerCase())||(null==(a=e.description)?void 0:a.toLowerCase().includes(t.toLowerCase())),l="all"===y||e.category===y,i="all"===s||e.category===s;return r&&l&&i})].sort((e,t)=>{switch(l){case"latest":return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime();case"oldest":return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime();case"title":return e.name.localeCompare(t.name);case"views":return(t.views||0)-(e.views||0);case"likes":return(t.likes||0)-(e.likes||0);case"price-low":return(e.price||0)-(t.price||0);case"price-high":return(t.price||0)-(e.price||0);default:return 0}}),f=Math.ceil(j.length/12),N=12*(m-1),C=j.slice(N,N+12),A=e=>{switch(e){case"published":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},S=e=>{switch(e){case"tool":return"ð§";case"book":return"ð";case"pot":return"ðª´";case"accessory":return"ð·ï¸";case"suggestion":return"ð¡";default:return"ð¦"}};return u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold "+(x?"text-white":"text-gray-900"),children:"Product List"}),u.jsx("p",{className:"text-sm "+(x?"text-gray-400":"text-gray-600"),children:"Manage your product catalog"})]})}),u.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[{id:"all",label:"All Products",icon:"ð¦",count:e.length},{id:"tool",label:"Tools",icon:"ð§",count:e.filter(e=>"tool"===e.category).length},{id:"book",label:"Books",icon:"ð",count:e.filter(e=>"book"===e.category).length},{id:"pot",label:"Pots",icon:"ðª´",count:e.filter(e=>"pot"===e.category).length},{id:"accessory",label:"Accessories",icon:"ð·ï¸",count:e.filter(e=>"accessory"===e.category).length},{id:"suggestion",label:"Suggestions",icon:"ð¡",count:e.filter(e=>"suggestion"===e.category).length}].map(e=>u.jsxs(p.button,{onClick:()=>b(e.id),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 "+(y===e.id?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[u.jsx("span",{className:"text-lg",children:e.icon}),u.jsx("span",{className:"hidden sm:inline",children:e.label}),u.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+(y===e.id?"bg-gray-200 dark:bg-gray-500 text-gray-700 dark:text-gray-200":"bg-gray-100 dark:bg-gray-600 text-gray-600 dark:text-gray-400"),children:e.count})]},e.id))}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsx(le,{className:"p-4 "+(x?"bg-gray-800":"bg-white"),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium "+(x?"text-gray-400":"text-gray-600"),children:"Total Products"}),u.jsx("p",{className:"text-2xl font-bold "+(x?"text-white":"text-gray-900"),children:e.length})]}),u.jsx(g,{className:"w-8 h-8 "+(x?"text-gray-400":"text-gray-600")})]})}),u.jsx(le,{className:"p-4 "+(x?"bg-gray-800":"bg-white"),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium "+(x?"text-gray-400":"text-gray-600"),children:"Published"}),u.jsx("p",{className:"text-2xl font-bold "+(x?"text-white":"text-gray-900"),children:e.filter(e=>"published"===e.status).length})]}),u.jsx(w,{className:"w-8 h-8 text-green-500"})]})}),u.jsx(le,{className:"p-4 "+(x?"bg-gray-800":"bg-white"),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium "+(x?"text-gray-400":"text-gray-600"),children:"Featured"}),u.jsx("p",{className:"text-2xl font-bold "+(x?"text-white":"text-gray-900"),children:e.filter(e=>e.is_featured).length})]}),u.jsx(k,{className:"w-8 h-8 text-yellow-500"})]})}),u.jsx(le,{className:"p-4 "+(x?"bg-gray-800":"bg-white"),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium "+(x?"text-gray-400":"text-gray-600"),children:"Avg Rating"}),u.jsx("p",{className:"text-2xl font-bold "+(x?"text-white":"text-gray-900"),children:e.length>0?(e.reduce((e,t)=>e+(t.rating||0),0)/e.length).toFixed(1):"0.0"})]}),u.jsx(k,{className:"w-8 h-8 text-blue-500"})]})})]}),u.jsx(le,{className:"p-6 "+(x?"bg-gray-800":"bg-white"),children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 "+(x?"text-gray-300":"text-gray-700"),children:"Search"}),u.jsxs("div",{className:"relative",children:[u.jsx(B,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"text",value:t,onChange:e=>a(e.target.value),placeholder:"Search products...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(x?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 "+(x?"text-gray-300":"text-gray-700"),children:"Category"}),u.jsxs("select",{value:s,onChange:e=>r(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(x?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:[u.jsx("option",{value:"all",children:"All Categories"}),u.jsx("option",{value:"tool",children:"Tool"}),u.jsx("option",{value:"book",children:"Book"}),u.jsx("option",{value:"pot",children:"Pot"}),u.jsx("option",{value:"accessory",children:"Accessory"}),u.jsx("option",{value:"suggestion",children:"Suggestion"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 "+(x?"text-gray-300":"text-gray-700"),children:"Sort By"}),u.jsxs("select",{value:l,onChange:e=>i(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(x?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:[u.jsx("option",{value:"latest",children:"Latest"}),u.jsx("option",{value:"oldest",children:"Oldest"}),u.jsx("option",{value:"title",children:"Title A-Z"}),u.jsx("option",{value:"views",children:"Most Views"}),u.jsx("option",{value:"likes",children:"Most Likes"}),u.jsx("option",{value:"price-low",children:"Price: Low to High"}),u.jsx("option",{value:"price-high",children:"Price: High to Low"})]})]})]})}),u.jsxs(le,{className:"p-6 "+(x?"bg-gray-800":"bg-white"),children:[0===C.length?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-6xl mb-4",children:"ð¦"}),u.jsx("h3",{className:"text-lg font-medium "+(x?"text-white":"text-gray-900"),children:"No products found"}),u.jsx("p",{className:"text-sm "+(x?"text-gray-400":"text-gray-600"),children:"Try adjusting your search or filters"})]}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b "+(x?"border-gray-700":"border-gray-200"),children:[u.jsx("th",{className:"text-left py-3 px-4 font-medium "+(x?"text-gray-300":"text-gray-700"),children:"Product"}),u.jsx("th",{className:"text-left py-3 px-4 font-medium "+(x?"text-gray-300":"text-gray-700"),children:"Category"}),u.jsx("th",{className:"text-left py-3 px-4 font-medium "+(x?"text-gray-300":"text-gray-700"),children:"Status"}),u.jsx("th",{className:"text-left py-3 px-4 font-medium "+(x?"text-gray-300":"text-gray-700"),children:"Price"}),u.jsx("th",{className:"text-left py-3 px-4 font-medium "+(x?"text-gray-300":"text-gray-700"),children:"Rating"}),u.jsx("th",{className:"text-left py-3 px-4 font-medium "+(x?"text-gray-300":"text-gray-700"),children:"Actions"})]})}),u.jsx("tbody",{children:C.map((e,t)=>{return u.jsxs(p.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},className:`border-b ${x?"border-gray-700 hover:bg-gray-700":"border-gray-200 hover:bg-gray-50"} transition-colors`,children:[u.jsx("td",{className:"py-4 px-4",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0",children:e.image?u.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center",children:u.jsx(g,{className:"w-6 h-6 text-gray-400"})})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("h3",{className:`font-medium text-sm ${x?"text-white":"text-gray-900"} truncate`,children:e.name}),u.jsx("p",{className:`text-xs ${x?"text-gray-400":"text-gray-600"} truncate`,children:e.description})]})]})}),u.jsx("td",{className:"py-4 px-4",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-sm",children:S(e.category)}),u.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+(s=e.category,{tool:"bg-orange-100 text-orange-800",book:"bg-purple-100 text-purple-800",pot:"bg-green-100 text-green-800",accessory:"bg-blue-100 text-blue-800",suggestion:"bg-yellow-100 text-yellow-800"}[s]||"bg-gray-100 text-gray-800"),children:e.category.charAt(0).toUpperCase()+e.category.slice(1)})]})}),u.jsx("td",{className:"py-4 px-4",children:u.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+A(e.status),children:e.status})}),u.jsx("td",{className:"py-4 px-4",children:u.jsx("span",{className:"text-sm font-medium "+(x?"text-white":"text-gray-900"),children:(a=e.price,a?"$"+a.toFixed(2):"Free")})}),u.jsx("td",{className:"py-4 px-4",children:u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(k,{className:"w-4 h-4 text-yellow-500 fill-current"}),u.jsx("span",{className:"text-sm "+(x?"text-gray-400":"text-gray-600"),children:e.rating||0})]})}),u.jsx("td",{className:"py-4 px-4",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(p.button,{onClick:()=>d(e),className:`p-2 rounded-lg text-xs font-medium ${x?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:u.jsx(w,{className:"w-4 h-4"})}),u.jsx(p.button,{onClick:()=>n(e),className:`p-2 rounded-lg text-xs font-medium ${x?"bg-blue-600 text-white hover:bg-blue-500":"bg-blue-500 text-white hover:bg-blue-600"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:u.jsx(R,{className:"w-4 h-4"})}),u.jsx(p.button,{onClick:()=>o(e.id),className:`p-2 rounded-lg text-xs font-medium ${x?"bg-red-600 text-white hover:bg-red-500":"bg-red-500 text-white hover:bg-red-600"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:u.jsx(F,{className:"w-4 h-4"})})]})})]},e.id);var a,s})})]})}),f>1&&u.jsxs("div",{className:"flex items-center justify-between mt-6",children:[u.jsxs("div",{className:"text-sm "+(x?"text-gray-400":"text-gray-600"),children:["Showing ",N+1," to ",Math.min(N+12,j.length)," of ",j.length," results"]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(p.button,{onClick:()=>h(Math.max(1,m-1)),disabled:1===m,className:`p-2 rounded-lg ${1===m?"bg-gray-200 text-gray-400 cursor-not-allowed":x?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1===m?1:1.05},whileTap:{scale:1===m?1:.95},children:u.jsx(E,{className:"w-4 h-4"})}),Array.from({length:f},(e,t)=>t+1).map(e=>u.jsx(p.button,{onClick:()=>h(e),className:`px-3 py-2 rounded-lg ${e===m?"bg-emerald-500 text-white":x?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:e},e)),u.jsx(p.button,{onClick:()=>h(Math.min(f,m+1)),disabled:m===f,className:`p-2 rounded-lg ${m===f?"bg-gray-200 text-gray-400 cursor-not-allowed":x?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:m===f?1:1.05},whileTap:{scale:m===f?1:.95},children:u.jsx(v,{className:"w-4 h-4"})})]})]})]})]})},_e=({type:e,item:t,categories:a,onSave:s,onCancel:r,isDarkMode:l})=>{const[i,d]=se.useState(t||{name:"",category:"tool",subcategory:"",status:"draft",description:"",content:"",image:"",images_json:"",brand:"",material:"",size:"",color:"",price:0,rating:0,is_featured:!1,is_published:!1,views:0,likes:0,usage:"",video_url:"",author:"",pages:0,published_year:(new Date).getFullYear(),drainage_holes:!1,is_waterproof:!1,is_durable:!1,difficulty_level:"beginner",season:"",plant_type:"",estimated_time:"",tags:[],link:""}),c="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(l?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),x="block font-semibold mb-2 "+(l?"text-gray-300":"text-gray-700");return u.jsxs("form",{onSubmit:e=>{e.preventDefault();const t=o(n({},i),{tags:i.tags?Array.isArray(i.tags)?i.tags:i.tags.split(",").map(e=>e.trim()):[],rating:parseFloat(i.rating)||0,price:parseFloat(i.price)||0});s(t)},className:"space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsxs("h2",{className:"text-2xl font-bold "+(l?"text-white":"text-gray-800"),children:[t?"Edit":"Create"," Product"]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Name *"}),u.jsx("input",{type:"text",value:i.name||"",onChange:e=>d(o(n({},i),{name:e.target.value})),className:c,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Category *"}),u.jsxs("select",{value:i.category||"tool",onChange:e=>d(o(n({},i),{category:e.target.value})),className:c,required:!0,children:[u.jsx("option",{value:"tool",children:"Tool"}),u.jsx("option",{value:"book",children:"Book"}),u.jsx("option",{value:"pot",children:"Pot"}),u.jsx("option",{value:"accessory",children:"Accessory"}),u.jsx("option",{value:"suggestion",children:"Suggestion"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Subcategory"}),u.jsx("input",{type:"text",value:i.subcategory||"",onChange:e=>d(o(n({},i),{subcategory:e.target.value})),className:c,placeholder:"e.g., CÃ´ng cá»¥ ÄÃ o Äáº¥t, SÃ¡ch nghá» thuáº­t..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Status *"}),u.jsxs("select",{value:i.status||"draft",onChange:e=>d(o(n({},i),{status:e.target.value})),className:c,children:[u.jsx("option",{value:"draft",children:"Draft"}),u.jsx("option",{value:"published",children:"Published"}),u.jsx("option",{value:"archived",children:"Archived"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Price ($)"}),u.jsx("input",{type:"number",step:"0.01",min:"0",value:i.price||0,onChange:e=>d(o(n({},i),{price:parseFloat(e.target.value)||0})),className:c,placeholder:"0.00"})]}),u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Brand"}),u.jsx("input",{type:"text",value:i.brand||"",onChange:e=>d(o(n({},i),{brand:e.target.value})),className:c,placeholder:"Product brand"})]}),u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Material"}),u.jsx("input",{type:"text",value:i.material||"",onChange:e=>d(o(n({},i),{material:e.target.value})),className:c,placeholder:"Product material"})]}),u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Size"}),u.jsx("input",{type:"text",value:i.size||"",onChange:e=>d(o(n({},i),{size:e.target.value})),className:c,placeholder:"Product size"})]}),u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Color"}),u.jsx("input",{type:"text",value:i.color||"",onChange:e=>d(o(n({},i),{color:e.target.value})),className:c,placeholder:"Product color"})]}),u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Rating (1-5)"}),u.jsx("input",{type:"number",min:"1",max:"5",step:"0.1",value:i.rating||5,onChange:e=>d(o(n({},i),{rating:parseFloat(e.target.value)||5})),className:c})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Description *"}),u.jsx("textarea",{value:i.description||"",onChange:e=>d(o(n({},i),{description:e.target.value})),className:c+" min-h-[120px]",placeholder:"Product description...",required:!0})]}),"tool"===i.category&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Usage"}),u.jsx("textarea",{value:i.usage||"",onChange:e=>d(o(n({},i),{usage:e.target.value})),className:c,rows:2,placeholder:"How to use this tool"})]}),u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Video URL"}),u.jsx("input",{type:"url",value:i.video_url||"",onChange:e=>d(o(n({},i),{video_url:e.target.value})),className:c,placeholder:"https://youtube.com/watch?v=..."})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:x,children:"Product Link"}),u.jsx("input",{type:"url",value:i.link||"",onChange:e=>d(o(n({},i),{link:e.target.value})),className:c,placeholder:"https://shopee.vn/..."})]})]}),"book"===i.category&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Author"}),u.jsx("input",{type:"text",value:i.author||"",onChange:e=>d(o(n({},i),{author:e.target.value})),className:c,placeholder:"Author name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Pages"}),u.jsx("input",{type:"number",value:i.pages||0,onChange:e=>d(o(n({},i),{pages:parseInt(e.target.value)||0})),className:c,placeholder:"Number of pages"})]}),u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Published Year"}),u.jsx("input",{type:"number",value:i.published_year||(new Date).getFullYear(),onChange:e=>d(o(n({},i),{published_year:parseInt(e.target.value)||(new Date).getFullYear()})),className:c,placeholder:"2024"})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:x,children:"Product Link"}),u.jsx("input",{type:"url",value:i.link||"",onChange:e=>d(o(n({},i),{link:e.target.value})),className:c,placeholder:"https://tiki.vn/..."})]})]}),"pot"===i.category&&u.jsx("div",{children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"drainage_holes",checked:i.drainage_holes||!1,onChange:e=>d(o(n({},i),{drainage_holes:e.target.checked})),className:"w-4 h-4 text-emerald-600 bg-gray-100 border-gray-300 rounded focus:ring-emerald-500"}),u.jsx("label",{htmlFor:"drainage_holes",className:"ml-2 text-sm font-medium "+(l?"text-gray-300":"text-gray-700"),children:"Has Drainage Holes"})]})}),"accessory"===i.category&&u.jsxs("div",{className:"flex items-center space-x-6",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"is_waterproof",checked:i.is_waterproof||!1,onChange:e=>d(o(n({},i),{is_waterproof:e.target.checked})),className:"w-4 h-4 text-emerald-600 bg-gray-100 border-gray-300 rounded focus:ring-emerald-500"}),u.jsx("label",{htmlFor:"is_waterproof",className:"ml-2 text-sm font-medium "+(l?"text-gray-300":"text-gray-700"),children:"Waterproof"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"is_durable",checked:i.is_durable||!1,onChange:e=>d(o(n({},i),{is_durable:e.target.checked})),className:"w-4 h-4 text-emerald-600 bg-gray-100 border-gray-300 rounded focus:ring-emerald-500"}),u.jsx("label",{htmlFor:"is_durable",className:"ml-2 text-sm font-medium "+(l?"text-gray-300":"text-gray-700"),children:"Durable"})]})]}),"suggestion"===i.category&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Difficulty Level"}),u.jsxs("select",{value:i.difficulty_level||"beginner",onChange:e=>d(o(n({},i),{difficulty_level:e.target.value})),className:c,children:[u.jsx("option",{value:"beginner",children:"Beginner"}),u.jsx("option",{value:"intermediate",children:"Intermediate"}),u.jsx("option",{value:"advanced",children:"Advanced"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Season"}),u.jsx("input",{type:"text",value:i.season||"",onChange:e=>d(o(n({},i),{season:e.target.value})),className:c,placeholder:"e.g., Spring, Summer, All year"})]}),u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Plant Type"}),u.jsx("input",{type:"text",value:i.plant_type||"",onChange:e=>d(o(n({},i),{plant_type:e.target.value})),className:c,placeholder:"e.g., Indoor plants, Vegetables"})]}),u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Estimated Time"}),u.jsx("input",{type:"text",value:i.estimated_time||"",onChange:e=>d(o(n({},i),{estimated_time:e.target.value})),className:c,placeholder:"e.g., 30 minutes, 2 hours"})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:x,children:"Link"}),u.jsx("input",{type:"url",value:i.link||"",onChange:e=>d(o(n({},i),{link:e.target.value})),className:c,placeholder:"https://blog.example.com/..."})]})]}),"suggestion"===i.category&&u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Tags"}),u.jsx("input",{type:"text",value:Array.isArray(i.tags)?i.tags.join(", "):i.tags||"",onChange:e=>d(o(n({},i),{tags:e.target.value})),className:c,placeholder:"tag1, tag2, tag3"})]}),u.jsxs("div",{children:[u.jsx("label",{className:x,children:"Featured Image"}),u.jsx(we,{value:i.image||"",onChange:e=>d(o(n({},i),{image:e})),onError:e=>alert(e),className:"mt-1",placeholder:"Upload product image"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"featured",checked:i.is_featured||!1,onChange:e=>d(o(n({},i),{is_featured:e.target.checked})),className:"w-4 h-4 text-emerald-600 bg-gray-100 border-gray-300 rounded focus:ring-emerald-500"}),u.jsx("label",{htmlFor:"featured",className:"ml-2 text-sm font-medium "+(l?"text-gray-300":"text-gray-700"),children:"Featured Product"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"published",checked:i.is_published||!1,onChange:e=>d(o(n({},i),{is_published:e.target.checked})),className:"w-4 h-4 text-emerald-600 bg-gray-100 border-gray-300 rounded focus:ring-emerald-500"}),u.jsx("label",{htmlFor:"published",className:"ml-2 text-sm font-medium "+(l?"text-gray-300":"text-gray-700"),children:"Published"})]})]}),u.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6",children:[u.jsx(p.button,{type:"button",onClick:r,className:"px-6 py-3 rounded-lg font-medium transition-colors "+(l?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-700 hover:bg-gray-300"),whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"}),u.jsx(p.button,{type:"submit",className:"px-6 py-3 bg-emerald-500 text-white rounded-lg font-medium hover:bg-emerald-600 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:t?"Update Product":"Create Product"})]})]})},Be=({categories:e,onSave:t,onCancel:a,isDarkMode:s})=>(se.useState({title:"",category:"Tool",status:"draft",description:"",tags:"",imageUrl:"",link:"",type:"product",featured:!1,brand:"",material:"",size:"",color:"",price:0,rating:5,isWaterproof:!1,isDurable:!1}),u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(p.button,{onClick:a,className:`p-2 rounded-lg ${s?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:u.jsx(U,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold "+(s?"text-white":"text-gray-800"),children:"Create New Product"}),u.jsx("p",{className:"text-sm "+(s?"text-gray-400":"text-gray-600"),children:"Add a new product to your catalog"})]})]})}),u.jsx(le,{className:"p-6 "+(s?"bg-gray-800":"bg-white"),children:u.jsx(_e,{type:"products",item:null,categories:["Tool","Pot","Accessory","Suggestion","Book"],onSave:t,onCancel:a,isDarkMode:s})})]})),Fe=({product:e,categories:t,onSave:a,onCancel:s,isDarkMode:r})=>u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(p.button,{onClick:s,className:`p-2 rounded-lg ${r?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-600 hover:bg-gray-300"} transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:u.jsx(U,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold "+(r?"text-white":"text-gray-800"),children:"Edit Product"}),u.jsx("p",{className:"text-sm "+(r?"text-gray-400":"text-gray-600"),children:"Update product information"})]})]})}),u.jsx(le,{className:"p-6 "+(r?"bg-gray-800":"bg-white"),children:u.jsx(_e,{type:"products",item:e,categories:["Tool","Pot","Accessory","Suggestion","Book"],onSave:a,onCancel:s,isDarkMode:r})})]}),$e=({activeTab:e,isDarkMode:t,products:a,searchTerm:s,setSearchTerm:r,selectedCategory:l,setSelectedCategory:i,sortBy:o,setSortBy:d,onEdit:c,onDelete:x,onView:g,onCreate:m,categories:h})=>{const[p,y]=se.useState(null);return u.jsxs("div",{className:"space-y-6",children:["product-list"===e&&u.jsx(Le,{products:a,searchTerm:s,setSearchTerm:r,selectedCategory:l,setSelectedCategory:i,sortBy:o,setSortBy:d,onEdit:e=>{y(e)},onDelete:x,onView:g,categories:h,isDarkMode:t}),"product-create"===e&&u.jsx(Be,{categories:h,onSave:e=>{m(e)},onCancel:()=>{},isDarkMode:t}),"product-edit"===e&&p&&u.jsx(Fe,{product:p,categories:h,onSave:e=>{p&&c(n(n({},p),e)),y(null)},onCancel:()=>{y(null)},isDarkMode:t})]})},Re=e=>{var t,a,s,r;return{id:e.id.toString(),title:e.title,author:(null==(t=e.author)?void 0:t.name)||"Admin",category:"Technique",status:e.status||"published",views:e.views||0,likes:e.likes||0,createdAt:(null==(a=e.createdAt)?void 0:a.split("T")[0])||(new Date).toISOString().split("T")[0],updatedAt:(null==(s=e.updatedAt)?void 0:s.split("T")[0])||(new Date).toISOString().split("T")[0],featured:e.featured||!1,description:e.excerpt||(null==(r=e.body)?void 0:r.substring(0,150))+"...",tags:e.tags||[],imageUrl:e.image||"/image.png"}},Ee=e=>{var t,a;return{id:e.id.toString(),title:e.title,instructor:e.instructor||"Admin",category:"Video",status:e.status||"published",views:e.views||0,likes:e.likes||0,rating:e.rating||0,createdAt:(null==(t=e.createdAt)?void 0:t.split("T")[0])||(new Date).toISOString().split("T")[0],updatedAt:(null==(a=e.updatedAt)?void 0:a.split("T")[0])||(new Date).toISOString().split("T")[0],description:e.description,videoUrl:e.embed_url,imageUrl:e.thumbnail||"/image.png"}},He=e=>{var t,a;return{id:e.id.toString(),title:e.title,author:e.author||"Unknown Author",category:"Book",status:"published",rating:e.rating||4.5,createdAt:(null==(t=e.createdAt)?void 0:t.split("T")[0])||(new Date).toISOString().split("T")[0],updatedAt:(null==(a=e.updatedAt)?void 0:a.split("T")[0])||(new Date).toISOString().split("T")[0],description:e.description,imageUrl:e.image||"/image.png"}},Ve=e=>{var t,a;return{id:e.id.toString(),title:e.name,category:"Tool",status:e.status||"published",link:e.link,brand:e.brand,material:e.material,size:e.size,color:e.color,isWaterproof:e.is_waterproof||!1,isDurable:e.is_durable||!1,views:e.views||0,likes:e.likes||0,createdAt:(null==(t=e.createdAt)?void 0:t.split("T")[0])||(new Date).toISOString().split("T")[0],updatedAt:(null==(a=e.updatedAt)?void 0:a.split("T")[0])||(new Date).toISOString().split("T")[0],description:e.description,content:e.content,cover:e.cover,imageUrl:e.images_json?JSON.parse(e.images_json)[0]:"/image.png"}},ze=e=>{var t,a;return{id:e.id.toString(),title:e.name,category:"Pot",status:e.status||"published",link:e.link,brand:e.brand,material:e.material,size:e.size,color:e.color,isWaterproof:e.is_waterproof||!1,isDurable:e.is_durable||!1,views:e.views||0,likes:e.likes||0,createdAt:(null==(t=e.createdAt)?void 0:t.split("T")[0])||(new Date).toISOString().split("T")[0],updatedAt:(null==(a=e.updatedAt)?void 0:a.split("T")[0])||(new Date).toISOString().split("T")[0],description:e.description,content:e.content,cover:e.cover,imageUrl:e.image||"/image.png"}},Ie=e=>{var t,a;return{id:e.id.toString(),title:e.name,category:"Accessory",status:e.status||"published",link:e.link,brand:e.brand,material:e.material,size:e.size,color:e.color,isWaterproof:e.is_waterproof||!1,isDurable:e.is_durable||!1,views:e.views||0,likes:e.likes||0,rating:e.rating||4.5,createdAt:(null==(t=e.createdAt)?void 0:t.split("T")[0])||(new Date).toISOString().split("T")[0],updatedAt:(null==(a=e.updatedAt)?void 0:a.split("T")[0])||(new Date).toISOString().split("T")[0],description:e.description,content:e.content,cover:e.cover,imageUrl:e.image||"/image.png"}},Oe=e=>{var t,a;return{id:e.id.toString(),title:e.title,category:"Suggestion",status:"published",rating:e.rating||4.5,views:e.views||0,likes:e.likes||0,createdAt:(null==(t=e.createdAt)?void 0:t.split("T")[0])||(new Date).toISOString().split("T")[0],updatedAt:(null==(a=e.updatedAt)?void 0:a.split("T")[0])||(new Date).toISOString().split("T")[0],description:e.description,imageUrl:e.image||"/image.png",featured:e.is_featured||!1,difficulty:e.difficulty_level||"beginner",tags:e.tags||[]}},qe=()=>{var e;const{user:t}=ie(),{isDarkMode:a}=re(),[s,r]=se.useState("overview"),[l,i]=se.useState(""),[c,x]=se.useState("all"),[g,m]=se.useState("latest"),[h,y]=se.useState(!1),[b,v]=se.useState({id:(null==t?void 0:t.id)||"",name:(null==t?void 0:t.name)||"",email:(null==t?void 0:t.email)||"",password:"",phone:"",state:"",address:"",city:"",zip_code:"",company:"",role:(null==t?void 0:t.role)||"admin",status:"active",is_banned:!1,is_email_verified:!0,avatar:null,avatarPreview:null}),[f,N]=se.useState([]),[w,k]=se.useState(""),[C,A]=se.useState("all"),[S,T]=se.useState("all"),[M,U]=se.useState("name-asc"),[D,P]=se.useState([]),[L,_]=se.useState([]),[B,F]=se.useState([]),[$,R]=se.useState(null),[E,H]=se.useState(""),[V,z]=se.useState([]),[I,O]=se.useState(""),[q,G]=se.useState("all"),[W,Y]=se.useState("latest"),[J,K]=se.useState([]),[Q,Z]=se.useState(!0),[X,ee]=se.useState(null),[ne,we]=se.useState(!1),[ke,Se]=se.useState(!1),[Te,Ue]=se.useState({totalUsers:0,totalViews:0,totalArticles:0,totalVideos:0,totalBooks:0,totalSuggestions:0,totalAboutUs:0,totalContactMessages:0,monthlyGrowth:0,weeklyGrowth:0,avgRating:0}),[De,Le]=se.useState([]),[_e,Be]=se.useState([]),[Fe,qe]=se.useState({articles:[],techniques:[],books:[],suggestions:[],videos:[],tools:[],pots:[],accessories:[],"about-us":[]});se.useEffect(()=>{const e=e=>{e.target.closest(".avatar-dropdown")||Se(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[ke]);const Ge=e=>{if(!e)return"Unknown time";const t=new Date,a=new Date(e),s=Math.floor((t.getTime()-a.getTime())/6e4);if(1>s)return"Just now";if(60>s)return s+" minutes ago";const r=Math.floor(s/60);if(24>r)return r+" hours ago";const l=Math.floor(r/24);return 7>l?l+" days ago":Math.floor(l/7)+" weeks ago"},We=e=>e.includes("minutes ago")?parseInt(e.replace(" minutes ago","")):e.includes("hours ago")?60*parseInt(e.replace(" hours ago","")):e.includes("days ago")?1440*parseInt(e.replace(" days ago","")):e.includes("weeks ago")?10080*parseInt(e.replace(" weeks ago","")):999999,Ye=()=>d(void 0,null,function*(){Z(!0),ee(null);try{const e=(e,...t)=>d(void 0,[e,...t],function*(e,t=[]){try{const a=yield e();return a&&a.success&&Array.isArray(a.data)?a.data:Array.isArray(a)?a:a&&a.data&&Array.isArray(a.data)?a.data:Array.isArray(t)?t:[]}catch(a){return Array.isArray(t)?t:[]}}),[t,a,s,r,l]=yield Promise.all([e(()=>oe.getPublic(),[]),e(()=>de.getPublic(),[]),e(()=>ce.getAll(),[]),e(()=>xe.getAll(),[]),Promise.resolve([])]),i=s.filter(e=>"book"===e.category),n=s.filter(e=>"tool"===e.category),o=s.filter(e=>"pot"===e.category),c=s.filter(e=>"accessory"===e.category),x=s.filter(e=>"suggestion"===e.category);_(Array.isArray(t)?t.map(Re):[]),F(Array.isArray(a)?a.map(Ee):[]),z([...Array.isArray(n)?n.map(Ve):[],...Array.isArray(o)?o.map(ze):[],...Array.isArray(c)?c.map(Ie):[],...Array.isArray(x)?x.map(Oe):[],...Array.isArray(i)?i.map(He):[]]),K(r),N(l);const g=Array.isArray(t)?t.length:0,m=Array.isArray(a)?a.length:0,h=Array.isArray(i)?i.length:0,u=Array.isArray(n)?n.length:0,p=Array.isArray(o)?o.length:0,y=Array.isArray(c)?c.length:0,b=Array.isArray(x)?x.length:0,v=0,j=Array.isArray(r)?r.length:0,f=Array.isArray(l)?l.length:0,w=[...Array.isArray(t)?t:[],...Array.isArray(a)?a:[],...Array.isArray(i)?i:[],...Array.isArray(n)?n:[],...Array.isArray(o)?o:[],...Array.isArray(c)?c:[],...Array.isArray(x)?x:[]].reduce((e,t)=>e+(t.views||0),0),k=[...Array.isArray(i)?i:[],...Array.isArray(x)?x:[],...Array.isArray(c)?c:[],...Array.isArray(n)?n:[]].filter(e=>e.rating&&e.rating>0),C=k.length>0?k.reduce((e,t)=>e+(t.rating||0),0)/k.length:0,A=g+m+h+b+u+p+y;Ue({totalUsers:f,totalViews:w,totalArticles:g,totalVideos:m,totalBooks:h,totalSuggestions:b,totalAboutUs:v,totalContactMessages:j,monthlyGrowth:A>0?12.5:0,weeklyGrowth:A>0?8.3:0,avgRating:C,totalTools:u,totalPots:p,totalAccessories:y});const S=[];Array.isArray(t)&&t.length>0&&t.sort((e,t)=>new Date(t.created_at||t.updated_at||0).getTime()-new Date(e.created_at||e.updated_at||0).getTime()).slice(0,2).forEach(e=>{S.push({id:"article-"+e.id,action:"New article published: "+e.title,user:"Admin",time:Ge(e.created_at||e.updated_at),type:"content"})}),Array.isArray(a)&&a.length>0&&a.sort((e,t)=>new Date(t.created_at||t.updated_at||0).getTime()-new Date(e.created_at||e.updated_at||0).getTime()).slice(0,1).forEach(e=>{S.push({id:"video-"+e.id,action:"Video uploaded: "+e.title,user:"Admin",time:Ge(e.created_at||e.updated_at),type:"media"})}),Array.isArray(s)&&s.length>0&&s.sort((e,t)=>new Date(t.created_at||t.updated_at||0).getTime()-new Date(e.created_at||e.updated_at||0).getTime()).slice(0,2).forEach(e=>{S.push({id:"product-"+e.id,action:`New ${e.category} added: ${e.name}`,user:"Admin",time:Ge(e.created_at||e.updated_at),type:"content"})});const T=S.sort((e,t)=>We(e.time)-We(t.time)).slice(0,5);Le(T);const M=[...Array.isArray(t)?t.map(Re):[],...Array.isArray(a)?a.map(Ee):[],...Array.isArray(i)?i.map(He):[],...Array.isArray(n)?n.map(Ve):[],...Array.isArray(o)?o.map(ze):[],...Array.isArray(c)?c.map(Ie):[],...Array.isArray(x)?x.map(Oe):[]],U=M.filter(e=>(e.views||0)>0).sort((e,t)=>(t.views||0)-(e.views||0)).slice(0,5).map(e=>({id:e.id,title:e.title,views:e.views||0,likes:e.likes||0,type:e.category.toLowerCase()}));if(0===U.length){const e=M.sort((e,t)=>{const a=new Date(e.createdAt||e.updatedAt||0).getTime();return new Date(t.createdAt||t.updatedAt||0).getTime()-a}).slice(0,5).map(e=>({id:e.id,title:e.title,views:e.views||0,likes:e.likes||0,type:e.category.toLowerCase()}));Be(e)}else Be(U)}catch(e){}finally{Z(!1)}});se.useEffect(()=>{t&&(Ye(),d(void 0,null,function*(){try{qe({articles:["General","Techniques","Tips"],techniques:["Watering","Pruning","Repotting"],books:["Gardening","Plant Care","Botany"],suggestions:["Tools","Accessories","Books"],videos:["Tutorials","Reviews","Tips"],tools:["Hand Tools","Power Tools","Measuring"],pots:["Clay","Plastic","Ceramic"],accessories:["Stakes","Labels","Watering"],"about-us":["Company","Team","Mission"]})}catch(e){}}))},[t]);const Je=f.filter(e=>{const t=e.name.toLowerCase().includes(w.toLowerCase())||e.email.toLowerCase().includes(w.toLowerCase()),a="all"===C||e.status===C,s="all"===S||e.role===S;return t&&a&&s}),Ke=e=>d(void 0,null,function*(){try{if($)switch(E){case"articles":yield oe.update($.id,e);break;case"videos":yield de.update($.id,e);break;case"books":yield pe.update($.id,e);break;case"tools":yield ue.update($.id,e);break;case"pots":yield he.update($.id,e);break;case"accessories":yield me.update($.id,e);break;case"suggestions":yield ge.update($.id,e);break;default:return}else switch(E){case"articles":yield oe.create(e);break;case"videos":yield de.create(e);break;case"books":yield pe.create(e);break;case"tools":yield ue.create(e);break;case"pots":yield he.create(e);break;case"accessories":yield me.create(e);break;case"suggestions":yield ge.create(e);break;default:return}y(!1),yield Ye()}catch(t){alert("Failed to save content. Please try again.")}}),Qe=(e,t)=>{v(a=>o(n({},a),{[e]:t}))},Ze=()=>d(void 0,null,function*(){try{const e=new FormData;Object.entries(b).forEach(([t,a])=>{null!=a&&("avatar"===t&&a instanceof File?e.append("avatar",a):"avatarPreview"!==t&&e.append(t,a.toString()))}),yield ye.updateUserProfile(e),alert("User profile updated successfully!"),yield Ye()}catch(e){alert("Failed to save user profile. Please try again.")}}),Xe=e=>{var t;const a=null==(t=e.target.files)?void 0:t[0];if(a&&(e=>["image/jpeg","image/jpg","image/png","image/gif"].includes(e.type)?3145728>=e.size||(alert("File size must be less than 3MB"),!1):(alert("Please select a valid image file (JPEG, JPG, PNG, GIF)"),!1))(a)){const e=new FileReader;e.onload=e=>{v(t=>{var s;return o(n({},t),{avatar:a,avatarPreview:null==(s=e.target)?void 0:s.result})})},e.readAsDataURL(a)}},et=()=>{v(e=>o(n({},e),{avatar:null,avatarPreview:null}))},tt=e=>{if(!e)return void r("user-list");const t=e;v({id:t.id,name:t.name,email:t.email,password:"",phone:"",state:"",address:"",city:"",zip_code:"",company:"",role:t.role||"user",status:t.status||"active",is_banned:"banned"===t.status,is_email_verified:!0,avatar:null,avatarPreview:null}),r("user-profile")},at=e=>d(void 0,null,function*(){try{const t=new FormData;Object.entries(e).forEach(([e,a])=>{null!=a&&("avatar"===e&&a instanceof File?t.append("avatar",a):"avatarPreview"!==e&&"confirmPassword"!==e&&t.append(e,a))}),yield ye.createUser(t),alert("User created successfully!"),yield Ye(),r("user-list")}catch(t){alert("Failed to create user. Please try again.")}}),st=e=>d(void 0,null,function*(){if(confirm("Are you sure you want to delete this user?"))try{yield ye.deleteUser(e),alert("User deleted successfully!"),yield Ye()}catch(t){alert("Failed to delete user. Please try again.")}}),rt=()=>d(void 0,null,function*(){try{const e=yield ye.getAll();e.data&&N(e.data)}catch(e){}});return t?"admin"!==t.role&&"moderator"!==t.role?u.jsx("div",{className:"min-h-screen flex items-center justify-center "+(a?"bg-gray-900":"bg-emerald-50"),children:u.jsx(le,{className:"text-center p-8 max-w-md",children:u.jsxs(p.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-emerald-200 border-t-emerald-600 mx-auto mb-6"}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx(te,{className:"h-8 w-8 text-emerald-600"})})]}),u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Checking Permissions..."}),u.jsx("p",{className:"text-gray-600",children:"Verifying your access rights to the admin dashboard."})]})})}):Q?u.jsx("div",{className:"min-h-screen flex items-center justify-center "+(a?"bg-gray-900":"bg-emerald-50"),children:u.jsx(le,{className:"text-center p-8 max-w-md",children:u.jsxs(p.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:[u.jsx("div",{className:"bg-red-100 p-4 rounded-full w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:u.jsx(ae,{className:"h-10 w-10 text-red-500"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Loading Dashboard"}),u.jsx("p",{className:"text-gray-600",children:"Please wait while we load your dashboard data..."})]})})}):u.jsxs("div",{className:"min-h-screen "+(a?"bg-gray-900":"bg-gray-50"),children:[u.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[u.jsx(p.div,{className:"absolute top-1/4 left-1/4 w-96 h-96 rounded-full blur-3xl "+(a?"bg-gradient-to-br from-emerald-600/8 via-green-500/10 to-teal-600/6":"bg-gradient-to-br from-emerald-300/10 via-green-200/15 to-teal-300/10"),animate:{x:[-100,100,-100],y:[50,-50,50],scale:[1.2,.8,1.2],rotate:[0,360,-360]},transition:{duration:30,repeat:1/0,ease:"easeInOut"}}),u.jsx(p.div,{className:"absolute top-2/3 right-1/4 w-64 h-64 rounded-full blur-3xl "+(a?"bg-gradient-to-bl from-emerald-600/8 via-green-500/10 to-teal-600/6":"bg-gradient-to-bl from-emerald-300/10 via-green-200/15 to-teal-300/10"),animate:{x:[100,-100,100],y:[50,-50,50],scale:[1.2,.8,1.2],rotate:[0,-360,-720]},transition:{duration:28,repeat:1/0,ease:"easeInOut"}}),[...[,,,,,,]].map((e,t)=>u.jsx("div",{className:"absolute w-2 h-2 rounded-full "+(a?"bg-emerald-400/20":"bg-emerald-300/30"),style:{left:20+15*t+"%",top:30+10*t+"%"}},t))]}),u.jsxs("div",{className:"relative z-20 flex min-h-screen",children:[u.jsx(be,{activeTab:s,onTabChange:r,stats:Te,isCollapsed:ne,onToggle:()=>we(!ne),userRole:(null==t?void 0:t.role)||"admin"}),u.jsxs("div",{className:"flex-1 p-6",children:[u.jsx("div",{className:`lg:hidden ${a?"bg-gray-900 border-b border-gray-700":"bg-white border-b border-gray-200"} shadow-sm`,children:u.jsxs("div",{className:"flex items-center justify-between p-4",children:[u.jsx("h1",{className:"text-xl font-bold "+(a?"text-white":"text-gray-800"),children:"Admin Panel"}),u.jsx("div",{className:"flex items-center space-x-2",children:u.jsxs("select",{value:s,onChange:e=>r(e.target.value),className:"px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(a?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:[u.jsx("option",{value:"overview",children:"Overview"}),u.jsx("option",{value:"articles",children:"Articles"}),u.jsx("option",{value:"techniques",children:"Techniques"}),u.jsx("option",{value:"books",children:"Books"}),u.jsx("option",{value:"videos",children:"Videos"}),u.jsx("option",{value:"suggestions",children:"Suggestions"}),u.jsx("option",{value:"tools",children:"Tools"}),u.jsx("option",{value:"pots",children:"Pots"}),u.jsx("option",{value:"accessories",children:"Accessories"}),u.jsx("option",{value:"users",children:"Users"}),u.jsx("option",{value:"messages",children:"Messages"})]})})]})}),u.jsxs("div",{className:"p-6 space-y-8",children:[X&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),u.jsxs("div",{className:"ml-3",children:[u.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading data"}),u.jsx("div",{className:"mt-2 text-sm text-red-700",children:u.jsx("p",{children:"Some data could not be loaded from the server. The dashboard will show available data."})})]})]})}),Q&&u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsxs("svg",{className:"animate-spin h-5 w-5 text-blue-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),u.jsxs("div",{className:"ml-3",children:[u.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Loading dashboard data..."}),u.jsx("div",{className:"mt-2 text-sm text-blue-700",children:u.jsx("p",{children:"Please wait while we fetch the latest data."})})]})]})}),u.jsx(p.div,{className:"mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold "+(a?"text-white":"text-gray-800"),children:"overview"===s?"Dashboard Overview":"content-list"===s?"All Content List":"content-details"===s?"Content Details":"content-create"===s?"Create Content":"content-edit"===s?"Edit Content":"product-list"===s?"All Products List":"product-details"===s?"Product Details":"product-create"===s?"Create Product":"product-edit"===s?"Edit Product":"articles"===s?"Articles Management":"techniques"===s?"Techniques Management":"books"===s?"Books Management":"videos"===s?"Videos Management":"suggestions"===s?"Suggestions Management":"tools"===s?"Tools Management":"pots"===s?"Pots Management":"accessories"===s?"Accessories Management":"users"===s?"Users Management":"user-profile"===s?"User Profile":"user-list"===s?"All Users List":"user-create"===s?"Create User":"messages"===s?"Messages Management":"Admin Panel"}),u.jsxs("p",{className:"mt-2 "+(a?"text-gray-400":"text-gray-600"),children:["Welcome back, ",u.jsx("span",{className:"font-semibold text-emerald-500",children:t.name}),"!"]})]}),u.jsxs("div",{className:`flex items-center space-x-4 ${a?"bg-gray-800":"bg-white"} rounded-xl p-4 shadow-lg mt-4`,children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),u.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 "+(a?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500")})]}),u.jsxs("div",{className:"relative avatar-dropdown",children:[u.jsx("button",{onClick:()=>Se(!ke),className:"flex items-center space-x-2 p-1 rounded-full hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-emerald-500",children:u.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white font-semibold text-sm",children:(null==(e=null==t?void 0:t.name)?void 0:e.charAt(0).toUpperCase())||"A"})}),ke&&u.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:u.jsxs("div",{className:"py-2",children:[u.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:u.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["ð Hey, ",(null==t?void 0:t.name)||"Admin"]})}),u.jsx("button",{onClick:()=>{r("user-profile"),Se(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Profile Settings"}),u.jsx("button",{onClick:()=>{Se(!1),window.location.href="/"},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"Log Out"})]})})]})]})]})}),"overview"===s&&u.jsx(je,{stats:Te,isDarkMode:a}),"overview"===s&&u.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:u.jsx(ve,{stats:Te,onNavigate:(e,t)=>{"content"===e&&("create-article"===t?(r("content-create"),H("article")):"create-video"===t?(r("content-create"),H("video")):"create-product"===t&&r("product-create"))}})}),"overview"===s&&u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsx(fe,{recentActivity:De,isDarkMode:a}),u.jsx(Ne,{topContent:_e,isDarkMode:a})]}),"users"===s&&u.jsx(Ce,{activeTab:s,user:t,userProfile:b,users:f,userSearchTerm:w,userStatusFilter:C,userRoleFilter:S,userSortBy:M,selectedUsers:D,filteredUsers:Je,isDarkMode:a,onUserProfileChange:Qe,onSaveUserProfile:Ze,onAvatarUpload:Xe,onRemoveAvatar:et,onLoadUsers:rt,onUserStatusFilterChange:A,onUserRoleFilterChange:T,onUserSortByChange:U,onUserSearchTermChange:k,onSelectedUsersChange:P,onEditUser:tt,onDeleteUser:st,onCreateUser:at}),"user-profile"===s&&"admin"===(null==t?void 0:t.role)&&u.jsx(Ce,{activeTab:s,user:t,userProfile:b,users:f,userSearchTerm:w,userStatusFilter:C,userRoleFilter:S,userSortBy:M,selectedUsers:D,filteredUsers:Je,isDarkMode:a,onUserProfileChange:Qe,onSaveUserProfile:Ze,onAvatarUpload:Xe,onRemoveAvatar:et,onLoadUsers:rt,onUserStatusFilterChange:A,onUserRoleFilterChange:T,onUserSortByChange:U,onUserSearchTermChange:k,onSelectedUsersChange:P,onEditUser:tt,onDeleteUser:st,onCreateUser:at}),"user-list"===s&&"admin"===(null==t?void 0:t.role)&&u.jsx(Ce,{activeTab:s,user:t,userProfile:b,users:f,userSearchTerm:w,userStatusFilter:C,userRoleFilter:S,userSortBy:M,selectedUsers:D,filteredUsers:Je,isDarkMode:a,onUserProfileChange:Qe,onSaveUserProfile:Ze,onAvatarUpload:Xe,onRemoveAvatar:et,onLoadUsers:rt,onUserStatusFilterChange:A,onUserRoleFilterChange:T,onUserSortByChange:U,onUserSearchTermChange:k,onSelectedUsersChange:P,onEditUser:tt,onDeleteUser:st,onCreateUser:at}),"user-create"===s&&"admin"===(null==t?void 0:t.role)&&u.jsx(Ce,{activeTab:s,user:t,userProfile:b,users:f,userSearchTerm:w,userStatusFilter:C,userRoleFilter:S,userSortBy:M,selectedUsers:D,filteredUsers:Je,isDarkMode:a,onUserProfileChange:Qe,onSaveUserProfile:Ze,onAvatarUpload:Xe,onRemoveAvatar:et,onLoadUsers:rt,onUserStatusFilterChange:A,onUserRoleFilterChange:T,onUserSortByChange:U,onUserSearchTermChange:k,onSelectedUsersChange:P,onEditUser:tt,onDeleteUser:st,onCreateUser:at}),"messages"===s&&u.jsx(Ae,{contactMessages:J,isDarkMode:a,onMessageStatusChange:(e,t)=>d(void 0,null,function*(){try{yield xe.updateContactMessage(e,{status:t}),yield Ye()}catch(a){alert("Failed to update message status. Please try again.")}}),onDeleteMessage:e=>d(void 0,null,function*(){if(confirm("Are you sure you want to delete this message?"))try{yield xe.deleteContactMessage(e),alert("Message deleted successfully!"),yield Ye()}catch(t){alert("Failed to delete message. Please try again.")}})}),["articles","videos","content-list","content-create","content-edit"].includes(s)&&u.jsx(Pe,{activeTab:s,contentData:[...L,...B],categories:{Technique:[],Video:[]},searchTerm:l,selectedCategory:c,sortBy:g,isDarkMode:a,editingItem:$,onSearchTermChange:i,onSelectedCategoryChange:x,onSortByChange:m,onEdit:(e,t)=>((e,t)=>{e?(H(t),R(e),r("content-edit")):(R(null),r(t))})(e,t||s),onDelete:(e,t)=>d(void 0,null,function*(){if(confirm("Are you sure you want to delete this item?"))try{switch(t){case"articles":yield oe.delete(e);break;case"videos":yield de.delete(e);break;case"books":yield pe.delete(e);break;case"tools":yield ue.delete(e);break;case"pots":yield he.delete(e);break;case"accessories":yield me.delete(e);break;case"suggestions":yield ge.delete(e);break;default:return}yield Ye()}catch(a){alert("Failed to delete item. Please try again.")}}),onView:e=>{},onCreate:Ke}),["product-list","product-create","product-edit","tools","pots","accessories","books","suggestions"].includes(s)&&u.jsx($e,{activeTab:s,isDarkMode:a,products:V,searchTerm:I,setSearchTerm:O,selectedCategory:q,setSelectedCategory:G,sortBy:W,setSortBy:Y,onEdit:e=>d(void 0,null,function*(){var t;try{let a;switch(null==(t=e.category)?void 0:t.toLowerCase()){case"tool":a=yield ue.update(e.id,e);break;case"pot":a=yield he.update(e.id,e);break;case"accessory":a=yield me.update(e.id,e);break;case"suggestion":a=yield ge.update(e.id,e);break;case"book":a=yield pe.update(e.id,e);break;default:return}yield Ye()}catch(a){alert("Failed to update product. Please try again.")}}),onDelete:(e,t)=>d(void 0,null,function*(){if(confirm("Are you sure you want to delete this product?"))try{switch(null==t?void 0:t.toLowerCase()){case"tool":yield ue.delete(e);break;case"pot":yield he.delete(e);break;case"accessory":yield me.delete(e);break;case"suggestion":yield ge.delete(e);break;case"book":yield pe.delete(e);break;default:return}yield Ye()}catch(a){alert("Failed to delete product. Please try again.")}}),onView:e=>{},onCreate:e=>d(void 0,null,function*(){var t;try{let a;switch(null==(t=e.category)?void 0:t.toLowerCase()){case"tool":a=yield ue.create(e);break;case"pot":a=yield he.create(e);break;case"accessory":a=yield me.create(e);break;case"suggestion":a=yield ge.create(e);break;case"book":a=yield pe.create(e);break;default:return}yield Ye()}catch(a){alert("Failed to create product. Please try again.")}}),categories:["Tool","Pot","Accessory","Suggestion","Book"]}),u.jsx(j,{children:h&&u.jsx(p.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:u.jsx(p.div,{className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto rounded-xl p-6 "+(a?"bg-gray-800":"bg-white"),initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:u.jsx(Me,{type:E,item:$,categories:Fe[E]||[],onSave:Ke,onCancel:()=>y(!1),isDarkMode:a})})})})]})]})]})]}):u.jsx("div",{className:"min-h-screen flex items-center justify-center "+(a?"bg-gray-900":"bg-emerald-50"),children:u.jsx(le,{className:"text-center p-8 max-w-md",children:u.jsxs(p.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:[u.jsx("div",{className:"bg-red-100 p-4 rounded-full w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:u.jsx(te,{className:"h-10 w-10 text-red-500"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Access Denied"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be logged in to access the admin dashboard."}),u.jsx("a",{href:"/login",className:"bg-emerald-500 text-white px-6 py-3 rounded-lg hover:bg-emerald-600 transition-colors",children:"Go to Login"})]})})})};export{qe as default};
