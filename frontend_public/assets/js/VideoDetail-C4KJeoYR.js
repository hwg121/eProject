import{j as t}from"./ui-Bln5Vyqg.js";import{r as e}from"./react-vendor-fyEEdwzy.js";import{D as s}from"./DetailPage-2Le2_wqp.js";import{L as i}from"./index-BX3DrXSm.js";import{f as n}from"./slug-BijzlL0q.js";import{publicService as l}from"./api-5sIxgNLe.js";import{c as o,a as r}from"./router-Bbvpjt6s.js";import"./utils-DJ3F8jC_.js";const a=()=>{const{slug:a}=o(),d=r(),[c,m]=e.useState(null),[u,g]=e.useState(!0),[p,h]=e.useState(null);return e.useEffect(()=>{var t;a&&(t=function*(){var t;try{g(!0);try{const e=yield l.getVideos(),s=n(e,a,"slug","title");if(s){const e={id:(null==(t=s.id)?void 0:t.toString())||a,title:s.title||"",description:s.description||"",content:s.content||s.transcript||"",author:s.author||s.instructor||"",publishedAt:s.published_at||s.created_at||(new Date).toISOString(),tags:s.tags||s.categories||[],views:s.views||0,likes:s.likes||0,duration:s.duration||"",videoUrl:s.video_url||"",embedUrl:s.embed_url||""};return void m(e)}}catch(e){return void h("Failed to load video from server")}h("Video not found")}catch(s){h("Failed to load video")}finally{g(!1)}},new Promise((e,s)=>{var i=e=>{try{l(t.next(e))}catch(i){s(i)}},n=e=>{try{l(t.throw(e))}catch(i){s(i)}},l=t=>t.done?e(t.value):Promise.resolve(t.value).then(i,n);l((t=t.apply(void 0,null)).next())}))},[a]),u?t.jsx(i,{}):p||!c?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-emerald-800 mb-4",children:"Video not found"}),t.jsx("button",{onClick:()=>d("/videos"),className:"px-6 py-3 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors",children:"Back to Videos"})]})}):t.jsx(s,{type:"video",title:c.title,description:c.description,content:`\n        <h2>Video Information</h2>\n        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">\n          <div>\n            <h3 class="text-xl font-semibold mb-4">Basic Details</h3>\n            <ul class="space-y-2">\n              <li><strong>Instructor:</strong> ${c.author}</li>\n              <li><strong>Duration:</strong> ${c.duration}</li>\n              <li><strong>Views:</strong> ${c.views.toLocaleString()}</li>\n              <li><strong>Likes:</strong> ${c.likes.toLocaleString()}</li>\n            </ul>\n          </div>\n          <div>\n            <h3 class="text-xl font-semibold mb-4">Video Stats</h3>\n            <ul class="space-y-2">\n              <li><strong>Published:</strong> ${new Date(c.publishedAt).toLocaleDateString()}</li>\n              <li><strong>Category:</strong> Gardening Tutorial</li>\n              <li><strong>Difficulty:</strong> All Levels</li>\n              <li><strong>Language:</strong> English</li>\n            </ul>\n          </div>\n        </div>\n        \n        <h3 class="text-xl font-semibold mb-4">Video Description</h3>\n        <p class="mb-6">${c.description}</p>\n        \n        <h3 class="text-xl font-semibold mb-4">What You'll Learn</h3>\n        <ul class="space-y-2 mb-6">\n          <li class="flex items-center"><span class="text-emerald-600 mr-2">✓</span>Step-by-step gardening techniques</li>\n          <li class="flex items-center"><span class="text-emerald-600 mr-2">✓</span>Visual demonstrations and examples</li>\n          <li class="flex items-center"><span class="text-emerald-600 mr-2">✓</span>Professional tips and tricks</li>\n          <li class="flex items-center"><span class="text-emerald-600 mr-2">✓</span>Common mistakes to avoid</li>\n        </ul>\n      `,author:c.author,publishedAt:c.publishedAt,tags:c.tags,views:c.views||0,likes:c.likes||0,backUrl:"/videos",rating:0,contentId:parseInt(c.id),duration:c.duration,videoUrl:c.videoUrl,embedUrl:c.embedUrl,images:[],relatedContent:[]})};export{a as default};
