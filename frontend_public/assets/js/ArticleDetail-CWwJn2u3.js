import{j as e,m as t}from"./ui-rChtIiB6.js";import{r as i}from"./react-vendor-Dr4n66tC.js";import{D as a}from"./DetailPage-BggrP5le.js";import{p as r}from"./api-ClnZCBU8.js";import{L as l}from"./index-Bjlkjo5_.js";import{f as n}from"./slug-BijzlL0q.js";import{c as o,a as s}from"./router-bS1xvxPY.js";const c=()=>{const{slug:c}=o(),d=s(),[m,p]=i.useState(null),[u,h]=i.useState(!0),[g,x]=i.useState(null);return i.useEffect(()=>{var e;c&&(e=function*(){var e,t;try{h(!0);try{const i=yield r.getArticles(),a=n(i,c,"slug","title");if(a){const i={id:(null==(e=a.id)?void 0:e.toString())||c,title:a.title||"Untitled Article",content:a.body||a.content||"<p>No content available.</p>",excerpt:a.excerpt||a.description||"No description available.",author:(null==(t=a.author)?void 0:t.name)||a.author||"Unknown Author",publishedAt:a.published_at||a.created_at||(new Date).toISOString(),tags:a.tags||a.categories||["General"],imageUrl:a.image||a.imageUrl||"https://images.pexels.com/photos/1301856/pexels-photo-1301856.jpeg",views:a.views||0,likes:a.likes||0,category:a.category||"General"};return void p(i)}}catch(i){return void x("Failed to load article from server")}x("Article not found")}catch(a){x("Failed to load article")}finally{h(!1)}},new Promise((t,i)=>{var a=t=>{try{l(e.next(t))}catch(a){i(a)}},r=t=>{try{l(e.throw(t))}catch(a){i(a)}},l=e=>e.done?t(e.value):Promise.resolve(e.value).then(a,r);l((e=e.apply(void 0,null)).next())}))},[c]),u?e.jsx(l,{}):g||!m?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-emerald-800 mb-4",children:"Article not found"}),e.jsx("button",{onClick:()=>d("/techniques"),className:"px-6 py-3 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors",children:"Back to Articles"})]})}):e.jsx(a,{type:"article",title:m.title,description:m.excerpt,content:m.content,author:m.author,publishedAt:m.publishedAt,tags:m.tags,imageUrl:m.imageUrl,views:m.views||0,likes:m.likes||0,backUrl:"/techniques",rating:0,contentId:parseInt(m.id),category:m.category,relatedContent:[{id:"2",title:"Container Gardening for Beginners",type:"article",slug:"container-gardening-for-beginners"},{id:"3",title:"Seasonal Planting Calendar",type:"article",slug:"seasonal-planting-calendar"},{id:"4",title:"Organic Pest Control Methods",type:"article",slug:"organic-pest-control-methods"}],children:e.jsx(t.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.5},children:e.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 p-6 rounded-2xl",children:[e.jsx("h3",{className:"text-xl font-bold text-emerald-800 mb-4",children:"Key Takeaways"}),e.jsxs("ul",{className:"space-y-2 text-emerald-700",children:[e.jsx("li",{children:"• Start with healthy soil preparation"}),e.jsx("li",{children:"• Use companion planting for natural pest control"}),e.jsx("li",{children:"• Compost regularly to maintain soil fertility"}),e.jsx("li",{children:"• Choose plants suited to your climate zone"})]})]})})})};export{c as default};
