var t=Object.defineProperty,e=Object.defineProperties,r=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=(e,r,s)=>r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s,u=(t,e)=>{for(var r in e||(e={}))n.call(e,r)&&i(t,r,e[r]);if(s)for(var r of s(e))o.call(e,r)&&i(t,r,e[r]);return t},a=(t,s)=>e(t,r(s)),c=(t,e,r)=>new Promise((s,n)=>{var o=t=>{try{u(r.next(t))}catch(e){n(e)}},i=t=>{try{u(r.throw(t))}catch(e){n(e)}},u=t=>t.done?s(t.value):Promise.resolve(t.value).then(o,i);u((r=r.apply(t,e)).next())});const l=new class{constructor(t){this.token=null,this.baseURL=t,this.token=localStorage.getItem("auth_token")}request(t){return c(this,arguments,function*(t,e={}){const r=`${this.baseURL}${t}`;this.refreshToken();const s=t.includes("/users")||t.includes("/admin/")||t.includes("/auth/logout")||t.includes("/auth/me")||t.includes("/auth/refresh");if(s&&"true"===localStorage.getItem("user_logged_out"))throw Error("User has logged out");const n=e.body instanceof FormData,o=u({headers:u(u(a(u({},n?{}:{"Content-Type":"application/json"}),{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}),this.token&&{Authorization:"Bearer "+this.token}),e.headers)},e);s&&o.headers;try{const e=yield fetch(r,o);if(!e.ok){let t="HTTP "+e.status;try{const r=yield e.json();t=r.message||r.error||t}catch(i){}if(401===e.status)throw localStorage.removeItem("auth_token"),localStorage.setItem("user_logged_out","true"),window.location.href="/login",Error("Authentication failed");throw Error(t)}const s=yield e.json();return t.includes("/upload/")?s:s&&"object"==typeof s&&"data"in s?s.data:s}catch(c){if(c instanceof TypeError)return[];throw c}})}setToken(t){this.token=t,localStorage.setItem("auth_token",t)}refreshToken(){return this.token=localStorage.getItem("auth_token"),this.token}forceRefreshToken(){return this.token=localStorage.getItem("auth_token"),this.token}logout(){this.token=null,localStorage.removeItem("auth_token"),localStorage.removeItem("greengroves_user")}login(t,e){return c(this,null,function*(){throw Error("Demo mode - API not available")})}logout_api(){return c(this,null,function*(){yield this.request("/auth/logout",{method:"POST"}),this.logout()})}getUser(){return c(this,null,function*(){return this.request("/auth/user")})}getDashboardStats(){return c(this,null,function*(){return this.request("/admin/dashboard/stats")})}getArticles(t){return c(this,null,function*(){const e=new URLSearchParams;return t&&Object.entries(t).forEach(([t,r])=>{void 0!==r&&""!==r&&null!==r&&e.append(t,r.toString())}),this.request("/admin/articles?"+e)})}getArticle(t){return c(this,null,function*(){return this.request("/admin/articles/"+t)})}createArticle(t){return c(this,null,function*(){return this.request("/admin/articles",{method:"POST",body:JSON.stringify(t)})})}updateArticle(t,e){return c(this,null,function*(){return this.request("/admin/articles/"+t,{method:"PUT",body:JSON.stringify(e)})})}deleteArticle(t){return c(this,null,function*(){return this.request("/admin/articles/"+t,{method:"DELETE"})})}getVideos(t){return c(this,null,function*(){const e=new URLSearchParams;return t&&Object.entries(t).forEach(([t,r])=>{void 0!==r&&""!==r&&null!==r&&e.append(t,r.toString())}),this.request("/admin/videos?"+e)})}getVideo(t){return c(this,null,function*(){return this.request("/admin/videos/"+t)})}createVideo(t){return c(this,null,function*(){return this.request("/admin/videos",{method:"POST",body:JSON.stringify(t)})})}updateVideo(t,e){return c(this,null,function*(){const r=a(u({},e),{_method:"PUT"});return this.request("/admin/videos/"+t,{method:"POST",body:JSON.stringify(r)})})}deleteVideo(t){return c(this,null,function*(){return this.request("/admin/videos/"+t,{method:"DELETE"})})}getSiteSettings(){return c(this,null,function*(){return this.request("/admin/settings")})}updateSiteSettings(t){return c(this,null,function*(){return this.request("/admin/settings",{method:"PUT",body:JSON.stringify(t)})})}uploadFile(t,e="image"){return c(this,null,function*(){const r=new FormData;return r.append("file",t),r.append("type",e),this.request("/admin/upload",{method:"POST",body:r,headers:u({},this.token&&{Authorization:"Bearer "+this.token})})})}uploadImage(t,e="featured-images",r="video"){return c(this,null,function*(){const s=new FormData;s.append("file",t),s.append("folder",e),s.append("model_type",r);try{const t=yield this.request("/admin/upload/image",{method:"POST",body:s});if(t.success)return t.data.url;throw Error(t.message||"Upload failed")}catch(n){try{const t=yield this.request("/test/upload/image",{method:"POST",body:s});if(t.success)return t.data.url;throw Error(t.message||"Test upload failed")}catch(o){throw o}}})}getPublicArticles(){return c(this,null,function*(){try{return yield this.request("/articles")}catch(t){throw t}})}getPublicVideos(){return c(this,null,function*(){try{return yield this.request("/videos")}catch(t){throw t}})}getPublicTools(){return c(this,null,function*(){try{return yield this.request("/products?category=tool")}catch(t){throw t}})}getPublicBooks(){return c(this,null,function*(){try{return yield this.request("/products?category=book")}catch(t){throw t}})}getPublicEssentials(){return c(this,null,function*(){try{return yield this.request("/essentials")}catch(t){throw t}})}getPublicPots(){return c(this,null,function*(){try{return yield this.request("/products?category=pot")}catch(t){throw t}})}getPublicAccessories(){return c(this,null,function*(){try{return yield this.request("/products?category=accessory")}catch(t){throw t}})}getPublicSuggestions(){return c(this,null,function*(){try{return yield this.request("/products?category=suggestion")}catch(t){throw t}})}getAboutUs(){return c(this,null,function*(){try{return yield this.request("/about-us")}catch(t){return Promise.resolve([])}})}getActiveAboutUs(){return c(this,null,function*(){try{return yield this.request("/about-us/active")}catch(t){return Promise.resolve(null)}})}getAboutUsById(t){return c(this,null,function*(){try{return yield this.request("/about-us/"+t)}catch(e){return Promise.resolve(null)}})}createAboutUs(t){return c(this,null,function*(){try{return yield this.request("/about-us",{method:"POST",body:JSON.stringify(t)})}catch(e){throw e}})}updateAboutUs(t,e){return c(this,null,function*(){try{return yield this.request("/about-us/"+t,{method:"PUT",body:JSON.stringify(e)})}catch(r){throw r}})}deleteAboutUs(t){return c(this,null,function*(){try{return yield this.request("/about-us/"+t,{method:"DELETE"})}catch(e){throw e}})}sendContactMessage(t){return c(this,null,function*(){try{return yield this.request("/contact",{method:"POST",body:JSON.stringify(t)})}catch(e){throw e}})}getContactMessages(){return c(this,null,function*(){try{return yield this.request("/contact-messages")}catch(t){return Promise.resolve([])}})}getContactMessage(t){return c(this,null,function*(){try{return yield this.request("/contact-messages/"+t)}catch(e){return Promise.resolve(null)}})}updateContactMessage(t,e){return c(this,null,function*(){try{return yield this.request("/contact-messages/"+t,{method:"PUT",body:JSON.stringify(e)})}catch(r){throw r}})}deleteContactMessage(t){return c(this,null,function*(){try{return yield this.request("/contact-messages/"+t,{method:"DELETE"})}catch(e){throw e}})}getPublicSeeds(){return c(this,null,function*(){try{return(yield this.request("/api/public/seeds",{method:"GET"})).data}catch(t){return[]}})}getUsers(t){return c(this,null,function*(){const e=new URLSearchParams;return t&&Object.entries(t).forEach(([t,r])=>{void 0!==r&&""!==r&&null!==r&&e.append(t,r.toString())}),this.request("/users?"+e)})}getUserById(t){return c(this,null,function*(){return this.request("/users/"+t)})}createUser(t){return c(this,null,function*(){return this.request("/users",{method:"POST",body:t,headers:u({},this.token&&{Authorization:"Bearer "+this.token})})})}updateUser(t,e){return c(this,null,function*(){return this.request("/users/"+t,{method:"PUT",body:e,headers:u({},this.token&&{Authorization:"Bearer "+this.token})})})}deleteUser(t){return c(this,null,function*(){return this.request("/users/"+t,{method:"DELETE"})})}getUserProfile(){return c(this,null,function*(){return this.request("/user/profile")})}updateUserProfile(t){return c(this,null,function*(){const e=this.baseURL+"/user/profile",r={method:"PUT",body:t,headers:u({Accept:"application/json","X-Requested-With":"XMLHttpRequest"},this.token&&{Authorization:"Bearer "+this.token})};try{const t=yield fetch(e,r);if(!t.ok){if(401===t.status)throw this.logout(),Error("Unauthorized");throw Error("HTTP error! status: "+t.status)}const s=yield t.json();return s&&"object"==typeof s&&"data"in s?s.data:s}catch(s){throw s}})}getProducts(t){return c(this,null,function*(){const e=new URLSearchParams;return t&&Object.entries(t).forEach(([t,r])=>{void 0!==r&&""!==r&&null!==r&&e.append(t,r.toString())}),this.request("/products?"+e)})}getProduct(t){return c(this,null,function*(){return this.request("/products/"+t)})}createProduct(t){return c(this,null,function*(){return this.request("/products",{method:"POST",body:t,headers:u({},this.token&&{Authorization:"Bearer "+this.token})})})}updateProduct(t,e){return c(this,null,function*(){return this.request("/products/"+t,{method:"PUT",body:e,headers:u({},this.token&&{Authorization:"Bearer "+this.token})})})}deleteProduct(t){return c(this,null,function*(){return this.request("/products/"+t,{method:"DELETE"})})}getBooks(t){return c(this,null,function*(){const e=new URLSearchParams;return e.append("category","book"),t&&Object.entries(t).forEach(([t,r])=>{void 0!==r&&""!==r&&null!==r&&e.append(t,r.toString())}),this.request("/products?"+e)})}getBook(t){return c(this,null,function*(){return this.request("/books/"+t)})}createBook(t){return c(this,null,function*(){return this.request("/books",{method:"POST",body:t,headers:u({},this.token&&{Authorization:"Bearer "+this.token})})})}updateBook(t,e){return c(this,null,function*(){return this.request("/books/"+t,{method:"PUT",body:e,headers:u({},this.token&&{Authorization:"Bearer "+this.token})})})}deleteBook(t){return c(this,null,function*(){return this.request("/books/"+t,{method:"DELETE"})})}getTools(t){return c(this,null,function*(){const e=new URLSearchParams;return e.append("category","tool"),t&&Object.entries(t).forEach(([t,r])=>{void 0!==r&&""!==r&&null!==r&&e.append(t,r.toString())}),this.request("/products?"+e)})}getTool(t){return c(this,null,function*(){return this.request("/tools/"+t)})}createTool(t){return c(this,null,function*(){return this.request("/tools",{method:"POST",body:t,headers:u({},this.token&&{Authorization:"Bearer "+this.token})})})}updateTool(t,e){return c(this,null,function*(){return this.request("/tools/"+t,{method:"PUT",body:e,headers:u({},this.token&&{Authorization:"Bearer "+this.token})})})}deleteTool(t){return c(this,null,function*(){return this.request("/tools/"+t,{method:"DELETE"})})}getEssentials(t){return c(this,null,function*(){const e=new URLSearchParams;return e.append("category","tool"),t&&Object.entries(t).forEach(([t,r])=>{void 0!==r&&""!==r&&null!==r&&e.append(t,r.toString())}),this.request("/products?"+e)})}getEssential(t){return c(this,null,function*(){return this.request("/essentials/"+t)})}createEssential(t){return c(this,null,function*(){return this.request("/essentials",{method:"POST",body:t,headers:u({},this.token&&{Authorization:"Bearer "+this.token})})})}updateEssential(t,e){return c(this,null,function*(){return this.request("/essentials/"+t,{method:"PUT",body:e,headers:u({},this.token&&{Authorization:"Bearer "+this.token})})})}deleteEssential(t){return c(this,null,function*(){return this.request("/essentials/"+t,{method:"DELETE"})})}getPots(t){return c(this,null,function*(){const e=new URLSearchParams;return e.append("category","pot"),t&&Object.entries(t).forEach(([t,r])=>{void 0!==r&&""!==r&&null!==r&&e.append(t,r.toString())}),this.request("/products?"+e)})}getPot(t){return c(this,null,function*(){return this.request("/pots/"+t)})}createPot(t){return c(this,null,function*(){return this.request("/pots",{method:"POST",body:t,headers:u({},this.token&&{Authorization:"Bearer "+this.token})})})}updatePot(t,e){return c(this,null,function*(){return this.request("/pots/"+t,{method:"PUT",body:e,headers:u({},this.token&&{Authorization:"Bearer "+this.token})})})}deletePot(t){return c(this,null,function*(){return this.request("/pots/"+t,{method:"DELETE"})})}getAccessories(t){return c(this,null,function*(){const e=new URLSearchParams;return e.append("category","accessory"),t&&Object.entries(t).forEach(([t,r])=>{void 0!==r&&""!==r&&null!==r&&e.append(t,r.toString())}),this.request("/products?"+e)})}getAccessory(t){return c(this,null,function*(){return this.request("/accessories/"+t)})}createAccessory(t){return c(this,null,function*(){return this.request("/accessories",{method:"POST",body:t,headers:u({},this.token&&{Authorization:"Bearer "+this.token})})})}updateAccessory(t,e){return c(this,null,function*(){return this.request("/accessories/"+t,{method:"PUT",body:e,headers:u({},this.token&&{Authorization:"Bearer "+this.token})})})}deleteAccessory(t){return c(this,null,function*(){return this.request("/accessories/"+t,{method:"DELETE"})})}getSuggestions(t){return c(this,null,function*(){const e=new URLSearchParams;return e.append("category","suggestion"),t&&Object.entries(t).forEach(([t,r])=>{void 0!==r&&""!==r&&null!==r&&e.append(t,r.toString())}),this.request("/products?"+e)})}getSuggestion(t){return c(this,null,function*(){return this.request("/suggestions/"+t)})}createSuggestion(t){return c(this,null,function*(){return this.request("/suggestions",{method:"POST",body:t,headers:u({},this.token&&{Authorization:"Bearer "+this.token})})})}updateSuggestion(t,e){return c(this,null,function*(){return this.request("/suggestions/"+t,{method:"PUT",body:e,headers:u({},this.token&&{Authorization:"Bearer "+this.token})})})}deleteSuggestion(t){return c(this,null,function*(){return this.request("/suggestions/"+t,{method:"DELETE"})})}toggleLike(t,e){return c(this,null,function*(){try{return yield this.request("/interactions/like",{method:"POST",body:JSON.stringify({content_type:t,content_id:e})})}catch(r){return{success:!1,message:"Failed to toggle like",error:r instanceof Error?r.message:"Unknown error"}}})}submitRating(t,e,r){return c(this,null,function*(){try{return yield this.request("/interactions/rating",{method:"POST",body:JSON.stringify({content_type:t,content_id:e,rating:r})})}catch(s){return{success:!1,message:"Failed to submit rating",error:s instanceof Error?s.message:"Unknown error"}}})}getUserInteractions(t,e){return c(this,null,function*(){try{return yield this.request(`/interactions/user?content_type=${t}&content_id=${e}`,{method:"GET"})}catch(r){return{success:!1,message:"Failed to get user interactions",error:r instanceof Error?r.message:"Unknown error"}}})}trackView(t,e){return c(this,null,function*(){try{return yield this.request("/interactions/view",{method:"POST",body:JSON.stringify({content_type:t,content_id:e})})}catch(r){return{success:!1,message:"Failed to track view",error:r instanceof Error?r.message:"Unknown error"}}})}getContentStats(t,e){return c(this,null,function*(){try{return yield this.request(`/interactions/stats?content_type=${t}&content_id=${e}`,{method:"GET"})}catch(r){return{success:!1,message:"Failed to get content stats",error:r instanceof Error?r.message:"Unknown error"}}})}trackPageView(t){return c(this,null,function*(){return this.request("/analytics/page-view",{method:"POST",body:JSON.stringify({page:t})})})}getAnalytics(t="30d"){return c(this,null,function*(){return this.request("/admin/analytics?range="+t)})}deleteItem(t,e){return c(this,null,function*(){const r={articles:"/articles",videos:"/videos",books:"/books",tools:"/tools",essentials:"/essentials",pots:"/pots",accessories:"/accessories",suggestions:"/suggestions","about-us":"/about-us"}[e];if(!r)throw Error("Unknown content type: "+e);return this.request(`${r}/${t}`,{method:"DELETE"})})}createItem(t,e){return c(this,null,function*(){const r={articles:"/articles",videos:"/videos",books:"/books",tools:"/tools",essentials:"/essentials",pots:"/pots",accessories:"/accessories",suggestions:"/suggestions","about-us":"/about-us"}[e];if(!r)throw Error("Unknown content type: "+e);return this.request(r,{method:"POST",body:JSON.stringify(t)})})}updateItem(t,e,r){return c(this,null,function*(){const s={articles:"/articles",videos:"/videos",books:"/books",tools:"/tools",essentials:"/essentials",pots:"/pots",accessories:"/accessories",suggestions:"/suggestions","about-us":"/about-us"}[r];if(!s)throw Error("Unknown content type: "+r);return this.request(`${s}/${t}`,{method:"PUT",body:JSON.stringify(e)})})}}("/api"),h={getAll:()=>l.getArticles(),getById:t=>l.getArticle(t),create:t=>l.createArticle(t),update:(t,e)=>l.updateArticle(t,e),delete:t=>l.deleteArticle(t),getPublic:()=>l.getPublicArticles()},d={getAll:()=>l.getVideos(),getById:t=>l.getVideo(t),create:t=>l.createVideo(t),update:(t,e)=>l.updateVideo(t,e),delete:t=>l.deleteVideo(t),getPublic:()=>l.getPublicVideos()},g={getTools:()=>l.getPublicTools(),getArticles:()=>l.getPublicArticles(),getVideos:()=>l.getPublicVideos(),getBooks:()=>l.getPublicBooks(),getEssentials:()=>l.getPublicEssentials(),getSeeds:()=>l.getPublicSeeds(),getPots:()=>l.getPublicPots(),getAccessories:()=>l.getPublicAccessories(),getSuggestions:()=>l.getPublicSuggestions(),getAboutUs:()=>l.getAboutUs(),getActiveAboutUs:()=>l.getActiveAboutUs(),trackPageView:t=>l.trackPageView(t),deleteItem:(t,e)=>l.deleteItem(t,e),createItem:(t,e)=>l.createItem(t,e),updateItem:(t,e,r)=>l.updateItem(t,e,r)},y={getAll:()=>l.getAboutUs(),getActive:()=>l.getActiveAboutUs(),getById:t=>l.getAboutUsById(t),create:t=>l.createAboutUs(t),update:(t,e)=>l.updateAboutUs(t,e),delete:t=>l.deleteAboutUs(t)},p={sendMessage:t=>l.sendContactMessage(t),getAll:()=>l.getContactMessages(),getById:t=>l.getContactMessage(t),update:(t,e)=>l.updateContactMessage(t,e),delete:t=>l.deleteContactMessage(t)},f={toggleLike:(t,e)=>l.toggleLike(t,e),submitRating:(t,e,r)=>l.submitRating(t,e,r),trackView:(t,e)=>l.trackView(t,e),getUserInteractions:(t,e)=>l.getUserInteractions(t,e),getContentStats:(t,e)=>l.getContentStats(t,e)},m={getAll:t=>l.getUsers(t),getById:t=>l.getUserById(t),create:t=>l.createUser(t),update:(t,e)=>l.updateUser(t,e),delete:t=>l.deleteUser(t),getProfile:()=>l.getUserProfile(),updateProfile:t=>l.updateUserProfile(t)},b={getAll:t=>l.getProducts(t),getByCategory:t=>((new URLSearchParams).append("category",t),l.getProducts({category:t})),getById:t=>l.getProduct(t),create:t=>{const e=new FormData;return Object.entries(t).forEach(([t,r])=>{null!=r&&(r instanceof File?e.append(t,r):"object"==typeof r?e.append(t,JSON.stringify(r)):e.append(t,r.toString()))}),l.createProduct(e)},update:(t,e)=>{const r=new FormData;return Object.entries(e).forEach(([t,e])=>{null!=e&&(e instanceof File?r.append(t,e):"object"==typeof e?r.append(t,JSON.stringify(e)):r.append(t,e.toString()))}),l.updateProduct(t,r)},delete:t=>l.deleteProduct(t),getFeatured:()=>l.getProducts()},P={getAll:()=>b.getByCategory("book"),getById:t=>b.getById(t),create:t=>b.create(a(u({},t),{category:"book"})),update:(t,e)=>b.update(t,a(u({},e),{category:"book"})),delete:t=>b.delete(t)},k={getAll:()=>b.getByCategory("tool"),getById:t=>b.getById(t),create:t=>b.create(a(u({},t),{category:"tool"})),update:(t,e)=>b.update(t,a(u({},e),{category:"tool"})),delete:t=>b.delete(t)},q={getAll:()=>b.getByCategory("pot"),getById:t=>b.getById(t),create:t=>b.create(a(u({},t),{category:"pot"})),update:(t,e)=>b.update(t,a(u({},e),{category:"pot"})),delete:t=>b.delete(t)},S={getAll:()=>b.getByCategory("accessory"),getById:t=>b.getById(t),create:t=>b.create(a(u({},t),{category:"accessory"})),update:(t,e)=>b.update(t,a(u({},e),{category:"accessory"})),delete:t=>b.delete(t)},E={getAll:()=>b.getByCategory("suggestion"),getById:t=>b.getById(t),create:t=>b.create(a(u({},t),{category:"suggestion"})),update:(t,e)=>b.update(t,a(u({},e),{category:"suggestion"})),delete:t=>b.delete(t)};export{y as aboutUsService,S as accessoriesService,l as apiClient,h as articlesService,P as booksService,p as contactService,l as default,f as interactionService,q as potsService,b as productService,g as publicService,E as suggestionsService,k as toolsService,m as userService,d as videosService};
