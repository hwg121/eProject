import{j as e,m as t,N as i,C as s,U as a,a6 as l}from"./ui-CMevdwv8.js";import{r}from"./react-vendor-BhZTnVUQ.js";import{D as o}from"./DetailPage-CkA3VJvY.js";import{L as n}from"./index-BpxLFczy.js";import{f as d}from"./slug-BijzlL0q.js";import{p as c}from"./api-BXW0tsBT.js";import{c as m,a as x}from"./router-DDTfc0mm.js";const u=()=>{const{slug:u}=m(),h=x(),[p,v]=r.useState(null),[g,b]=r.useState(!0),[j,f]=r.useState(null);return r.useEffect(()=>{var e;u&&(e=function*(){var e;try{b(!0);try{const t=yield c.getVideos(),i=d(t,u,"slug","title");if(i){const t={id:(null==(e=i.id)?void 0:e.toString())||u,title:i.title||"Untitled Video",description:i.description||"No description available.",content:i.content||i.transcript||"\n                <h2>Video Content</h2>\n                <p>This video covers important gardening techniques and tips.</p>\n              ",author:i.author||i.instructor||"Unknown Author",publishedAt:i.published_at||i.created_at||(new Date).toISOString(),tags:i.tags||i.categories||["General"],imageUrl:i.thumbnail||i.imageUrl||"https://images.pexels.com/photos/416978/pexels-photo-416978.jpeg",views:i.views||0,likes:i.likes||0,duration:i.duration||"12:30",videoUrl:i.embed_url||i.video_url||"https://example.com/video.mp4"};return void v(t)}}catch(t){return void f("Failed to load video from server")}f("Video not found")}catch(i){f("Failed to load video")}finally{b(!1)}},new Promise((t,i)=>{var s=t=>{try{l(e.next(t))}catch(s){i(s)}},a=t=>{try{l(e.throw(t))}catch(s){i(s)}},l=e=>e.done?t(e.value):Promise.resolve(e.value).then(s,a);l((e=e.apply(void 0,null)).next())}))},[u]),g?e.jsx(n,{}):j||!p?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-emerald-800 mb-4",children:"Video not found"}),e.jsx("button",{onClick:()=>h("/videos"),className:"px-6 py-3 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors",children:"Back to Videos"})]})}):e.jsxs(o,{type:"video",title:p.title,description:p.description,content:p.content,author:p.author,publishedAt:p.publishedAt,tags:p.tags,imageUrl:p.imageUrl,views:p.views,likes:p.likes,backUrl:"/videos",rating:4.7,duration:p.duration,relatedContent:[{id:"2",title:"Organic Soil Preparation",type:"video",slug:"organic-soil-preparation"},{id:"3",title:"Pruning Techniques",type:"video",slug:"pruning-techniques"},{id:"4",title:"Watering Systems",type:"video",slug:"watering-systems"}],children:[e.jsx(t.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-black rounded-2xl overflow-hidden",children:e.jsxs("div",{className:"relative aspect-video bg-gradient-to-br from-emerald-900 to-green-900 flex items-center justify-center",children:[e.jsxs(t.button,{className:"flex items-center space-x-3 bg-white/20 backdrop-blur-sm text-white px-8 py-4 rounded-full hover:bg-white/30 transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(i,{className:"h-8 w-8"}),e.jsx("span",{className:"text-xl font-semibold",children:"Play Video"})]}),e.jsx("div",{className:"absolute bottom-4 right-4 bg-black/50 text-white px-3 py-1 rounded-full text-sm font-medium",children:p.duration})]})}),e.jsxs(t.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.6},className:"grid grid-cols-3 gap-4 mt-6",children:[e.jsxs("div",{className:"text-center p-4 bg-emerald-50 rounded-xl",children:[e.jsx(s,{className:"h-6 w-6 text-emerald-600 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-emerald-800",children:p.duration}),e.jsx("div",{className:"text-sm text-emerald-600",children:"Duration"})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-xl",children:[e.jsx(a,{className:"h-6 w-6 text-blue-600 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-blue-800",children:p.views.toLocaleString()}),e.jsx("div",{className:"text-sm text-blue-600",children:"Views"})]}),e.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-xl",children:[e.jsx(l,{className:"h-6 w-6 text-red-600 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-red-800",children:p.likes.toLocaleString()}),e.jsx("div",{className:"text-sm text-red-600",children:"Likes"})]})]})]})};export{u as default};
