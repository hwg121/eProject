import{j as e,m as t}from"./ui-Bln5Vyqg.js";import{r}from"./react-vendor-fyEEdwzy.js";import{D as i}from"./DetailPage-2Le2_wqp.js";import{publicService as a}from"./api-5sIxgNLe.js";import{L as s}from"./index-BX3DrXSm.js";import{f as l}from"./slug-BijzlL0q.js";import{c as o,a as n}from"./router-Bbvpjt6s.js";import"./utils-DJ3F8jC_.js";const c=()=>{const{slug:c}=o(),d=n(),[m,u]=r.useState(null),[p,h]=r.useState(!0),[x,g]=r.useState(null);return r.useEffect(()=>{var e;c&&(e=function*(){var e,t;try{h(!0);try{const r=yield a.getArticles(),i=l(r,c,"slug","title");if(i){const r={id:(null==(e=i.id)?void 0:e.toString())||c,title:i.title||"",content:i.body||i.content||"",excerpt:i.excerpt||i.description||"",author:(null==(t=i.author)?void 0:t.name)||i.author||"",publishedAt:i.published_at||i.created_at||(new Date).toISOString(),tags:i.tags||i.categories||[],imageUrl:i.featured_image||i.cover||"https://images.pexels.com/photos/1301856/pexels-photo-1301856.jpeg",views:i.views||0,likes:i.likes||0,category:i.category||""};return void u(r)}}catch(r){return void g("Failed to load article from server")}g("Article not found")}catch(i){g("Failed to load article")}finally{h(!1)}},new Promise((t,r)=>{var i=t=>{try{s(e.next(t))}catch(i){r(i)}},a=t=>{try{s(e.throw(t))}catch(i){r(i)}},s=e=>e.done?t(e.value):Promise.resolve(e.value).then(i,a);s((e=e.apply(void 0,null)).next())}))},[c]),p?e.jsx(s,{}):x||!m?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-emerald-800 mb-4",children:"Article not found"}),e.jsx("button",{onClick:()=>d("/techniques"),className:"px-6 py-3 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors",children:"Back to Articles"})]})}):e.jsx(i,{type:"article",title:m.title,description:m.excerpt,content:m.content,author:m.author,publishedAt:m.publishedAt,tags:m.tags,imageUrl:m.imageUrl,views:m.views||0,likes:m.likes||0,backUrl:"/techniques",rating:0,contentId:parseInt(m.id),category:m.category,relatedContent:[],children:e.jsx(t.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.5},children:e.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 p-6 rounded-2xl",children:[e.jsx("h3",{className:"text-xl font-bold text-emerald-800 mb-4",children:"Key Takeaways"}),e.jsxs("ul",{className:"space-y-2 text-emerald-700",children:[e.jsx("li",{children:"• Start with healthy soil preparation"}),e.jsx("li",{children:"• Use companion planting for natural pest control"}),e.jsx("li",{children:"• Compost regularly to maintain soil fertility"}),e.jsx("li",{children:"• Choose plants suited to your climate zone"})]})]})})})};export{c as default};
