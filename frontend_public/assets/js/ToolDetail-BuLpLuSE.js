import{j as e,m as t,q as s,v as a}from"./ui-rChtIiB6.js";import{r as i}from"./react-vendor-Dr4n66tC.js";import{D as r}from"./DetailPage-D0FBNA9J.js";import{L as n}from"./index-Cz1zbBro.js";import{f as l}from"./slug-BijzlL0q.js";import{c as o,a as c}from"./router-bS1xvxPY.js";import"./api-DnANlIUR.js";const d=()=>{const{slug:d}=o(),m=c(),[p,x]=i.useState(null),[u,g]=i.useState(!0),[h,f]=i.useState(null);return i.useEffect(()=>{var e;d&&(e=function*(){var e;try{g(!0);try{const t=yield publicService.getTools(),s=l(t,d,"slug","name");if(s){const t={id:(null==(e=s.id)?void 0:e.toString())||d,name:s.name||"Untitled Tool",description:s.description||"No description available.",content:s.content||s.specifications||"\n                <h2>Tool Information</h2>\n                <p>This tool is designed for gardening enthusiasts.</p>\n              ",author:s.author||s.manufacturer||"Unknown Manufacturer",publishedAt:s.created_at||s.updated_at||(new Date).toISOString(),tags:s.tags||s.categories||["General"],imageUrl:s.images_json?JSON.parse(s.images_json)[0]:s.imageUrl||"https://images.pexels.com/photos/416978/pexels-photo-416978.jpeg",views:s.views||0,likes:s.likes||0,price:s.price||0,rating:s.rating||0,brand:s.brand||s.manufacturer||"Unknown Brand",specifications:s.specifications?"string"==typeof s.specifications?s.specifications.split(",").map(e=>e.trim()):s.specifications:["No specifications available"],features:s.features||["Quality construction","Durable materials"]};return void x(t)}}catch(t){return void f("Failed to load data from server")}f("Data not found")}catch(s){f("Failed to load tool")}finally{g(!1)}},new Promise((t,s)=>{var a=t=>{try{r(e.next(t))}catch(a){s(a)}},i=t=>{try{r(e.throw(t))}catch(a){s(a)}},r=e=>e.done?t(e.value):Promise.resolve(e.value).then(a,i);r((e=e.apply(void 0,null)).next())}))},[d]),u?e.jsx(n,{}):h||!p?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-emerald-800 mb-4",children:"Tool not found"}),e.jsx("button",{onClick:()=>m("/tools"),className:"px-6 py-3 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors",children:"Back to Tools"})]})}):e.jsxs(r,{type:"tool",title:p.name,description:p.description,content:p.content,author:p.author,publishedAt:p.publishedAt,tags:p.tags,imageUrl:p.imageUrl,views:p.views||0,likes:p.likes||0,backUrl:"/tools",rating:p.rating||0,contentId:parseInt(p.id),price:p.price,brand:p.brand,category:p.category,inStock:!0,relatedContent:[{id:"2",title:"Premium Pruning Shears",type:"tool",slug:"premium-pruning-shears"},{id:"3",title:"Watering Can Set",type:"tool",slug:"watering-can-set"},{id:"4",title:"Garden Gloves",type:"tool",slug:"garden-gloves"}],children:[e.jsxs(t.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.5},className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 p-6 rounded-2xl",children:[e.jsx("h3",{className:"text-xl font-bold text-emerald-800 mb-4",children:"Pricing & Rating"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-3xl font-bold text-emerald-800",children:["$",p.price]}),e.jsxs("div",{className:"flex items-center",children:[[...[,,,,,]].map((t,a)=>e.jsx(s,{className:"h-5 w-5 "+(a<Math.floor(p.rating)?"text-yellow-400 fill-current":"text-gray-300")},a)),e.jsxs("span",{className:"ml-2 text-emerald-700 font-medium",children:[p.rating,"/5"]})]})]}),e.jsxs("div",{className:"text-sm text-emerald-600",children:["Brand: ",e.jsx("span",{className:"font-semibold",children:p.brand})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-2xl",children:[e.jsx("h3",{className:"text-xl font-bold text-blue-800 mb-4",children:"Specifications"}),e.jsx("ul",{className:"space-y-2",children:p.specifications.map((t,s)=>e.jsxs("li",{className:"flex items-center text-blue-700",children:[e.jsx(a,{className:"h-4 w-4 text-blue-500 mr-2 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:t})]},s))})]})]}),e.jsxs(t.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-gradient-to-r from-purple-50 to-pink-50 p-6 rounded-2xl",children:[e.jsx("h3",{className:"text-xl font-bold text-purple-800 mb-4",children:"Key Features"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:p.features.map((t,s)=>e.jsxs("div",{className:"flex items-center text-purple-700",children:[e.jsx(a,{className:"h-4 w-4 text-purple-500 mr-2 flex-shrink-0"}),e.jsx("span",{children:t})]},s))})]})]})};export{d as default};
