var e=Object.defineProperty,s=Object.defineProperties,r=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,d=(s,r,a)=>r in s?e(s,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[r]=a,i=(e,s)=>{for(var r in s||(s={}))l.call(s,r)&&d(e,r,s[r]);if(a)for(var r of a(s))t.call(s,r)&&d(e,r,s[r]);return e},o=(e,a)=>s(e,r(a)),n=(e,s,r)=>new Promise((a,l)=>{var t=e=>{try{i(r.next(e))}catch(s){l(s)}},d=e=>{try{i(r.throw(e))}catch(s){l(s)}},i=e=>e.done?a(e.value):Promise.resolve(e.value).then(t,d);i((r=r.apply(e,s)).next())});import{j as c,U as m,aj as u,ao as x,an as b,X as g,al as h}from"./ui-DFK0He6I.js";import{r as p}from"./react-vendor-Dr4n66tC.js";import{C as f}from"./index-0olxnDC5.js";import{P as v}from"./PageHeader-BfX8DobC.js";import{aboutUsService as j}from"./api-4njqzwqH.js";import"./router-bS1xvxPY.js";const N=()=>{const[e,s]=p.useState([]),[r,a]=p.useState(!0),[l,t]=p.useState(null),[d,N]=p.useState(!1),[y,k]=p.useState(null),[w,C]=p.useState(!1),[_,A]=p.useState({title:"",subtitle:"",description:"",content:"",image:"",mission:"",vision:"",values:"",team_members:[],achievements:[],contact_email:"",contact_phone:"",address:"",social_links:{facebook:"",instagram:"",youtube:"",tiktok:""},is_active:!0});p.useEffect(()=>{U()},[]);const U=()=>n(void 0,null,function*(){try{a(!0);const e=yield j.getAll();s(e)}catch(e){t("Failed to load about us content")}finally{a(!1)}}),P=(e,s,r)=>{const a=[..._.team_members];a[e]=o(i({},a[e]),{[s]:r}),A(o(i({},_),{team_members:a}))},S=(e,s,r)=>{const a=[..._.achievements];a[e]=o(i({},a[e]),{[s]:r}),A(o(i({},_),{achievements:a}))};return r?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto mb-4"}),c.jsx("p",{className:"text-emerald-600",children:"Loading about us content..."})]}):c.jsxs("div",{className:"space-y-8",children:[c.jsx(v,{title:"Manage About Us",subtitle:"Create and manage about us content",icon:c.jsx(m,{className:"h-10 w-10"})}),l&&c.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:l}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-emerald-800",children:"About Us Content"}),c.jsxs("button",{onClick:()=>{A({title:"",subtitle:"",description:"",content:"",image:"",mission:"",vision:"",values:"",team_members:[],achievements:[],contact_email:"",contact_phone:"",address:"",social_links:{facebook:"",instagram:"",youtube:"",tiktok:""},is_active:!0}),N(!1),k(null),C(!0)},className:"bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700 transition-colors flex items-center space-x-2",children:[c.jsx(u,{className:"h-5 w-5"}),c.jsx("span",{children:"Create New"})]})]}),c.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.map(e=>{var s,r;return c.jsx(f,{className:"p-6",children:c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-emerald-800 mb-2",children:e.title}),c.jsx("p",{className:"text-emerald-600 mb-2",children:e.subtitle}),c.jsx("p",{className:"text-emerald-600 text-sm mb-4",children:e.description}),c.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[c.jsx("span",{className:"px-2 py-1 rounded-full "+(e.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.is_active?"Active":"Inactive"}),c.jsxs("span",{className:"text-emerald-600",children:[(null==(s=e.team_members)?void 0:s.length)||0," team members"]}),c.jsxs("span",{className:"text-emerald-600",children:[(null==(r=e.achievements)?void 0:r.length)||0," achievements"]})]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>(e=>{A(e),N(!0),k(e.id||null),C(!0)})(e),className:"p-2 text-emerald-600 hover:bg-emerald-100 rounded-lg transition-colors",children:c.jsx(x,{className:"h-5 w-5"})}),c.jsx("button",{onClick:()=>{return s=e.id,n(void 0,null,function*(){if(window.confirm("Are you sure you want to delete this about us content?"))try{yield j.delete(s),U()}catch(e){t("Failed to delete about us content")}});var s},className:"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors",children:c.jsx(b,{className:"h-5 w-5"})})]})]})},e.id)})}),w&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h3",{className:"text-2xl font-bold text-emerald-800",children:d?"Edit About Us":"Create About Us"}),c.jsx("button",{onClick:()=>C(!1),className:"p-2 text-gray-500 hover:text-gray-700",children:c.jsx(g,{className:"h-6 w-6"})})]}),c.jsxs("form",{onSubmit:e=>n(void 0,null,function*(){e.preventDefault();try{d&&y?yield j.update(y,_):yield j.create(_),C(!1),U()}catch(s){t("Failed to save about us content")}}),className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-emerald-700 mb-2",children:"Title"}),c.jsx("input",{type:"text",value:_.title,onChange:e=>A(o(i({},_),{title:e.target.value})),className:"w-full px-3 py-2 border border-emerald-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-emerald-700 mb-2",children:"Subtitle"}),c.jsx("input",{type:"text",value:_.subtitle,onChange:e=>A(o(i({},_),{subtitle:e.target.value})),className:"w-full px-3 py-2 border border-emerald-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-emerald-700 mb-2",children:"Description"}),c.jsx("textarea",{value:_.description,onChange:e=>A(o(i({},_),{description:e.target.value})),className:"w-full px-3 py-2 border border-emerald-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",rows:3,required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-emerald-700 mb-2",children:"Content"}),c.jsx("textarea",{value:_.content,onChange:e=>A(o(i({},_),{content:e.target.value})),className:"w-full px-3 py-2 border border-emerald-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",rows:6,required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-emerald-700 mb-2",children:"Image URL"}),c.jsx("input",{type:"url",value:_.image,onChange:e=>A(o(i({},_),{image:e.target.value})),className:"w-full px-3 py-2 border border-emerald-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-emerald-700 mb-2",children:"Mission"}),c.jsx("textarea",{value:_.mission,onChange:e=>A(o(i({},_),{mission:e.target.value})),className:"w-full px-3 py-2 border border-emerald-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",rows:3})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-emerald-700 mb-2",children:"Vision"}),c.jsx("textarea",{value:_.vision,onChange:e=>A(o(i({},_),{vision:e.target.value})),className:"w-full px-3 py-2 border border-emerald-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",rows:3})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-emerald-700 mb-2",children:"Values"}),c.jsx("textarea",{value:_.values,onChange:e=>A(o(i({},_),{values:e.target.value})),className:"w-full px-3 py-2 border border-emerald-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",rows:3})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-emerald-700",children:"Team Members"}),c.jsx("button",{type:"button",onClick:()=>{A(o(i({},_),{team_members:[..._.team_members,{name:"",position:"",image:"",description:""}]}))},className:"bg-emerald-600 text-white px-3 py-1 rounded-lg hover:bg-emerald-700 transition-colors text-sm",children:"Add Member"})]}),c.jsx("div",{className:"space-y-4",children:_.team_members.map((e,s)=>c.jsxs("div",{className:"border border-emerald-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsxs("h4",{className:"font-medium text-emerald-800",children:["Team Member ",s+1]}),c.jsx("button",{type:"button",onClick:()=>(e=>{A(o(i({},_),{team_members:_.team_members.filter((s,r)=>r!==e)}))})(s),className:"text-red-600 hover:text-red-800",children:c.jsx(b,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[c.jsx("input",{type:"text",placeholder:"Name",value:e.name,onChange:e=>P(s,"name",e.target.value),className:"px-3 py-2 border border-emerald-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"}),c.jsx("input",{type:"text",placeholder:"Position",value:e.position,onChange:e=>P(s,"position",e.target.value),className:"px-3 py-2 border border-emerald-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"}),c.jsx("input",{type:"url",placeholder:"Image URL",value:e.image,onChange:e=>P(s,"image",e.target.value),className:"px-3 py-2 border border-emerald-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"}),c.jsx("textarea",{placeholder:"Description",value:e.description,onChange:e=>P(s,"description",e.target.value),className:"px-3 py-2 border border-emerald-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",rows:2})]})]},s))})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-emerald-700",children:"Achievements"}),c.jsx("button",{type:"button",onClick:()=>{A(o(i({},_),{achievements:[..._.achievements,{title:"",description:""}]}))},className:"bg-emerald-600 text-white px-3 py-1 rounded-lg hover:bg-emerald-700 transition-colors text-sm",children:"Add Achievement"})]}),c.jsx("div",{className:"space-y-4",children:_.achievements.map((e,s)=>c.jsxs("div",{className:"border border-emerald-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsxs("h4",{className:"font-medium text-emerald-800",children:["Achievement ",s+1]}),c.jsx("button",{type:"button",onClick:()=>(e=>{A(o(i({},_),{achievements:_.achievements.filter((s,r)=>r!==e)}))})(s),className:"text-red-600 hover:text-red-800",children:c.jsx(b,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("input",{type:"text",placeholder:"Title",value:e.title,onChange:e=>S(s,"title",e.target.value),className:"w-full px-3 py-2 border border-emerald-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"}),c.jsx("textarea",{placeholder:"Description",value:e.description,onChange:e=>S(s,"description",e.target.value),className:"w-full px-3 py-2 border border-emerald-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",rows:2})]})]},s))})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-emerald-700 mb-2",children:"Contact Email"}),c.jsx("input",{type:"email",value:_.contact_email,onChange:e=>A(o(i({},_),{contact_email:e.target.value})),className:"w-full px-3 py-2 border border-emerald-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-emerald-700 mb-2",children:"Contact Phone"}),c.jsx("input",{type:"tel",value:_.contact_phone,onChange:e=>A(o(i({},_),{contact_phone:e.target.value})),className:"w-full px-3 py-2 border border-emerald-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-emerald-700 mb-2",children:"Address"}),c.jsx("input",{type:"text",value:_.address,onChange:e=>A(o(i({},_),{address:e.target.value})),className:"w-full px-3 py-2 border border-emerald-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-emerald-700 mb-2",children:"Facebook URL"}),c.jsx("input",{type:"url",value:_.social_links.facebook,onChange:e=>A(o(i({},_),{social_links:o(i({},_.social_links),{facebook:e.target.value})})),className:"w-full px-3 py-2 border border-emerald-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-emerald-700 mb-2",children:"Instagram URL"}),c.jsx("input",{type:"url",value:_.social_links.instagram,onChange:e=>A(o(i({},_),{social_links:o(i({},_.social_links),{instagram:e.target.value})})),className:"w-full px-3 py-2 border border-emerald-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-emerald-700 mb-2",children:"YouTube URL"}),c.jsx("input",{type:"url",value:_.social_links.youtube,onChange:e=>A(o(i({},_),{social_links:o(i({},_.social_links),{youtube:e.target.value})})),className:"w-full px-3 py-2 border border-emerald-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-emerald-700 mb-2",children:"TikTok URL"}),c.jsx("input",{type:"url",value:_.social_links.tiktok,onChange:e=>A(o(i({},_),{social_links:o(i({},_.social_links),{tiktok:e.target.value})})),className:"w-full px-3 py-2 border border-emerald-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"is_active",checked:_.is_active,onChange:e=>A(o(i({},_),{is_active:e.target.checked})),className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-emerald-300 rounded"}),c.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-emerald-700",children:"Active"})]}),c.jsxs("div",{className:"flex justify-end space-x-4",children:[c.jsx("button",{type:"button",onClick:()=>C(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700 transition-colors flex items-center space-x-2",children:[c.jsx(h,{className:"h-5 w-5"}),c.jsx("span",{children:d?"Update":"Create"})]})]})]})]})})})]})};export{N as default};
